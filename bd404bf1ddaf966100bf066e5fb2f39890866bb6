{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "bf317698_68aa28c2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 3485001
      },
      "writtenOn": "2024-10-04T12:38:30Z",
      "side": 1,
      "message": "If we don\u0027t want to query `trials().IsEnabled(\"WebRTC-EncryptedRtpHeaderExtensions\")` twice we need either:\n1. To make https://source.chromium.org/chromium/chromium/src/+/main:third_party/webrtc/api/crypto/crypto_options.h;l\u003d58;bpv\u003d1;bpt\u003d0 `mutable`\n2. To define a field trial in chromium instead of webrtc.\n\nSo I think this is the best, but please have a look and let me know :)",
      "revId": "bd404bf1ddaf966100bf066e5fb2f39890866bb6",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2eff1c36_d76de193",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5524
      },
      "writtenOn": "2024-10-04T15:09:53Z",
      "side": 1,
      "message": "Agree, parsing twice here is fine. Usually what we want to avoid is parsing the field trials in something that is called frequently, but both of these just look like initializations so that should not be an issue.",
      "parentUuid": "bf317698_68aa28c2",
      "revId": "bd404bf1ddaf966100bf066e5fb2f39890866bb6",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c3a56663_1d33de8c",
        "filename": "experiments/field_trials.py",
        "patchSetId": 2
      },
      "lineNbr": 151,
      "author": {
        "id": 5142
      },
      "writtenOn": "2024-10-07T08:31:50Z",
      "side": 1,
      "message": "Are there A/B plans for this or is this just an opt-in? We can use field trials for experimentations but we should not use it as a flag to turn something on or off, for that we can add booleans to RTCConfiguration or just change the default behavior.\n\nFor the code that says \"if offer was encrypt, answer is also encrypt\" I think we can just change this behavior to default true. It is then up to the offerer about whether or not to turn on encryption.\n\nAs for how the offerer controls this, the app already controls which header extensions to negotiate (either via `setHeaderExtensionsToNegotiate` or via SDP munging) and this decision happens on a per-peer connection basis (not a global config).\n\nSo what is the field trial doing? Is it affecting default behavior of the peer connection?",
      "revId": "bd404bf1ddaf966100bf066e5fb2f39890866bb6",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2d49e2a3_4ddb1940",
        "filename": "experiments/field_trials.py",
        "patchSetId": 2
      },
      "lineNbr": 151,
      "author": {
        "id": 5524
      },
      "writtenOn": "2024-10-07T21:16:11Z",
      "side": 1,
      "message": "This is intended mostly as a kill-switch. \nEven the \"if offer was encrypt, answer is also encrypt\" behavior has some risk since it\u0027s exposing a rather large code path that has never seen production use.\n\nThe idea is to land the flag default-off, and then turn it default on in a CL where we also update some tests to cover that behavior.",
      "parentUuid": "c3a56663_1d33de8c",
      "revId": "bd404bf1ddaf966100bf066e5fb2f39890866bb6",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "50771063_3dc3208e",
        "filename": "experiments/field_trials.py",
        "patchSetId": 2
      },
      "lineNbr": 151,
      "author": {
        "id": 5142
      },
      "writtenOn": "2024-10-08T07:47:47Z",
      "side": 1,
      "message": "OK kill switch is fine by me.",
      "parentUuid": "2d49e2a3_4ddb1940",
      "revId": "bd404bf1ddaf966100bf066e5fb2f39890866bb6",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ],
  "submitRequirementResults": [
    {
      "submitRequirement": {
        "name": "Code-Review",
        "description": {
          "value": "If the author is a webrtc committer, code review is required from one other committer. Otherwise, code review is required from two committers."
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "((uploaderin:cria/project-webrtc-committers AND label:Code-Review\u003dMAX,user\u003dnon_uploader) OR label:Code-Review\u003dMAX,count\u003e\u003d2) AND -label:Code-Review\u003dMIN"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Bot-Commit\u003d+1 AND -label:Code-Review\u003dMIN"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"((uploaderin:cria/project-webrtc-committers AND label:Code-Review=MAX,user=non_uploader) OR label:Code-Review=MAX,count>=2) AND -label:Code-Review=MIN"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:Code-Review=MAX,user=non_uploader","label:Code-Review=MAX,count>=2"],"failingAtoms":["label:Code-Review=MIN","uploaderin:cria/project-webrtc-committers"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Bot-Commit=+1 AND -label:Code-Review=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Bot-Commit=+1","label:Code-Review=MIN"]}
      },
      "patchSetCommitId": "bd404bf1ddaf966100bf066e5fb2f39890866bb6",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Review-Enforcement",
        "description": {
          "value": "Two Google employees must approve the change. Uploading the change or voting positively on Code-Review count as approval. Using a trusted device is required, see go/gerrit-onboarding#review-enforcement."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "is:review-enforced_gerrit"
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:review-enforcement-satisfied_gerrit"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["is:review-enforced_gerrit"],"failingAtoms":[]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforcement-satisfied_gerrit"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["is:review-enforcement-satisfied_gerrit"]}
      },
      "patchSetCommitId": "bd404bf1ddaf966100bf066e5fb2f39890866bb6",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {
        "value": true
      }
    }
  ]
}