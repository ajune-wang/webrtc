{
  "comments": [
    {
      "key": {
        "uuid": "08a26641_66da81bd",
        "filename": "modules/video_coding/nack_module.cc",
        "patchSetId": 8
      },
      "lineNbr": 132,
      "author": {
        "id": 5525
      },
      "writtenOn": "2018-10-30T10:16:33Z",
      "side": 1,
      "message": "-And +Remove",
      "range": {
        "startLine": 132,
        "startChar": 5,
        "endLine": 132,
        "endChar": 10
      },
      "revId": "660de6a1ad94058d27862391797d32244404e9ee",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2d1eefbc_3ac7537b",
        "filename": "modules/video_coding/nack_module.cc",
        "patchSetId": 8
      },
      "lineNbr": 132,
      "author": {
        "id": 6290
      },
      "writtenOn": "2018-10-30T13:10:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "08a26641_66da81bd",
      "range": {
        "startLine": 132,
        "startChar": 5,
        "endLine": 132,
        "endChar": 10
      },
      "revId": "660de6a1ad94058d27862391797d32244404e9ee",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "47216e18_46172fad",
        "filename": "modules/video_coding/nack_module.cc",
        "patchSetId": 8
      },
      "lineNbr": 145,
      "author": {
        "id": 5525
      },
      "writtenOn": "2018-10-30T10:16:33Z",
      "side": 1,
      "message": "Why is this method not returning void?",
      "range": {
        "startLine": 145,
        "startChar": 0,
        "endLine": 145,
        "endChar": 11
      },
      "revId": "660de6a1ad94058d27862391797d32244404e9ee",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0af4745e_14860408",
        "filename": "modules/video_coding/nack_module.cc",
        "patchSetId": 8
      },
      "lineNbr": 145,
      "author": {
        "id": 6290
      },
      "writtenOn": "2018-10-30T13:10:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "47216e18_46172fad",
      "range": {
        "startLine": 145,
        "startChar": 0,
        "endLine": 145,
        "endChar": 11
      },
      "revId": "660de6a1ad94058d27862391797d32244404e9ee",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4ed426bf_989cfbe7",
        "filename": "modules/video_coding/nack_module.cc",
        "patchSetId": 8
      },
      "lineNbr": 257,
      "author": {
        "id": 5525
      },
      "writtenOn": "2018-10-30T10:16:33Z",
      "side": 1,
      "message": "Are these only recovered by FEC, or are they any recovered packets?",
      "range": {
        "startLine": 257,
        "startChar": 0,
        "endLine": 257,
        "endChar": 49
      },
      "revId": "660de6a1ad94058d27862391797d32244404e9ee",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e54e1d7a_468ffc32",
        "filename": "modules/video_coding/nack_module.cc",
        "patchSetId": 8
      },
      "lineNbr": 257,
      "author": {
        "id": 6290
      },
      "writtenOn": "2018-10-30T13:10:16Z",
      "side": 1,
      "message": "thanks, should be RTX and FEC",
      "parentUuid": "4ed426bf_989cfbe7",
      "range": {
        "startLine": 257,
        "startChar": 0,
        "endLine": 257,
        "endChar": 49
      },
      "revId": "660de6a1ad94058d27862391797d32244404e9ee",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0464d692_351251a5",
        "filename": "modules/video_coding/nack_module.cc",
        "patchSetId": 8
      },
      "lineNbr": 259,
      "author": {
        "id": 5525
      },
      "writtenOn": "2018-10-30T10:16:33Z",
      "side": 1,
      "message": "Why did we add it to the nack list to begin with if the NackModule already knew about this packet? Shouldn\u0027t we remove packets from the nack list whenever we notify the NackModule about them instead of keeping track of them in the recovered_list_?",
      "range": {
        "startLine": 259,
        "startChar": 0,
        "endLine": 259,
        "endChar": 32
      },
      "revId": "660de6a1ad94058d27862391797d32244404e9ee",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3b6a7a1f_a6657e72",
        "filename": "modules/video_coding/nack_module.cc",
        "patchSetId": 8
      },
      "lineNbr": 259,
      "author": {
        "id": 6290
      },
      "writtenOn": "2018-10-30T13:10:16Z",
      "side": 1,
      "message": "The time we notify the NackModule about these recovered packets may happen before these packets are added to nack list.\nI was thinking about this scenario: assume we are sending packet with seq num 1 - 4. Packet 1 and 4 are protected by the FEC packet A, packet 2 and 3 are protected by FEC packet B.\n1. Packet 1 arrives\n2. Packet A arrives\n3. Packet 4 is recovered (do not send NACK for packet 2 and 3. keep track of packet 4 in the recovered_list)\n4. Packet 2 - 4 never arrive, we need to send NACK for packet 2, 3 (but not 4, as it was recovered by FEC)\n\nSo this CL is trying to not send NACK for out-of-order packets caused by \"early recovered\" packets. Also we need to keep track of these \"early recovered\" packets in a list, so if later we found they are actually lost, we do not send NACK for these packets.\n\nThere is another way to implement this, I can integrate this OnRecoveredPacket() into OnReceivedPacket() if that\u0027s better.",
      "parentUuid": "0464d692_351251a5",
      "range": {
        "startLine": 259,
        "startChar": 0,
        "endLine": 259,
        "endChar": 32
      },
      "revId": "660de6a1ad94058d27862391797d32244404e9ee",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca3f8fa7_0d99ee39",
        "filename": "modules/video_coding/nack_module.h",
        "patchSetId": 8
      },
      "lineNbr": 106,
      "author": {
        "id": 5525
      },
      "writtenOn": "2018-10-30T10:16:33Z",
      "side": 1,
      "message": "const",
      "range": {
        "startLine": 106,
        "startChar": 0,
        "endLine": 106,
        "endChar": 30
      },
      "revId": "660de6a1ad94058d27862391797d32244404e9ee",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4f908bbf_97a7e3ce",
        "filename": "modules/video_coding/nack_module.h",
        "patchSetId": 8
      },
      "lineNbr": 106,
      "author": {
        "id": 6290
      },
      "writtenOn": "2018-10-30T13:10:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ca3f8fa7_0d99ee39",
      "range": {
        "startLine": 106,
        "startChar": 0,
        "endLine": 106,
        "endChar": 30
      },
      "revId": "660de6a1ad94058d27862391797d32244404e9ee",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "32b2917b_c6e1efd7",
        "filename": "video/rtp_video_stream_receiver.cc",
        "patchSetId": 8
      },
      "lineNbr": 246,
      "author": {
        "id": 5525
      },
      "writtenOn": "2018-10-30T10:16:33Z",
      "side": 1,
      "message": "I don\u0027t really get why we have to handle normal packets and recovered packets in different ways?",
      "range": {
        "startLine": 240,
        "startChar": 0,
        "endLine": 246,
        "endChar": 5
      },
      "revId": "660de6a1ad94058d27862391797d32244404e9ee",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f79fd984_7ea3c2c5",
        "filename": "video/rtp_video_stream_receiver.cc",
        "patchSetId": 8
      },
      "lineNbr": 246,
      "author": {
        "id": 6290
      },
      "writtenOn": "2018-10-30T13:10:16Z",
      "side": 1,
      "message": "see above.",
      "parentUuid": "32b2917b_c6e1efd7",
      "range": {
        "startLine": 240,
        "startChar": 0,
        "endLine": 246,
        "endChar": 5
      },
      "revId": "660de6a1ad94058d27862391797d32244404e9ee",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    }
  ]
}