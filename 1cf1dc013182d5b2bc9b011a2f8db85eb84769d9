{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "bde4e955_e9af0eb4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5634
      },
      "writtenOn": "2024-05-07T09:59:45Z",
      "side": 1,
      "message": "This allows caller to override codec selection. Next step is to add correct decision on codec selection to higher levels; cleanup step is to remove the old codec selection entirely (or export via helper functions rather than calling when creating offers / answers).",
      "revId": "1cf1dc013182d5b2bc9b011a2f8db85eb84769d9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0368bc7e_e0a2129b",
        "filename": "pc/media_session.cc",
        "patchSetId": 3
      },
      "lineNbr": 2022,
      "author": {
        "id": 17470
      },
      "writtenOn": "2024-05-07T10:29:39Z",
      "side": 1,
      "message": "This whole comment could do with updating",
      "revId": "1cf1dc013182d5b2bc9b011a2f8db85eb84769d9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5a1b1c2a_0cb8d6c0",
        "filename": "pc/media_session.cc",
        "patchSetId": 3
      },
      "lineNbr": 2022,
      "author": {
        "id": 5634
      },
      "writtenOn": "2024-05-07T10:51:02Z",
      "side": 1,
      "message": "Took a stab at it.",
      "parentUuid": "0368bc7e_e0a2129b",
      "revId": "1cf1dc013182d5b2bc9b011a2f8db85eb84769d9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1170ba94_0c8abff1",
        "filename": "pc/media_session.cc",
        "patchSetId": 3
      },
      "lineNbr": 2022,
      "author": {
        "id": 17470
      },
      "writtenOn": "2024-05-07T11:07:02Z",
      "side": 1,
      "message": "How about the bits below about \"// The payload types should come from codecs, but the order should come\n// from current_content-\u003ecodecs() and then supported_codecs, to ensure that\n// re-offers don\u0027t change existing codec priority, and that new codecs are added\n// with the right priority.\"? I\u0027m not sure how that should map to the new way of setting codecs.",
      "parentUuid": "5a1b1c2a_0cb8d6c0",
      "revId": "1cf1dc013182d5b2bc9b011a2f8db85eb84769d9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "88cc6411_d9795bf4",
        "filename": "pc/media_session.cc",
        "patchSetId": 3
      },
      "lineNbr": 2022,
      "author": {
        "id": 5634
      },
      "writtenOn": "2024-05-07T11:29:36Z",
      "side": 1,
      "message": "It shouldn\u0027t map. That\u0027s how you do it when you negotiate.\nI think payload types should be set in a different place, but I\u0027m not sure where yet (or whether they are already set).",
      "parentUuid": "1170ba94_0c8abff1",
      "revId": "1cf1dc013182d5b2bc9b011a2f8db85eb84769d9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "69848ec2_bbe161b8",
        "filename": "pc/media_session.cc",
        "patchSetId": 3
      },
      "lineNbr": 2073,
      "author": {
        "id": 17470
      },
      "writtenOn": "2024-05-07T10:29:39Z",
      "side": 1,
      "message": "std::move(codecs_to_include)",
      "range": {
        "startLine": 2073,
        "startChar": 50,
        "endLine": 2073,
        "endChar": 67
      },
      "revId": "1cf1dc013182d5b2bc9b011a2f8db85eb84769d9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "881d704d_25df4dd0",
        "filename": "pc/media_session.cc",
        "patchSetId": 3
      },
      "lineNbr": 2073,
      "author": {
        "id": 5634
      },
      "writtenOn": "2024-05-07T10:51:02Z",
      "side": 1,
      "message": "It\u0027s a std::vector\u003cCodec\u003e\u0026 not a std::vector\u003cCodec\u003e. Is there any advantage to making it a pass-by-value and moving?",
      "parentUuid": "69848ec2_bbe161b8",
      "range": {
        "startLine": 2073,
        "startChar": 50,
        "endLine": 2073,
        "endChar": 67
      },
      "revId": "1cf1dc013182d5b2bc9b011a2f8db85eb84769d9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1ddffaae_c1ffda21",
        "filename": "pc/media_session.cc",
        "patchSetId": 3
      },
      "lineNbr": 2073,
      "author": {
        "id": 17470
      },
      "writtenOn": "2024-05-07T11:07:02Z",
      "side": 1,
      "message": "Ah, I was just looking at the previous MoveValue(). Nevermind.",
      "parentUuid": "881d704d_25df4dd0",
      "range": {
        "startLine": 2073,
        "startChar": 50,
        "endLine": 2073,
        "endChar": 67
      },
      "revId": "1cf1dc013182d5b2bc9b011a2f8db85eb84769d9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e9e5431f_0b66ad41",
        "filename": "pc/media_session.cc",
        "patchSetId": 3
      },
      "lineNbr": 2225,
      "author": {
        "id": 17470
      },
      "writtenOn": "2024-05-07T10:29:39Z",
      "side": 1,
      "message": "How about moving the |NegotiateCodecs| call here, and just passing the decided list of codecs in to |SetCodecsInAnswer|?\nFirst time I\u0027m reading this code, but the fact that a Set method does some additional filtering/modification rather than just applying the given list was surprising.",
      "revId": "1cf1dc013182d5b2bc9b011a2f8db85eb84769d9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "117f2b0e_5c6b1735",
        "filename": "pc/media_session.cc",
        "patchSetId": 3
      },
      "lineNbr": 2225,
      "author": {
        "id": 5634
      },
      "writtenOn": "2024-05-07T10:51:02Z",
      "side": 1,
      "message": "Me too (surprise). I am trying quite hard to not modify the existing code paths to avoid unintended side effects.",
      "parentUuid": "e9e5431f_0b66ad41",
      "revId": "1cf1dc013182d5b2bc9b011a2f8db85eb84769d9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1a8c5942_668d4059",
        "filename": "pc/media_session.cc",
        "patchSetId": 3
      },
      "lineNbr": 2225,
      "author": {
        "id": 17470
      },
      "writtenOn": "2024-05-07T11:07:02Z",
      "side": 1,
      "message": "This logic looks pretty self contained, no? SetCodecsInAnswer is only called here.\nIs it the semantics of has_usable_media_codecs you\u0027re concerned about? Leaving that as-is when codecs_to_include is empty makes sense, but should be straightforward.\n\nAny other risky/hairy things I\u0027ve missed?",
      "parentUuid": "117f2b0e_5c6b1735",
      "revId": "1cf1dc013182d5b2bc9b011a2f8db85eb84769d9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fd25604e_7cd1814d",
        "filename": "pc/media_session.cc",
        "patchSetId": 3
      },
      "lineNbr": 2225,
      "author": {
        "id": 5634
      },
      "writtenOn": "2024-05-07T11:29:36Z",
      "side": 1,
      "message": "Right, SetCodecsInAnswer has as its first step the call to NegotiateCodecs, so lifting that out should be straightforward.\n\nUnfortunately moving NegotiateCodecs before the check for usable codecs caused one of the tests to crash, so I think I\u0027ll leave out simplifying that part of the logic (for now).",
      "parentUuid": "1a8c5942_668d4059",
      "revId": "1cf1dc013182d5b2bc9b011a2f8db85eb84769d9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fee12c80_d5310d66",
        "filename": "pc/media_session.cc",
        "patchSetId": 3
      },
      "lineNbr": 2231,
      "author": {
        "id": 17470
      },
      "writtenOn": "2024-05-07T10:29:39Z",
      "side": 1,
      "message": "Not really \"in common\" if they\u0027re being directly set rather than intersected with the remote ones here. |has_usable_media_codecs| or something?",
      "revId": "1cf1dc013182d5b2bc9b011a2f8db85eb84769d9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0bc777d8_48a85fa3",
        "filename": "pc/media_session.cc",
        "patchSetId": 3
      },
      "lineNbr": 2231,
      "author": {
        "id": 5634
      },
      "writtenOn": "2024-05-07T10:51:02Z",
      "side": 1,
      "message": "Good point on naming. Done.",
      "parentUuid": "fee12c80_d5310d66",
      "revId": "1cf1dc013182d5b2bc9b011a2f8db85eb84769d9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "65daef97_1d8be431",
        "filename": "pc/media_session.cc",
        "patchSetId": 3
      },
      "lineNbr": 2245,
      "author": {
        "id": 17470
      },
      "writtenOn": "2024-05-07T10:29:39Z",
      "side": 1,
      "message": "std::move(codecs_to_include)?",
      "range": {
        "startLine": 2245,
        "startChar": 52,
        "endLine": 2245,
        "endChar": 69
      },
      "revId": "1cf1dc013182d5b2bc9b011a2f8db85eb84769d9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "139b17a2_ed88bd26",
        "filename": "pc/media_session.cc",
        "patchSetId": 3
      },
      "lineNbr": 2245,
      "author": {
        "id": 5634
      },
      "writtenOn": "2024-05-07T10:51:02Z",
      "side": 1,
      "message": "As above.",
      "parentUuid": "65daef97_1d8be431",
      "range": {
        "startLine": 2245,
        "startChar": 52,
        "endLine": 2245,
        "endChar": 69
      },
      "revId": "1cf1dc013182d5b2bc9b011a2f8db85eb84769d9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a2d78a07_77d8e1a4",
        "filename": "pc/media_session.cc",
        "patchSetId": 3
      },
      "lineNbr": 2245,
      "author": {
        "id": 17470
      },
      "writtenOn": "2024-05-07T11:07:02Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "139b17a2_ed88bd26",
      "range": {
        "startLine": 2245,
        "startChar": 52,
        "endLine": 2245,
        "endChar": 69
      },
      "revId": "1cf1dc013182d5b2bc9b011a2f8db85eb84769d9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "66ab2408_04b28e6e",
        "filename": "pc/media_session_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 828,
      "author": {
        "id": 7036
      },
      "writtenOn": "2024-05-07T10:47:14Z",
      "side": 1,
      "message": "nit: If you\u0027re fixing the first typo in the word, can you fix the other one and spell `payload`?\nAlso, change to `the offer doesn\u0027t`",
      "revId": "1cf1dc013182d5b2bc9b011a2f8db85eb84769d9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}