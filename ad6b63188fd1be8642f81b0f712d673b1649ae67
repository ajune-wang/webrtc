{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "b0de0aa4_1c539eb1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5963
      },
      "writtenOn": "2024-11-23T08:30:59Z",
      "side": 1,
      "message": "lgtm thank you Philipp!",
      "revId": "ad6b63188fd1be8642f81b0f712d673b1649ae67",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "76e37530_125fff1e",
        "filename": "modules/rtp_rtcp/source/video_rtp_depacketizer_h264.cc",
        "patchSetId": 2
      },
      "lineNbr": 52,
      "author": {
        "id": 5825
      },
      "writtenOn": "2024-11-25T13:48:52Z",
      "side": 1,
      "message": "Would it be a valid case for having empty NALUs in STAP-A?",
      "range": {
        "startLine": 52,
        "startChar": 8,
        "endLine": 52,
        "endChar": 22
      },
      "revId": "ad6b63188fd1be8642f81b0f712d673b1649ae67",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "519846af_cbe33797",
        "filename": "modules/rtp_rtcp/source/video_rtp_depacketizer_h264.cc",
        "patchSetId": 2
      },
      "lineNbr": 52,
      "author": {
        "id": 3350241
      },
      "writtenOn": "2024-11-25T18:13:07Z",
      "side": 1,
      "message": "I wondered about that when writing a test too but removing this condition crashes down the line. Unless someone asks for it I would say \"no\"",
      "parentUuid": "76e37530_125fff1e",
      "range": {
        "startLine": 52,
        "startChar": 8,
        "endLine": 52,
        "endChar": 22
      },
      "revId": "ad6b63188fd1be8642f81b0f712d673b1649ae67",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cc18dd76_f0988ed2",
        "filename": "modules/rtp_rtcp/source/video_rtp_depacketizer_h264.cc",
        "patchSetId": 2
      },
      "lineNbr": 52,
      "author": {
        "id": 3350241
      },
      "writtenOn": "2024-11-25T18:31:34Z",
      "side": 1,
      "message": "so this works:\n  0x78, 0x00, 0x01, 0x10, // STAP-A, end of sequence.\nand goes into the \"skipping\" path. This is rejected by ParseStapA\n  0x78, 0x00, 0x00\nand removing the rejection crashes in the ProcessStapAOrSingleNalu loop over nal_units which accesses nal_unit[0].\n\nSince https://datatracker.ietf.org/doc/html/rfc6184#section-5.7.1 says the length is \"including its NAL unit type byte\" it can never be 0 in valid cases.\nCan add a (D)CHECK in the loop to make that clear.",
      "parentUuid": "519846af_cbe33797",
      "range": {
        "startLine": 52,
        "startChar": 8,
        "endLine": 52,
        "endChar": 22
      },
      "revId": "ad6b63188fd1be8642f81b0f712d673b1649ae67",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1795d4e0_33290977",
        "filename": "modules/rtp_rtcp/source/video_rtp_depacketizer_h264.cc",
        "patchSetId": 2
      },
      "lineNbr": 52,
      "author": {
        "id": 5825
      },
      "writtenOn": "2024-11-25T18:45:29Z",
      "side": 1,
      "message": "Thanks. I\u0027m fine without DCHECK. But up to you.",
      "parentUuid": "cc18dd76_f0988ed2",
      "range": {
        "startLine": 52,
        "startChar": 8,
        "endLine": 52,
        "endChar": 22
      },
      "revId": "ad6b63188fd1be8642f81b0f712d673b1649ae67",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e285d6b8_b37d6e7f",
        "filename": "modules/rtp_rtcp/source/video_rtp_depacketizer_h264_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 545,
      "author": {
        "id": 5825
      },
      "writtenOn": "2024-11-25T13:45:17Z",
      "side": 1,
      "message": "I couldn\u0027t see STAP-A in this test. Rename? `ParseSkipsEmptyNalu`",
      "range": {
        "startLine": 545,
        "startChar": 35,
        "endLine": 545,
        "endChar": 40
      },
      "revId": "ad6b63188fd1be8642f81b0f712d673b1649ae67",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2de08aee_eb93096a",
        "filename": "modules/rtp_rtcp/source/video_rtp_depacketizer_h264_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 545,
      "author": {
        "id": 3350241
      },
      "writtenOn": "2024-11-25T18:18:50Z",
      "side": 1,
      "message": "I had one and then ran into the line you pointed out below. Updated the name.",
      "parentUuid": "e285d6b8_b37d6e7f",
      "range": {
        "startLine": 545,
        "startChar": 35,
        "endLine": 545,
        "endChar": 40
      },
      "revId": "ad6b63188fd1be8642f81b0f712d673b1649ae67",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}