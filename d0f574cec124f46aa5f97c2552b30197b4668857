{
  "comments": [
    {
      "key": {
        "uuid": "3855ec4a_ad25057b",
        "filename": "pc/peerconnection.cc",
        "patchSetId": 7
      },
      "lineNbr": 1380,
      "author": {
        "id": 5800
      },
      "writtenOn": "2018-09-10T18:34:24Z",
      "side": 1,
      "message": "Shouldn\u0027t this be added to UnimplementedRtpEncodingParameterHasValue()? That way the SSRC can\u0027t be set with RtpSender::SetParameters as well (which would also be overridden by SetLocalDescription).",
      "range": {
        "startLine": 1380,
        "startChar": 8,
        "endLine": 1380,
        "endChar": 31
      },
      "revId": "d0f574cec124f46aa5f97c2552b30197b4668857",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "09a697a1_d21e9d71",
        "filename": "pc/peerconnection.cc",
        "patchSetId": 7
      },
      "lineNbr": 1380,
      "author": {
        "id": 7036
      },
      "writtenOn": "2018-09-12T16:15:47Z",
      "side": 1,
      "message": "There IS a value in the SSRC field set by the lower layer and it needs to be preserved between calls, so we can only check there\u0027s none in the constructor and not on setParameters() calls.",
      "parentUuid": "3855ec4a_ad25057b",
      "range": {
        "startLine": 1380,
        "startChar": 8,
        "endLine": 1380,
        "endChar": 31
      },
      "revId": "d0f574cec124f46aa5f97c2552b30197b4668857",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a4669228_c6999e2f",
        "filename": "pc/peerconnection.cc",
        "patchSetId": 7
      },
      "lineNbr": 1380,
      "author": {
        "id": 5800
      },
      "writtenOn": "2018-09-12T18:52:14Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "09a697a1_d21e9d71",
      "range": {
        "startLine": 1380,
        "startChar": 8,
        "endLine": 1380,
        "endChar": 31
      },
      "revId": "d0f574cec124f46aa5f97c2552b30197b4668857",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "884ef298_9cf62238",
        "filename": "pc/rtpsender.cc",
        "patchSetId": 7
      },
      "lineNbr": 320,
      "author": {
        "id": 5800
      },
      "writtenOn": "2018-09-10T18:34:24Z",
      "side": 1,
      "message": "Isn\u0027t this always true, given that you emplace_back() and encoding in the constructor?",
      "range": {
        "startLine": 320,
        "startChar": 6,
        "endLine": 320,
        "endChar": 41
      },
      "revId": "d0f574cec124f46aa5f97c2552b30197b4668857",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3b7ef2bd_3211ce06",
        "filename": "pc/rtpsender.cc",
        "patchSetId": 7
      },
      "lineNbr": 320,
      "author": {
        "id": 7036
      },
      "writtenOn": "2018-09-12T16:15:47Z",
      "side": 1,
      "message": "Judging from the code, it seems like you can update the SSRC on the sender. I\u0027m wondering if it can happen after the sender has already been configured, in which case parameters have already been applied.",
      "parentUuid": "884ef298_9cf62238",
      "range": {
        "startLine": 320,
        "startChar": 6,
        "endLine": 320,
        "endChar": 41
      },
      "revId": "d0f574cec124f46aa5f97c2552b30197b4668857",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e3f699c_41161c89",
        "filename": "pc/rtpsender.cc",
        "patchSetId": 7
      },
      "lineNbr": 320,
      "author": {
        "id": 5800
      },
      "writtenOn": "2018-09-12T18:52:14Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "3b7ef2bd_3211ce06",
      "range": {
        "startLine": 320,
        "startChar": 6,
        "endLine": 320,
        "endChar": 41
      },
      "revId": "d0f574cec124f46aa5f97c2552b30197b4668857",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "50eb6483_aca51757",
        "filename": "pc/rtpsender.cc",
        "patchSetId": 7
      },
      "lineNbr": 322,
      "author": {
        "id": 5800
      },
      "writtenOn": "2018-09-10T18:34:24Z",
      "side": 1,
      "message": "I think you forgot to add this to the RtpVideoSender as well",
      "range": {
        "startLine": 322,
        "startChar": 6,
        "endLine": 322,
        "endChar": 27
      },
      "revId": "d0f574cec124f46aa5f97c2552b30197b4668857",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a3140a11_86ead7ab",
        "filename": "pc/rtpsender.cc",
        "patchSetId": 7
      },
      "lineNbr": 322,
      "author": {
        "id": 7036
      },
      "writtenOn": "2018-09-12T16:15:47Z",
      "side": 1,
      "message": "So much code duplication :(\nDone.",
      "parentUuid": "50eb6483_aca51757",
      "range": {
        "startLine": 322,
        "startChar": 6,
        "endLine": 322,
        "endChar": 27
      },
      "revId": "d0f574cec124f46aa5f97c2552b30197b4668857",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bf40f442_729ead03",
        "filename": "pc/rtpsender.cc",
        "patchSetId": 7
      },
      "lineNbr": 334,
      "author": {
        "id": 5800
      },
      "writtenOn": "2018-09-10T18:34:24Z",
      "side": 1,
      "message": "Looks good. Could you please also add this to VideoRtpSender::SetSsrc?\n\nAlso, this being unimplemented in the VideoRtpSender wasn\u0027t caught by tests, and would have broke simulcast for anybody SDP munging after AddTransceiver. Could you please add a test? Something like:\n-AddTransceiver w/ one sendEncoding\n-GetOffer\n-Update offer with a simulcast group (generate a couple ssrcs \u0026 add them to the StreamParams object like done here - https://cs.chromium.org/chromium/src/third_party/webrtc/pc/mediasession.cc?l\u003d443)\n-SetLocalDescription\n-GetParameters from sender \u0026 check that they are set appropriately.",
      "range": {
        "startLine": 334,
        "startChar": 8,
        "endLine": 334,
        "endChar": 72
      },
      "revId": "d0f574cec124f46aa5f97c2552b30197b4668857",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "881dae81_934589d7",
        "filename": "pc/rtpsender.cc",
        "patchSetId": 7
      },
      "lineNbr": 334,
      "author": {
        "id": 7036
      },
      "writtenOn": "2018-09-12T16:15:47Z",
      "side": 1,
      "message": "Added to the VideoRtpSender.\nBut how would that work for modifying the description? We don\u0027t really support simulcast with unified plan, and I\u0027m not sure that going out of our way to test some exotic non-spec behavior is the right thing.",
      "parentUuid": "bf40f442_729ead03",
      "range": {
        "startLine": 334,
        "startChar": 8,
        "endLine": 334,
        "endChar": 72
      },
      "revId": "d0f574cec124f46aa5f97c2552b30197b4668857",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "939d5f40_834728a3",
        "filename": "pc/rtpsender.cc",
        "patchSetId": 7
      },
      "lineNbr": 334,
      "author": {
        "id": 5800
      },
      "writtenOn": "2018-09-12T18:52:14Z",
      "side": 1,
      "message": "We do (kinda) support simulcast with Unified Plan SDP if you want to munge the SDP \u0026 SLD(). We just don\u0027t support creating a spec compliant SDP (with RIDs) for simulcast through AddTransceiver.\n\nI\u0027m okay not testing this at the PC level since it would mean testing munging behavior (which isn\u0027t currently tested with Plan B either).\n\nIt is worth noting that this test would catch the issue with the VideoSender\u0027s init_parameters.encodings.size() overriding current_parameters.encodings.size() (where the current parameters should be authoritative). How about testing it at the Sender level? I made a comment.",
      "parentUuid": "881dae81_934589d7",
      "range": {
        "startLine": 334,
        "startChar": 8,
        "endLine": 334,
        "endChar": 72
      },
      "revId": "d0f574cec124f46aa5f97c2552b30197b4668857",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "31459291_fcbcb096",
        "filename": "pc/rtpsender.cc",
        "patchSetId": 7
      },
      "lineNbr": 334,
      "author": {
        "id": 7036
      },
      "writtenOn": "2018-09-13T14:52:32Z",
      "side": 1,
      "message": "I think I managed to test that behavior now.",
      "parentUuid": "939d5f40_834728a3",
      "range": {
        "startLine": 334,
        "startChar": 8,
        "endLine": 334,
        "endChar": 72
      },
      "revId": "d0f574cec124f46aa5f97c2552b30197b4668857",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c8063036_7c6f3674",
        "filename": "pc/rtpsender.cc",
        "patchSetId": 7
      },
      "lineNbr": 556,
      "author": {
        "id": 5800
      },
      "writtenOn": "2018-09-10T18:34:24Z",
      "side": 1,
      "message": "Same comment as above about this always being true",
      "range": {
        "startLine": 556,
        "startChar": 6,
        "endLine": 556,
        "endChar": 41
      },
      "revId": "d0f574cec124f46aa5f97c2552b30197b4668857",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d7db40a2_de3f752a",
        "filename": "pc/rtpsender.cc",
        "patchSetId": 7
      },
      "lineNbr": 556,
      "author": {
        "id": 7036
      },
      "writtenOn": "2018-09-12T16:15:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c8063036_7c6f3674",
      "range": {
        "startLine": 556,
        "startChar": 6,
        "endLine": 556,
        "endChar": 41
      },
      "revId": "d0f574cec124f46aa5f97c2552b30197b4668857",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "622d91ec_acf48ddc",
        "filename": "pc/rtpsenderreceiver_unittest.cc",
        "patchSetId": 7
      },
      "lineNbr": 886,
      "author": {
        "id": 5800
      },
      "writtenOn": "2018-09-12T18:52:14Z",
      "side": 1,
      "message": "Can you test this with the size of init_encodings being 1, and then stream params still sets up 2 simulcast layers? This would catch the code you\u0027re missing right now in RtpVideoSender::SetSsrc, where the VideoSender uses the VideoMediaChannel\u0027s params as authoritive for the size.",
      "range": {
        "startLine": 886,
        "startChar": 30,
        "endLine": 886,
        "endChar": 76
      },
      "revId": "d0f574cec124f46aa5f97c2552b30197b4668857",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6022fa36_ea25fb42",
        "filename": "pc/rtpsenderreceiver_unittest.cc",
        "patchSetId": 7
      },
      "lineNbr": 886,
      "author": {
        "id": 7036
      },
      "writtenOn": "2018-09-13T14:52:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "622d91ec_acf48ddc",
      "range": {
        "startLine": 886,
        "startChar": 30,
        "endLine": 886,
        "endChar": 76
      },
      "revId": "d0f574cec124f46aa5f97c2552b30197b4668857",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}