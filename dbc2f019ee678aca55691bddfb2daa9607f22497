{
  "comments": [
    {
      "key": {
        "uuid": "88d31323_4887040c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5524
      },
      "writtenOn": "2020-08-18T12:17:40Z",
      "side": 1,
      "message": "adding perkj@ instead as pc/ owner",
      "revId": "dbc2f019ee678aca55691bddfb2daa9607f22497",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "92e25d05_9f5eeebd",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 3
      },
      "lineNbr": 5941,
      "author": {
        "id": 5578
      },
      "writtenOn": "2020-08-19T08:40:26Z",
      "side": 1,
      "message": "I think it would make more sense if the above is done inside channel-\u003eSetRemoteContent.",
      "range": {
        "startLine": 5941,
        "startChar": 34,
        "endLine": 5941,
        "endChar": 50
      },
      "revId": "dbc2f019ee678aca55691bddfb2daa9607f22497",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dd649e92_25495536",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 3
      },
      "lineNbr": 5941,
      "author": {
        "id": 5524
      },
      "writtenOn": "2020-08-19T09:12:35Z",
      "side": 1,
      "message": "I don\u0027t see how we can do that easily. The problem we\u0027re trying to solve here is when another transceiver A is already using SSRC X for a an unsignaled stream and then we update the remote description for transceiver B to actually start using SSRC X for a signaled stream. The RtpDemuxer will then fail to handle the signaled stream.\n\nRemoving the unsignaled ssrc from A would then mean we need to call back up from that SetRemoteContent to somewhere that can find the correct transceiver. Seems more convoluted?",
      "parentUuid": "92e25d05_9f5eeebd",
      "range": {
        "startLine": 5941,
        "startChar": 34,
        "endLine": 5941,
        "endChar": 50
      },
      "revId": "dbc2f019ee678aca55691bddfb2daa9607f22497",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d6a100af_4702379f",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 3
      },
      "lineNbr": 5941,
      "author": {
        "id": 5578
      },
      "writtenOn": "2020-08-19T11:48:35Z",
      "side": 1,
      "message": "I see. But is there no identifier of a \"default stream\" or transceiver? Do we have to call MaybeDeregisterUnsignaledRecvStream on every transeiver, since that cause  thread hop?",
      "parentUuid": "dd649e92_25495536",
      "range": {
        "startLine": 5941,
        "startChar": 34,
        "endLine": 5941,
        "endChar": 50
      },
      "revId": "dbc2f019ee678aca55691bddfb2daa9607f22497",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7b16f411_35f174b6",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 3
      },
      "lineNbr": 5941,
      "author": {
        "id": 5524
      },
      "writtenOn": "2020-08-19T13:52:25Z",
      "side": 1,
      "message": "Not as far as I can tell. A transceiver can in fact contain both a signaled and an unsignaled stream at the same time... If it\u0027s thread jumps you\u0027re worried about we could do the iteration over transceivers in a lambda we post to the worker thread?",
      "parentUuid": "d6a100af_4702379f",
      "range": {
        "startLine": 5941,
        "startChar": 34,
        "endLine": 5941,
        "endChar": 50
      },
      "revId": "dbc2f019ee678aca55691bddfb2daa9607f22497",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1471c09a_c6cdc151",
        "filename": "test/peer_scenario/signaling_route.h",
        "patchSetId": 3
      },
      "lineNbr": 38,
      "author": {
        "id": 5578
      },
      "writtenOn": "2020-08-19T11:48:35Z",
      "side": 1,
      "message": "Would you mind to also document exchange_finished?",
      "range": {
        "startLine": 37,
        "startChar": 72,
        "endLine": 38,
        "endChar": 2
      },
      "revId": "dbc2f019ee678aca55691bddfb2daa9607f22497",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "251bffee_e6c5ff18",
        "filename": "test/peer_scenario/signaling_route.h",
        "patchSetId": 3
      },
      "lineNbr": 38,
      "author": {
        "id": 5524
      },
      "writtenOn": "2020-08-19T13:52:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1471c09a_c6cdc151",
      "range": {
        "startLine": 37,
        "startChar": 72,
        "endLine": 38,
        "endChar": 2
      },
      "revId": "dbc2f019ee678aca55691bddfb2daa9607f22497",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c75ac07e_c7a025b9",
        "filename": "test/peer_scenario/tests/unsignaled_stream_test.cc",
        "patchSetId": 3
      },
      "lineNbr": 35,
      "author": {
        "id": 5578
      },
      "writtenOn": "2020-08-19T11:48:35Z",
      "side": 1,
      "message": "index? what does it mean here? Seems to mean audio or video ? Use FirstContentByType instead? Do you need index at all?",
      "range": {
        "startLine": 35,
        "startChar": 61,
        "endLine": 35,
        "endChar": 66
      },
      "revId": "dbc2f019ee678aca55691bddfb2daa9607f22497",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6f91623_3e85e902",
        "filename": "test/peer_scenario/tests/unsignaled_stream_test.cc",
        "patchSetId": 3
      },
      "lineNbr": 35,
      "author": {
        "id": 5524
      },
      "writtenOn": "2020-08-19T13:52:25Z",
      "side": 1,
      "message": "It\u0027s per track. I have two video tracks in this test. Updated the name.",
      "parentUuid": "c75ac07e_c7a025b9",
      "range": {
        "startLine": 35,
        "startChar": 61,
        "endLine": 35,
        "endChar": 66
      },
      "revId": "dbc2f019ee678aca55691bddfb2daa9607f22497",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fe602b1a_a541ac30",
        "filename": "test/peer_scenario/tests/unsignaled_stream_test.cc",
        "patchSetId": 3
      },
      "lineNbr": 40,
      "author": {
        "id": 5578
      },
      "writtenOn": "2020-08-19T11:48:35Z",
      "side": 1,
      "message": "why mutable? Should not need a mutable stream?",
      "range": {
        "startLine": 40,
        "startChar": 8,
        "endLine": 40,
        "endChar": 23
      },
      "revId": "dbc2f019ee678aca55691bddfb2daa9607f22497",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bca6fef9_4cb91d88",
        "filename": "test/peer_scenario/tests/unsignaled_stream_test.cc",
        "patchSetId": 3
      },
      "lineNbr": 40,
      "author": {
        "id": 5524
      },
      "writtenOn": "2020-08-19T13:52:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fe602b1a_a541ac30",
      "range": {
        "startLine": 40,
        "startChar": 8,
        "endLine": 40,
        "endChar": 23
      },
      "revId": "dbc2f019ee678aca55691bddfb2daa9607f22497",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e21737ed_432f7a29",
        "filename": "test/peer_scenario/tests/unsignaled_stream_test.cc",
        "patchSetId": 3
      },
      "lineNbr": 62,
      "author": {
        "id": 5578
      },
      "writtenOn": "2020-08-19T11:48:35Z",
      "side": 1,
      "message": "Wouldnt it make more sense if this \"default\" transciever and sink was reconfigured? Ie, doesnt recreating the stream require a new keyframe etc?",
      "range": {
        "startLine": 62,
        "startChar": 15,
        "endLine": 62,
        "endChar": 26
      },
      "revId": "dbc2f019ee678aca55691bddfb2daa9607f22497",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4866abd9_18a99ee6",
        "filename": "test/peer_scenario/tests/unsignaled_stream_test.cc",
        "patchSetId": 3
      },
      "lineNbr": 62,
      "author": {
        "id": 5524
      },
      "writtenOn": "2020-08-19T13:52:25Z",
      "side": 1,
      "message": "If the stream that arrives is missing the first packets, then yes webrtc will need to detect that and request a keyframe. The problem is outside the scope of what we\u0027re testing here.\n\nAll we want to do here is verify that if default stream exists for ssrc X, and a new track is added that actually signals the use of ssrc X - then we want to remove the default stream regardless of which transceiver is has been created in.",
      "parentUuid": "e21737ed_432f7a29",
      "range": {
        "startLine": 62,
        "startChar": 15,
        "endLine": 62,
        "endChar": 26
      },
      "revId": "dbc2f019ee678aca55691bddfb2daa9607f22497",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d74a9a21_417332ea",
        "filename": "test/peer_scenario/tests/unsignaled_stream_test.cc",
        "patchSetId": 3
      },
      "lineNbr": 115,
      "author": {
        "id": 5578
      },
      "writtenOn": "2020-08-19T11:48:35Z",
      "side": 1,
      "message": "shouldnt you continue to modify the ssrc forever? Why  !got_unsignaled_packet?",
      "range": {
        "startLine": 115,
        "startChar": 17,
        "endLine": 115,
        "endChar": 38
      },
      "revId": "dbc2f019ee678aca55691bddfb2daa9607f22497",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2f9a144e_8c6c2178",
        "filename": "test/peer_scenario/tests/unsignaled_stream_test.cc",
        "patchSetId": 3
      },
      "lineNbr": 115,
      "author": {
        "id": 5524
      },
      "writtenOn": "2020-08-19T13:52:25Z",
      "side": 1,
      "message": "We only want to simulate a stray media packet arriving too early. The second video track we add below will then continue to produce packets for this ssrc.",
      "parentUuid": "d74a9a21_417332ea",
      "range": {
        "startLine": 115,
        "startChar": 17,
        "endLine": 115,
        "endChar": 38
      },
      "revId": "dbc2f019ee678aca55691bddfb2daa9607f22497",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}