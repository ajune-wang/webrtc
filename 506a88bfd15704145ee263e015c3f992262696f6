{
  "comments": [
    {
      "key": {
        "uuid": "e7e92e88_a75dc7aa",
        "filename": "modules/audio_coding/neteq/tools/neteq_rtpplay.cc",
        "patchSetId": 3
      },
      "lineNbr": 122,
      "author": {
        "id": 5607
      },
      "writtenOn": "2019-03-07T16:24:00Z",
      "side": 1,
      "message": "An alternative way to achieve this would be to add a flag called --no_output_audio, and when that flag is set we only use the output file name as a base for other output files. So you could use it like:\n\nneteq_rtpplay --no_output_audio --pythonplot my/input/file my/output/file\n\nThis would only create my/output/file.py\n\nWDYT?",
      "range": {
        "startLine": 122,
        "startChar": 21,
        "endLine": 122,
        "endChar": 43
      },
      "revId": "506a88bfd15704145ee263e015c3f992262696f6",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ccad48af_19c858ce",
        "filename": "modules/audio_coding/neteq/tools/neteq_rtpplay.cc",
        "patchSetId": 3
      },
      "lineNbr": 122,
      "author": {
        "id": 5122
      },
      "writtenOn": "2019-03-08T10:55:17Z",
      "side": 1,
      "message": "Yes, that\u0027s possible too.\nI don\u0027t have a strong preference. On one hand, my version is a bit more complex than what you\u0027re proposing. On the other hand, I find the alternative a bit odd since 2 arguments are needed when we can avoid them at all.\n\nLet me know what you prefer.",
      "parentUuid": "e7e92e88_a75dc7aa",
      "range": {
        "startLine": 122,
        "startChar": 21,
        "endLine": 122,
        "endChar": 43
      },
      "revId": "506a88bfd15704145ee263e015c3f992262696f6",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fd5f1882_4e10df61",
        "filename": "modules/audio_coding/neteq/tools/neteq_rtpplay.cc",
        "patchSetId": 3
      },
      "lineNbr": 122,
      "author": {
        "id": 5607
      },
      "writtenOn": "2019-03-08T16:01:55Z",
      "side": 1,
      "message": "I guess it\u0027s subjective which option is better. A --no_output_audio flag fits a little better with the existing approach of (ab)using the output filename to decide how to name other output files, which is not a super nice approach to be honest. \nAnother alternative could be to always pass the output audio filename as a flag, and pass the filename for other files into their flags as well, for example:\n\nneteq_rtpplay --output_audio\u003dmy/output/audio --pythonplot\u003dmy/python/plot.py my/input/file\n\nI\u0027ll leave the choice to you, keeping your current approach is also okay.",
      "parentUuid": "ccad48af_19c858ce",
      "range": {
        "startLine": 122,
        "startChar": 21,
        "endLine": 122,
        "endChar": 43
      },
      "revId": "506a88bfd15704145ee263e015c3f992262696f6",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cb5b487f_44af3b64",
        "filename": "modules/audio_coding/neteq/tools/neteq_rtpplay.cc",
        "patchSetId": 3
      },
      "lineNbr": 245,
      "author": {
        "id": 5087
      },
      "writtenOn": "2019-03-07T15:27:06Z",
      "side": 1,
      "message": "Unfortunately this will not happen soon, see: https://webrtc.googlesource.com/src/+/HEAD/abseil-in-webrtc.md#disallowed.\n\nOn the other hand, rtc::SimpleStringBuilder [1] supports absl::string_view so maybe you can already switch to it.\n\n[1] - https://cs.chromium.org/chromium/src/third_party/webrtc/rtc_base/strings/string_builder.h",
      "range": {
        "startLine": 245,
        "startChar": 51,
        "endLine": 245,
        "endChar": 78
      },
      "revId": "506a88bfd15704145ee263e015c3f992262696f6",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4441520a_37b8a715",
        "filename": "modules/audio_coding/neteq/tools/neteq_rtpplay.cc",
        "patchSetId": 3
      },
      "lineNbr": 245,
      "author": {
        "id": 5122
      },
      "writtenOn": "2019-03-08T10:55:17Z",
      "side": 1,
      "message": "Good to learn that string_view is supported, thanks!\nI used rtc::StringBuilder since it\u0027s perfectly fine to have a heap allocation here and I avoid any limitations with long file paths.",
      "parentUuid": "cb5b487f_44af3b64",
      "range": {
        "startLine": 245,
        "startChar": 51,
        "endLine": 245,
        "endChar": 78
      },
      "revId": "506a88bfd15704145ee263e015c3f992262696f6",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}