{
  "comments": [
    {
      "key": {
        "uuid": "13cda61e_8ae05746",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 5126
      },
      "writtenOn": "2020-09-21T13:09:22Z",
      "side": 1,
      "message": "Split this part out into a separate CL? The combined CL is a lot of work to read. (This may not be as necessary if making a ring buffer class simplifies the code sufficiently, but I doubt it would be a bad idea even so.)",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 16,
        "endChar": 0
      },
      "revId": "ce6b60a61473d48e3ae286fe132447f2838e6793",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "74788f6d_3cbd0e1b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 5122
      },
      "writtenOn": "2020-09-21T14:13:21Z",
      "side": 1,
      "message": "Sure, and I already have a follow up CL where these changes fit better.",
      "parentUuid": "13cda61e_8ae05746",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 16,
        "endChar": 0
      },
      "revId": "ce6b60a61473d48e3ae286fe132447f2838e6793",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a44a6537_aaa83bb6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5122
      },
      "writtenOn": "2020-09-21T12:31:12Z",
      "side": 1,
      "message": "Hi Karl,\nCould you PTAL?\nAlessio",
      "revId": "ce6b60a61473d48e3ae286fe132447f2838e6793",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f9f650de_07dcfdc3",
        "filename": "modules/audio_processing/agc2/saturation_protector.cc",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 5126
      },
      "writtenOn": "2020-09-21T13:09:22Z",
      "side": 1,
      "message": "Is the cast necessary?",
      "range": {
        "startLine": 28,
        "startChar": 34,
        "endLine": 28,
        "endChar": 50
      },
      "revId": "ce6b60a61473d48e3ae286fe132447f2838e6793",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4fbc754a_6dd096f2",
        "filename": "modules/audio_processing/agc2/saturation_protector.cc",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 5122
      },
      "writtenOn": "2020-09-21T14:13:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f9f650de_07dcfdc3",
      "range": {
        "startLine": 28,
        "startChar": 34,
        "endLine": 28,
        "endChar": 50
      },
      "revId": "ce6b60a61473d48e3ae286fe132447f2838e6793",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "227a5cf6_df277691",
        "filename": "modules/audio_processing/agc2/saturation_protector.cc",
        "patchSetId": 2
      },
      "lineNbr": 44,
      "author": {
        "id": 5126
      },
      "writtenOn": "2020-09-21T13:09:22Z",
      "side": 1,
      "message": "This cast isn\u0027t necessary; RTC_DCHECK_* can compare integers of different types.",
      "range": {
        "startLine": 44,
        "startChar": 16,
        "endLine": 44,
        "endChar": 32
      },
      "revId": "ce6b60a61473d48e3ae286fe132447f2838e6793",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "31d2291c_704e34f8",
        "filename": "modules/audio_processing/agc2/saturation_protector.cc",
        "patchSetId": 2
      },
      "lineNbr": 44,
      "author": {
        "id": 5122
      },
      "writtenOn": "2020-09-21T14:13:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "227a5cf6_df277691",
      "range": {
        "startLine": 44,
        "startChar": 16,
        "endLine": 44,
        "endChar": 32
      },
      "revId": "ce6b60a61473d48e3ae286fe132447f2838e6793",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2de6de02_5684decb",
        "filename": "modules/audio_processing/agc2/saturation_protector.h",
        "patchSetId": 2
      },
      "lineNbr": 30,
      "author": {
        "id": 5126
      },
      "writtenOn": "2020-09-21T13:09:22Z",
      "side": 1,
      "message": "Updates",
      "range": {
        "startLine": 30,
        "startChar": 5,
        "endLine": 30,
        "endChar": 11
      },
      "revId": "ce6b60a61473d48e3ae286fe132447f2838e6793",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "852eb661_0063043d",
        "filename": "modules/audio_processing/agc2/saturation_protector.h",
        "patchSetId": 2
      },
      "lineNbr": 30,
      "author": {
        "id": 5122
      },
      "writtenOn": "2020-09-21T14:13:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2de6de02_5684decb",
      "range": {
        "startLine": 30,
        "startChar": 5,
        "endLine": 30,
        "endChar": 11
      },
      "revId": "ce6b60a61473d48e3ae286fe132447f2838e6793",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a4edeb48_75444c8c",
        "filename": "modules/audio_processing/agc2/saturation_protector.h",
        "patchSetId": 2
      },
      "lineNbr": 58,
      "author": {
        "id": 5126
      },
      "writtenOn": "2020-09-21T13:09:22Z",
      "side": 1,
      "message": "Turn this into a class, so that the ring buffer logic is separated from the rest?",
      "revId": "ce6b60a61473d48e3ae286fe132447f2838e6793",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "62cff27e_ce6afca3",
        "filename": "modules/audio_processing/agc2/saturation_protector.h",
        "patchSetId": 2
      },
      "lineNbr": 58,
      "author": {
        "id": 5122
      },
      "writtenOn": "2020-09-21T14:13:21Z",
      "side": 1,
      "message": "Thanks for the suggestion.\n\nI thought about that option, but my current plan is to achieve what I did in https://webrtc-review.googlesource.com/c/src/+/184580 which is the big CL I\u0027m splitting. Namely, I need to add a state save/restore behavior to the `AdaptiveModeLevelEstimartor` component, which uses the saturation protector (and hence the former\u0027s state includes the latter\u0027s state). To do that my solution is to expose the saturation protector state struct and only add two functions to modify it (Update and Reset). This is where I want to get with this chain of CLs.\n\nAlso, this is a pretty simple ring buffer as the only non-const operation that it needs to support are push back and reset - so I\u0027d prefer to avoid a separate .h/.cc pair.\n\nSo, if you\u0027re ok with the final design for `AdaptiveModeLevelEstimartor` + `SaturationProtector`, I wouldn\u0027t add a separate class for the ring buffer.\n\nWDYT?",
      "parentUuid": "a4edeb48_75444c8c",
      "revId": "ce6b60a61473d48e3ae286fe132447f2838e6793",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    }
  ]
}