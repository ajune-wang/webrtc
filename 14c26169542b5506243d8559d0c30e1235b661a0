{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "cf83f995_2554a531",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5607
      },
      "writtenOn": "2021-07-08T13:50:45Z",
      "side": 1,
      "message": "Hi Danil, PTAL at this CL to introduce a setter for receive-side RTT.",
      "revId": "14c26169542b5506243d8559d0c30e1235b661a0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bc683501_d54b101a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-07-08T15:15:12Z",
      "side": 1,
      "message": "The functionality itself looks good,\nI have some issues with naming and legacy code style in tests",
      "revId": "14c26169542b5506243d8559d0c30e1235b661a0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9c122538_39bb2a6f",
        "filename": "modules/rtp_rtcp/source/rtcp_receiver_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 954,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-07-08T15:15:12Z",
      "side": 1,
      "message": "https://testing.googleblog.com/2017/07/code-health-to-comment-or-not-to-comment.html\n\n\"avoid comments that just repeat what the code does\"",
      "range": {
        "startLine": 954,
        "startChar": 2,
        "endLine": 954,
        "endChar": 42
      },
      "revId": "14c26169542b5506243d8559d0c30e1235b661a0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0adf0ba6_d4fbfaab",
        "filename": "modules/rtp_rtcp/source/rtcp_receiver_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 954,
      "author": {
        "id": 5607
      },
      "writtenOn": "2021-07-09T12:20:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9c122538_39bb2a6f",
      "range": {
        "startLine": 954,
        "startChar": 2,
        "endLine": 954,
        "endChar": 42
      },
      "revId": "14c26169542b5506243d8559d0c30e1235b661a0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fceb5cf1_27c882ef",
        "filename": "modules/rtp_rtcp/source/rtcp_receiver_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 977,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-07-08T15:15:12Z",
      "side": 1,
      "message": "prefer to put variable under test before the constant\n\n(the opposite order used to be expected by gtest, but it is no longer true since 2016)",
      "range": {
        "startLine": 977,
        "startChar": 14,
        "endLine": 977,
        "endChar": 28
      },
      "revId": "14c26169542b5506243d8559d0c30e1235b661a0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6502159a_e6fcae73",
        "filename": "modules/rtp_rtcp/source/rtcp_receiver_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 980,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-07-08T15:15:12Z",
      "side": 1,
      "message": "disables",
      "range": {
        "startLine": 980,
        "startChar": 26,
        "endLine": 980,
        "endChar": 32
      },
      "revId": "14c26169542b5506243d8559d0c30e1235b661a0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e1e3ab5d_db0f9271",
        "filename": "modules/rtp_rtcp/source/rtcp_receiver_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 980,
      "author": {
        "id": 5607
      },
      "writtenOn": "2021-07-09T12:20:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6502159a_e6fcae73",
      "range": {
        "startLine": 980,
        "startChar": 26,
        "endLine": 980,
        "endChar": 32
      },
      "revId": "14c26169542b5506243d8559d0c30e1235b661a0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "347c4213_e6ff0120",
        "filename": "modules/rtp_rtcp/source/rtcp_receiver_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 982,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-07-08T15:15:12Z",
      "side": 1,
      "message": "May be something like DoesntCalculateRttOnReceivedDlrr\n\nhttps://testing.googleblog.com/2014/10/testing-on-toilet-writing-descriptive.html\n\n\"Make sure test names contain both the scenario being tested and the expected outcome.\"",
      "range": {
        "startLine": 982,
        "startChar": 23,
        "endLine": 982,
        "endChar": 48
      },
      "revId": "14c26169542b5506243d8559d0c30e1235b661a0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d3b8e712_9a15b539",
        "filename": "modules/rtp_rtcp/source/rtcp_receiver_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 982,
      "author": {
        "id": 5607
      },
      "writtenOn": "2021-07-09T12:20:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "347c4213_e6ff0120",
      "range": {
        "startLine": 982,
        "startChar": 23,
        "endLine": 982,
        "endChar": 48
      },
      "revId": "14c26169542b5506243d8559d0c30e1235b661a0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9c7dcba3_3a82fcd3",
        "filename": "modules/rtp_rtcp/source/rtcp_sender_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 552,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-07-08T15:15:12Z",
      "side": 1,
      "message": "SendsNoRrtr [it still may send Xr with another, unrelated, extended report block]",
      "range": {
        "startLine": 552,
        "startChar": 23,
        "endLine": 552,
        "endChar": 31
      },
      "revId": "14c26169542b5506243d8559d0c30e1235b661a0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e1e4ceb4_bceecfdf",
        "filename": "modules/rtp_rtcp/source/rtcp_sender_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 552,
      "author": {
        "id": 5607
      },
      "writtenOn": "2021-07-09T12:20:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9c7dcba3_3a82fcd3",
      "range": {
        "startLine": 552,
        "startChar": 23,
        "endLine": 552,
        "endChar": 31
      },
      "revId": "14c26169542b5506243d8559d0c30e1235b661a0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b71009cf_d378bcc8",
        "filename": "modules/rtp_rtcp/source/rtp_rtcp_impl2.cc",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-07-08T15:15:12Z",
      "side": 1,
      "message": "why this change?",
      "range": {
        "startLine": 106,
        "startChar": 16,
        "endLine": 107,
        "endChar": 62
      },
      "revId": "14c26169542b5506243d8559d0c30e1235b661a0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "231955a7_b409138f",
        "filename": "modules/rtp_rtcp/source/rtp_rtcp_impl2.cc",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 5607
      },
      "writtenOn": "2021-07-09T12:20:33Z",
      "side": 1,
      "message": "The PeriodicUpdate() method is needed to get the receive-side RTT from the RTCPReceiver and set it as the RTT for ModuleRtpRtcp2. Also, in ChannelReceive (which is used by AudioReceiveStream), we do not currently pass in an RtcpRttStats object when we create the ModuleRtpRtcpImpl2, see https://source.chromium.org/chromium/chromium/src/+/main:third_party/webrtc/audio/channel_receive.cc;l\u003d580;drc\u003de54914a79eb055da85592ae5eb3ea3e27ceeb00f\n\nThis means that in the case of AudioReceiveStream, rtt_stats_ will be a nullptr, while it would still be useful to use the receive-side RTT when it is available.",
      "parentUuid": "b71009cf_d378bcc8",
      "range": {
        "startLine": 106,
        "startChar": 16,
        "endLine": 107,
        "endChar": 62
      },
      "revId": "14c26169542b5506243d8559d0c30e1235b661a0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7c6a5de1_eedbf704",
        "filename": "modules/rtp_rtcp/source/rtp_rtcp_impl2.cc",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-07-09T13:13:22Z",
      "side": 1,
      "message": "My main point: the block of code at least deserves a explanation comment.\n\nThe logic basicly say: \"if someone is interested in the rtt, or if this is a receiver-only endpoing\".\nThat doesn\u0027t feel very logical. Can rtt be needed if there is no rtt observer, and it is sender endpoint (and rtt is queried using the accessor).\n\nI\u0027m not sure it is correct. e.g. this is called during the construction, so if NonSenderRttMeasurement is enabled after construction (that what this CL is about, right?), then this periodic task won\u0027t be started.\n\nMay be it would be more logical to always start this task,\nor change the rtt_ms() accessor to query rtt from rtcp_receiver when rtt_ms_ doesn\u0027t contain the rtt.",
      "parentUuid": "231955a7_b409138f",
      "range": {
        "startLine": 106,
        "startChar": 16,
        "endLine": 107,
        "endChar": 62
      },
      "revId": "14c26169542b5506243d8559d0c30e1235b661a0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "293c26a2_d47241ee",
        "filename": "modules/rtp_rtcp/source/rtp_rtcp_impl2.cc",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-07-09T13:28:46Z",
      "side": 1,
      "message": "side quote:\nhttps://google.github.io/eng-practices/review/developer/handling-comments.html#code\n\n\"If a reviewer didn’t understand some piece of your code, it’s likely other future readers of the code won’t understand either. Writing a response in the code review tool doesn’t help future code readers, but clarifying your code or adding code comments does help them.\"",
      "parentUuid": "7c6a5de1_eedbf704",
      "range": {
        "startLine": 106,
        "startChar": 16,
        "endLine": 107,
        "endChar": 62
      },
      "revId": "14c26169542b5506243d8559d0c30e1235b661a0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "603c2547_cad12d67",
        "filename": "modules/rtp_rtcp/source/rtp_rtcp_impl2.cc",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 5607
      },
      "writtenOn": "2021-07-09T14:22:17Z",
      "side": 1,
      "message": "Thanks for the comment about correctness, you\u0027re right that the setter can enable the feature after construction, so the previous version of the code was indeed incorrect. I changed it so that the PeriodicUpdate() task always runs. That seemed simpler than the alternative you mentioned, since getting the receive-side RTT from the RtcpReceiver seems non-trivial (mainly because PeriodicUpdate() will reset it to 0 regularly).\n\nThanks for the advice about how to handle questions from reviewers, I will take it under consideration in the future. I would like to point out that as a reviewer you can also make this easier by being explicit and directly asking for a clarifying comment.",
      "parentUuid": "293c26a2_d47241ee",
      "range": {
        "startLine": 106,
        "startChar": 16,
        "endLine": 107,
        "endChar": 62
      },
      "revId": "14c26169542b5506243d8559d0c30e1235b661a0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "445d4435_f3b22f4e",
        "filename": "modules/rtp_rtcp/source/rtp_rtcp_impl2.h",
        "patchSetId": 2
      },
      "lineNbr": 262,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-07-08T15:15:12Z",
      "side": 1,
      "message": "https://abseil.io/tips/135#last-resort-using-friend_test\n\n\"While common in older code, FRIEND_TEST should not be used in new code\"",
      "range": {
        "startLine": 262,
        "startChar": 2,
        "endLine": 262,
        "endChar": 13
      },
      "revId": "14c26169542b5506243d8559d0c30e1235b661a0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "319840d1_b23f8f68",
        "filename": "modules/rtp_rtcp/source/rtp_rtcp_impl2.h",
        "patchSetId": 2
      },
      "lineNbr": 262,
      "author": {
        "id": 5607
      },
      "writtenOn": "2021-07-09T12:20:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "445d4435_f3b22f4e",
      "range": {
        "startLine": 262,
        "startChar": 2,
        "endLine": 262,
        "endChar": 13
      },
      "revId": "14c26169542b5506243d8559d0c30e1235b661a0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "52a56c1e_c974b230",
        "filename": "modules/rtp_rtcp/source/rtp_rtcp_impl2_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 514,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-07-08T15:15:12Z",
      "side": 1,
      "message": "This feels a strange property to validate. Is there any code that would rely on it?\n[I would prefer no test for the RtpRtcpImpl2 for this change.\nProper test via public api might be too complicated.]",
      "range": {
        "startLine": 514,
        "startChar": 4,
        "endLine": 514,
        "endChar": 54
      },
      "revId": "14c26169542b5506243d8559d0c30e1235b661a0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e98209a1_f2ebca2d",
        "filename": "modules/rtp_rtcp/source/rtp_rtcp_impl2_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 514,
      "author": {
        "id": 5607
      },
      "writtenOn": "2021-07-09T12:20:33Z",
      "side": 1,
      "message": "Good point, I deleted this test.",
      "parentUuid": "52a56c1e_c974b230",
      "range": {
        "startLine": 514,
        "startChar": 4,
        "endLine": 514,
        "endChar": 54
      },
      "revId": "14c26169542b5506243d8559d0c30e1235b661a0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2f06db23_7dca0113",
        "filename": "modules/rtp_rtcp/source/rtp_rtcp_interface.h",
        "patchSetId": 2
      },
      "lineNbr": 240,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-07-08T15:15:12Z",
      "side": 1,
      "message": "similarly to lines 145\u0026146 might be good to mention it is about RRTR and DLRR rtcp messages\n\n(\"Avoid \"Used For\" API comments\" http://go/totw/138)",
      "range": {
        "startLine": 240,
        "startChar": 2,
        "endLine": 240,
        "endChar": 57
      },
      "revId": "14c26169542b5506243d8559d0c30e1235b661a0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "40e28c9e_a33716ee",
        "filename": "modules/rtp_rtcp/source/rtp_rtcp_interface.h",
        "patchSetId": 2
      },
      "lineNbr": 241,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-07-08T15:15:12Z",
      "side": 1,
      "message": "https://google.github.io/styleguide/cppguide.html#General_Naming_Rules\n\"Do not abbreviate by deleting letters within a word.\"\n\nMay be name it similar to the configuration paramater because it is the same thing:\nEnableNonSenderRttMeasurement(bool value)",
      "range": {
        "startLine": 241,
        "startChar": 18,
        "endLine": 241,
        "endChar": 22
      },
      "revId": "14c26169542b5506243d8559d0c30e1235b661a0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bbdef365_62760598",
        "filename": "modules/rtp_rtcp/source/rtp_rtcp_interface.h",
        "patchSetId": 2
      },
      "lineNbr": 241,
      "author": {
        "id": 5607
      },
      "writtenOn": "2021-07-09T12:20:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "40e28c9e_a33716ee",
      "range": {
        "startLine": 241,
        "startChar": 18,
        "endLine": 241,
        "endChar": 22
      },
      "revId": "14c26169542b5506243d8559d0c30e1235b661a0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}