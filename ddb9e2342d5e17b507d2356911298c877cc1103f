{
  "comments": [
    {
      "key": {
        "uuid": "a3b12075_c059706b",
        "filename": "pc/rtcstatscollector.h",
        "patchSetId": 5
      },
      "lineNbr": 61,
      "author": {
        "id": 5053
      },
      "writtenOn": "2018-03-16T22:26:28Z",
      "side": 1,
      "message": "Could just DCHECK that |selector| is non-null and count on PeerConnection to call it correctly.",
      "revId": "ddb9e2342d5e17b507d2356911298c877cc1103f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7abdffe5_5da3811a",
        "filename": "pc/rtcstatscollector.h",
        "patchSetId": 5
      },
      "lineNbr": 61,
      "author": {
        "id": 5142
      },
      "writtenOn": "2018-03-19T12:58:13Z",
      "side": 1,
      "message": "I don\u0027t want to do that because...\n1. Invoking getStats() with a sender/receiver that is not listed amongst the PCs current set of senders/receivers is a valid use case (e.g. with Plan B having removed it even if it was created with this PC).\n2. The RTCStatsCollectorCallback does not contain an OnFailure callback and I don\u0027t want to add one or duplicate \"return empty report asynchronously\" code.\n\nMy follow-up CL makes use of the null sender/receiver path and this is by design, see that CL.",
      "parentUuid": "a3b12075_c059706b",
      "revId": "ddb9e2342d5e17b507d2356911298c877cc1103f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "20f3fb8e_2b691bbf",
        "filename": "pc/rtcstatscollector.h",
        "patchSetId": 5
      },
      "lineNbr": 61,
      "author": {
        "id": 5142
      },
      "writtenOn": "2018-03-19T14:38:27Z",
      "side": 1,
      "message": "Clarifying:\n\nI will DCHECK that PeerConnection::GetStats() is called with non-null taking RtpSenderInterface as the selector, but the RTCStatsCollector::GetStats() takes RtpSenderInternal, and the sender interface -\u003e sender internal lookup can fail if the sender has been removed from the PC, in which case I invoke the collector with null selector.\n\nThe alternative would be to static_cast\u003c\u003e the sender interface to a proxy and fetch the internal instead of iterating senders. Then I can DCHECK non-null in both places but I introduce a static_cast.",
      "parentUuid": "7abdffe5_5da3811a",
      "revId": "ddb9e2342d5e17b507d2356911298c877cc1103f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8cfae177_9466eca2",
        "filename": "pc/rtcstatscollector_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 1907,
      "author": {
        "id": 5634
      },
      "writtenOn": "2018-03-16T15:50:39Z",
      "side": 1,
      "message": "Since you have all this nice code for dealing with null selectors, please exercise them.\n\nPerhaps refactor the setup of the stats tree into a separate function, so that you can do sender selector, receiver selector and the two null selectors as separate tests?",
      "revId": "ddb9e2342d5e17b507d2356911298c877cc1103f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9c676a7d_6abdb1c1",
        "filename": "pc/rtcstatscollector_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 1907,
      "author": {
        "id": 5142
      },
      "writtenOn": "2018-03-19T12:58:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8cfae177_9466eca2",
      "revId": "ddb9e2342d5e17b507d2356911298c877cc1103f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}