{
  "comments": [
    {
      "key": {
        "uuid": "73aea070_59e9cc2d",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad.cc",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 5125
      },
      "writtenOn": "2018-04-24T06:10:32Z",
      "side": 1,
      "message": "Please make this a const Config\u0026 to avoid an extra copy.",
      "range": {
        "startLine": 18,
        "startChar": 33,
        "endLine": 18,
        "endChar": 39
      },
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "242ca26a_e10124ed",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad.cc",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 5122
      },
      "writtenOn": "2018-04-24T08:52:12Z",
      "side": 1,
      "message": "This objects are cheap to copy (5 floats) and with this iface I can pass {} even if the ctor is explicit. Would you still recommend to pass a const ref?",
      "parentUuid": "73aea070_59e9cc2d",
      "range": {
        "startLine": 18,
        "startChar": 33,
        "endLine": 18,
        "endChar": 39
      },
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "464e052f_e177dc01",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad.cc",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 5125
      },
      "writtenOn": "2018-04-24T11:16:08Z",
      "side": 1,
      "message": "Good point. No, then let\u0027s keep it.",
      "parentUuid": "242ca26a_e10124ed",
      "range": {
        "startLine": 18,
        "startChar": 33,
        "endLine": 18,
        "endChar": 39
      },
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "613bda37_5ed003ad",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad.cc",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 5122
      },
      "writtenOn": "2018-04-24T13:52:19Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "464e052f_e177dc01",
      "range": {
        "startLine": 18,
        "startChar": 33,
        "endLine": 18,
        "endChar": 39
      },
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "42ab7d7b_1886e184",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad.cc",
        "patchSetId": 2
      },
      "lineNbr": 38,
      "author": {
        "id": 5125
      },
      "writtenOn": "2018-04-24T06:10:32Z",
      "side": 1,
      "message": "Is really double precision needed?",
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "27b63612_defb0e3d",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad.cc",
        "patchSetId": 2
      },
      "lineNbr": 38,
      "author": {
        "id": 5122
      },
      "writtenOn": "2018-04-24T08:52:12Z",
      "side": 1,
      "message": "Without casts, the bit exactness test used to compare to the reference code obviously fails.\nBut currently the high-pass filter is disabled, so removing the casts (and the bit exactness test) is a viable option.\n\nThe question is what is best for a transposed direct form II implementation of a bi-quad.\nI\u0027ve found some recommendations on how to implement these filters; as far as I understand such a cast affects both accuracy and stability. Let\u0027s discuss offline.",
      "parentUuid": "42ab7d7b_1886e184",
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4d476e99_8d009684",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad.cc",
        "patchSetId": 2
      },
      "lineNbr": 38,
      "author": {
        "id": 5125
      },
      "writtenOn": "2018-04-24T11:16:08Z",
      "side": 1,
      "message": "Sounds good.",
      "parentUuid": "27b63612_defb0e3d",
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6ddda9f1_115e3937",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad.cc",
        "patchSetId": 2
      },
      "lineNbr": 38,
      "author": {
        "id": 5122
      },
      "writtenOn": "2018-04-24T13:52:19Z",
      "side": 1,
      "message": "Cast removed. I\u0027m now comparing to scipy.signal and regardless of whether I use the cast to double the tolerance to let the UT pass remains the same - i.e., cannot lower it when casting.",
      "parentUuid": "4d476e99_8d009684",
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "80900748_5862aeb8",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad.h",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 5125
      },
      "writtenOn": "2018-04-24T06:10:32Z",
      "side": 1,
      "message": "Please skip the _ in the parameter name suffixes",
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "74008945_85acb8be",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad.h",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 5122
      },
      "writtenOn": "2018-04-24T08:52:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "80900748_5862aeb8",
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8486e180_a797d6b5",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad.h",
        "patchSetId": 2
      },
      "lineNbr": 39,
      "author": {
        "id": 5125
      },
      "writtenOn": "2018-04-24T06:10:32Z",
      "side": 1,
      "message": "Please skip the _ in the parameter name suffixes",
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f03f8ead_5dbd1f12",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad.h",
        "patchSetId": 2
      },
      "lineNbr": 39,
      "author": {
        "id": 5122
      },
      "writtenOn": "2018-04-24T08:52:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8486e180_a797d6b5",
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "89ac4ebe_70922282",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad.h",
        "patchSetId": 2
      },
      "lineNbr": 45,
      "author": {
        "id": 5125
      },
      "writtenOn": "2018-04-24T06:10:32Z",
      "side": 1,
      "message": "If possible, it would be nicer to use the macros in rtc_base/constructormagic.h to delete these constructors.",
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "840208dd_72b2ad1e",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad.h",
        "patchSetId": 2
      },
      "lineNbr": 45,
      "author": {
        "id": 5122
      },
      "writtenOn": "2018-04-24T08:52:12Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "89ac4ebe_70922282",
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b05b726f_2c49fb66",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad.h",
        "patchSetId": 2
      },
      "lineNbr": 45,
      "author": {
        "id": 5100
      },
      "writtenOn": "2018-04-27T06:02:25Z",
      "side": 1,
      "message": "FYI: constructormagic.h is about to be deprecated. The preferred way is to \u003ddelete the unwanted constructors.",
      "parentUuid": "840208dd_72b2ad1e",
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4d4fe8b1_37fbbae5",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad.h",
        "patchSetId": 2
      },
      "lineNbr": 49,
      "author": {
        "id": 5125
      },
      "writtenOn": "2018-04-24T06:10:32Z",
      "side": 1,
      "message": "What is the intended use of the SetState method?",
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4750ce22_3f62d3f3",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad.h",
        "patchSetId": 2
      },
      "lineNbr": 49,
      "author": {
        "id": 5122
      },
      "writtenOn": "2018-04-24T08:52:12Z",
      "side": 1,
      "message": "Only used for unit tests. Shall I make it private and friend with the unit test class?",
      "parentUuid": "4d4fe8b1_37fbbae5",
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "64b0e54a_f999455b",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad.h",
        "patchSetId": 2
      },
      "lineNbr": 49,
      "author": {
        "id": 5125
      },
      "writtenOn": "2018-04-24T11:16:08Z",
      "side": 1,
      "message": "I don\u0027t think it is needed for the tests. It is used in the bitexactness test but since you have so many datapoints in that already specifying the initial state with SetState does not add anything for the test.\n\nFurthermore, since it is not used like that in practice, it is actually better to do the unittests with the default initialization (with zero state) as that will really test how it is done in the production code.\n\nTo summarize: I think you should remove this.",
      "parentUuid": "4750ce22_3f62d3f3",
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d36b94c7_d795b318",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad.h",
        "patchSetId": 2
      },
      "lineNbr": 49,
      "author": {
        "id": 5122
      },
      "writtenOn": "2018-04-24T13:52:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "64b0e54a_f999455b",
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "73c6a843_e1e9f015",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad.h",
        "patchSetId": 2
      },
      "lineNbr": 59,
      "author": {
        "id": 5125
      },
      "writtenOn": "2018-04-24T06:10:32Z",
      "side": 1,
      "message": "Please add a more thorough description to what this config does, either in the comment or by making the name of the constant more descriptive.\n\nSince a biquad filter seems like a good candidate for making a shared/common component that can be reused in other WebRTC code, it would make sense not to include any biquad configs into this file and instead put them elsewhere.",
      "range": {
        "startLine": 59,
        "startChar": 27,
        "endLine": 59,
        "endChar": 42
      },
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5fb1d333_ce983ff2",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad.h",
        "patchSetId": 2
      },
      "lineNbr": 59,
      "author": {
        "id": 5122
      },
      "writtenOn": "2018-04-24T08:52:12Z",
      "side": 1,
      "message": "Sorry, that was a left over. Now moved to biquad_unittest.cc.",
      "parentUuid": "73c6a843_e1e9f015",
      "range": {
        "startLine": 59,
        "startChar": 27,
        "endLine": 59,
        "endChar": 42
      },
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6252d3ea_236a3a86",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad.h",
        "patchSetId": 2
      },
      "lineNbr": 59,
      "author": {
        "id": 5125
      },
      "writtenOn": "2018-04-24T11:16:08Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "5fb1d333_ce983ff2",
      "range": {
        "startLine": 59,
        "startChar": 27,
        "endLine": 59,
        "endChar": 42
      },
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a2e4e9d3_29e89adb",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 134,
      "author": {
        "id": 5125
      },
      "writtenOn": "2018-04-24T06:10:32Z",
      "side": 1,
      "message": "Suggestion: it would be nice not to use a testcase of 48 kHz for this test as the reference data becomes so long. For the same reason it would make sense to limit the test to be done on less than 10 ms of data. For checking the bitexactness of this, I\u0027d think it is sufficient to verify the output of only a few values.\n\nInstead of the long bitexactness test it would be nice to have a simple spec-test that verifies that the desired effect of the biquad filter is achieved.",
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca98196a_96cc4c67",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 134,
      "author": {
        "id": 5122
      },
      "writtenOn": "2018-04-24T08:52:12Z",
      "side": 1,
      "message": "Right. I added a TODO to remove this test once the whole VAD lands.\nKeeping this until then helps me with addressing comments without breaking the RNN.\nThere are a lot of tests like this which would be too much for the trybots.",
      "parentUuid": "a2e4e9d3_29e89adb",
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a1fc5b60_8f0d5328",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 134,
      "author": {
        "id": 5125
      },
      "writtenOn": "2018-04-24T11:16:08Z",
      "side": 1,
      "message": "The concern is not for the trybot but instead rather for the codesize and the ability to maintain them.",
      "parentUuid": "ca98196a_96cc4c67",
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "57a91f18_829dac2b",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 134,
      "author": {
        "id": 5122
      },
      "writtenOn": "2018-04-24T13:52:19Z",
      "side": 1,
      "message": "Let\u0027s do this: since I also removed SetState(), we simplify this test as per your initial suggestion. This also gives us freedom to change the bi-quad impl and remove the cast if we want that. I\u0027m now comparing to Python scipy.signal.",
      "parentUuid": "a1fc5b60_8f0d5328",
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5fb7ff95_1a51f184",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 141,
      "author": {
        "id": 5125
      },
      "writtenOn": "2018-04-24T06:10:32Z",
      "side": 1,
      "message": "If this config is only used herein, I\u0027d suggest moving it from the biquad header file to here.",
      "range": {
        "startLine": 141,
        "startChar": 19,
        "endLine": 141,
        "endChar": 34
      },
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "968a761a_e7eaa6a3",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 141,
      "author": {
        "id": 5122
      },
      "writtenOn": "2018-04-24T08:52:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5fb7ff95_1a51f184",
      "range": {
        "startLine": 141,
        "startChar": 19,
        "endLine": 141,
        "endChar": 34
      },
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "232a2df5_fce3eb57",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 147,
      "author": {
        "id": 5125
      },
      "writtenOn": "2018-04-24T06:10:32Z",
      "side": 1,
      "message": "My suggestion is to remove the curly braces that achieve local scope.\nThe only effect of that is that samples_filtered is not visible in the second region, but since that is anyway not used there, and since the test cases is so short, I think there is nothing to gain by the local scope that outweights the cost in readability that is introduced.",
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e989abb3_9ac880c6",
        "filename": "modules/audio_processing/agc2/rnn_vad/biquad_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 147,
      "author": {
        "id": 5122
      },
      "writtenOn": "2018-04-24T08:52:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "232a2df5_fce3eb57",
      "revId": "9d740f9ad0a9273d88459e3181e1589aae535a0a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}