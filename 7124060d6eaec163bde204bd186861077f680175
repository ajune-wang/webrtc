{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "8fa118ac_9458c9b2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 8038
      },
      "writtenOn": "2021-06-28T13:48:55Z",
      "side": 1,
      "message": "PTAL:\n\n- hbos: api/ pc/\n- saza: audio/ media/\n- terelius: call/\n\nThanks!",
      "revId": "7124060d6eaec163bde204bd186861077f680175",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ec8cb6c7_65f6df70",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5142
      },
      "writtenOn": "2021-06-28T14:27:51Z",
      "side": 1,
      "message": "RTCStats side of things LGTM.\n\nI looks like we already pass the web platform test for nackCount:\nhttps://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/web_tests/external/wpt/webrtc-stats/supported-stats-expected.txt;l\u003d37\n\nSo I guess the chromium test was not looking at the mediaType. Then I think you can land this without updating chromium expectations :)",
      "revId": "7124060d6eaec163bde204bd186861077f680175",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8f9d6d27_ba1ef837",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5150
      },
      "writtenOn": "2021-06-28T14:45:30Z",
      "side": 1,
      "message": "The declaration in call/ looks good, but I don\u0027t quite get a clear birds-eye picture of the entire CL. Do we NACK audio streams? Where does the actual NACK counting (e.g. nacks++) take place?",
      "revId": "7124060d6eaec163bde204bd186861077f680175",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "34492fe7_fa397958",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 8038
      },
      "writtenOn": "2021-06-28T15:11:40Z",
      "side": 1,
      "message": "NACK can be enabled for audio streams by adding rtcp-fb nack to the SDP.\n\nnack_packets is updated here: https://source.chromium.org/chromium/chromium/src/+/main:third_party/webrtc/modules/rtp_rtcp/source/rtcp_sender.cc;l\u003d605;drc\u003dc14f6f4b9c44fe479a8d004576b42723b2a5feb6",
      "parentUuid": "8f9d6d27_ba1ef837",
      "revId": "7124060d6eaec163bde204bd186861077f680175",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e78952bf_947d4b88",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5142
      },
      "writtenOn": "2021-06-28T15:29:40Z",
      "side": 1,
      "message": "Are you adding it to the local or remote SDP? Remember that local SDP munging is illegal according to spec and that we should not increase the need to use the API that way",
      "parentUuid": "34492fe7_fa397958",
      "revId": "7124060d6eaec163bde204bd186861077f680175",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "01add96d_781523a3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 8038
      },
      "writtenOn": "2021-06-28T15:34:06Z",
      "side": 1,
      "message": "Remote description for NACKing packets on audio receive streams.\n\nFor retransmitting packets on the sender side, munging local description is needed. So we will likely need to figure out some other way of enabling that :)",
      "parentUuid": "e78952bf_947d4b88",
      "revId": "7124060d6eaec163bde204bd186861077f680175",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cb543343_6196bc92",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5142
      },
      "writtenOn": "2021-06-29T06:51:16Z",
      "side": 1,
      "message": "Is this an RTP header extension? If so there is the setOfferedRtpHeaderExtensions API:\nhttps://w3c.github.io/webrtc-extensions/#rtcrtptransceiver-interface\n\nHave you made sure everything is wired up so that this API works?",
      "parentUuid": "01add96d_781523a3",
      "revId": "7124060d6eaec163bde204bd186861077f680175",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6b1df963_8ecf6ecf",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5142
      },
      "writtenOn": "2021-06-29T06:54:38Z",
      "side": 1,
      "message": "You get video NACKs by default, but not audio NACKs? Isn\u0027t this the same thing basically? Are they negotiated differently?",
      "parentUuid": "cb543343_6196bc92",
      "revId": "7124060d6eaec163bde204bd186861077f680175",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "434a3fbb_30cd6292",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 8038
      },
      "writtenOn": "2021-06-29T07:14:46Z",
      "side": 1,
      "message": "It\u0027s not a header extension, it\u0027s rtcp feedback attribute in the SDP (https://datatracker.ietf.org/doc/html/rfc4585#section-4.2). Is there another API controlling these?\n\n\u003e You get video NACKs by default, but not audio NACKs? Isn\u0027t this the same thing basically? Are they negotiated differently?\n\nNACKs are enabled by default for video since video frames have dependencies on previous frames for decoding. This is not true for audio frames (that can be decoded independently) but it might make sense to nack for some applications that can tolerate a bit higher latency to achieve higher quality.",
      "parentUuid": "6b1df963_8ecf6ecf",
      "revId": "7124060d6eaec163bde204bd186861077f680175",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "66b0f5e2_157148f4",
        "filename": "audio/channel_receive.cc",
        "patchSetId": 3
      },
      "lineNbr": 880,
      "author": {
        "id": 5150
      },
      "writtenOn": "2021-06-28T14:45:30Z",
      "side": 1,
      "message": "Is this called anywhere?",
      "range": {
        "startLine": 880,
        "startChar": 0,
        "endLine": 880,
        "endChar": 51
      },
      "revId": "7124060d6eaec163bde204bd186861077f680175",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8ca19287_433884b3",
        "filename": "audio/channel_receive.cc",
        "patchSetId": 3
      },
      "lineNbr": 880,
      "author": {
        "id": 8038
      },
      "writtenOn": "2021-06-28T15:11:40Z",
      "side": 1,
      "message": "Yes, it is called from here: https://source.chromium.org/chromium/chromium/src/+/main:third_party/webrtc/modules/rtp_rtcp/source/rtcp_sender.cc;l\u003d750;drc\u003dc14f6f4b9c44fe479a8d004576b42723b2a5feb6\n\nSorry I had missed to add the rtcp_packet_type_counter_observer to the RtpRtcpInterface::Configuration :)",
      "parentUuid": "66b0f5e2_157148f4",
      "range": {
        "startLine": 880,
        "startChar": 0,
        "endLine": 880,
        "endChar": 51
      },
      "revId": "7124060d6eaec163bde204bd186861077f680175",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ff2e6844_79f87a1e",
        "filename": "audio/channel_receive.cc",
        "patchSetId": 3
      },
      "lineNbr": 880,
      "author": {
        "id": 5150
      },
      "writtenOn": "2021-06-28T15:43:51Z",
      "side": 1,
      "message": "Ok, now it makes more sense to me. :) Thanks\n\nOne question though: Since the existing unit tests passed, should we add some additional unit test or integration test to cover the wire up/propagation?",
      "parentUuid": "8ca19287_433884b3",
      "range": {
        "startLine": 880,
        "startChar": 0,
        "endLine": 880,
        "endChar": 51
      },
      "revId": "7124060d6eaec163bde204bd186861077f680175",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "94f80bbe_520cceb2",
        "filename": "audio/channel_receive.cc",
        "patchSetId": 3
      },
      "lineNbr": 880,
      "author": {
        "id": 8038
      },
      "writtenOn": "2021-06-29T07:14:46Z",
      "side": 1,
      "message": "Yes, I will add internal integration test.",
      "parentUuid": "ff2e6844_79f87a1e",
      "range": {
        "startLine": 880,
        "startChar": 0,
        "endLine": 880,
        "endChar": 51
      },
      "revId": "7124060d6eaec163bde204bd186861077f680175",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "766614db_7b9151e5",
        "filename": "audio/channel_receive.cc",
        "patchSetId": 3
      },
      "lineNbr": 880,
      "author": {
        "id": 5634
      },
      "writtenOn": "2021-06-29T07:16:26Z",
      "side": 1,
      "message": "+1 to never adding code without a test that wouldn\u0027t have passed before!",
      "parentUuid": "ff2e6844_79f87a1e",
      "range": {
        "startLine": 880,
        "startChar": 0,
        "endLine": 880,
        "endChar": 51
      },
      "revId": "7124060d6eaec163bde204bd186861077f680175",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fb305265_1c366ec4",
        "filename": "audio/channel_receive.cc",
        "patchSetId": 3
      },
      "lineNbr": 880,
      "author": {
        "id": 8038
      },
      "writtenOn": "2021-06-30T09:58:28Z",
      "side": 1,
      "message": "Added sort-of-integration test now, PTAL.",
      "parentUuid": "766614db_7b9151e5",
      "range": {
        "startLine": 880,
        "startChar": 0,
        "endLine": 880,
        "endChar": 51
      },
      "revId": "7124060d6eaec163bde204bd186861077f680175",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}