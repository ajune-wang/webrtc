{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "bbc89736_c9092bcc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 19549
      },
      "writtenOn": "2023-08-10T12:53:55Z",
      "side": 1,
      "message": "ofc course we had a test muning in weird ways :-)",
      "revId": "638377aa65b526248c4dbf8e40c7e94c8583cd93",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1d580034_f607b376",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5634
      },
      "writtenOn": "2023-08-11T06:39:35Z",
      "side": 1,
      "message": "Adding orphis to answer question about kMaxSimulcastStreams.",
      "revId": "638377aa65b526248c4dbf8e40c7e94c8583cd93",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "470a6d64_931349e6",
        "filename": "pc/sdp_offer_answer.cc",
        "patchSetId": 2
      },
      "lineNbr": 535,
      "author": {
        "id": 5634
      },
      "writtenOn": "2023-08-11T06:39:35Z",
      "side": 1,
      "message": "As a matter of style, I\u0027d prefer this to be a case statement over group.semantics.\n\nI also wonder if the whole validation function belongs in stream_params.cc rather than sdp_offer_answer.cc.",
      "revId": "638377aa65b526248c4dbf8e40c7e94c8583cd93",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d6e68602_cecb62ba",
        "filename": "pc/sdp_offer_answer.cc",
        "patchSetId": 2
      },
      "lineNbr": 535,
      "author": {
        "id": 19549
      },
      "writtenOn": "2023-08-11T07:34:09Z",
      "side": 1,
      "message": "Can\u0027t switch on strings sadly.\nI don\u0027t see StreamParams supporting more than two, in particular it uses  AddFidSsrc and AddFecFrSsrc. The SIM ssrc group is created via this:\nhttps://source.chromium.org/chromium/chromium/src/+/refs/heads/main:third_party/webrtc/pc/webrtc_sdp.cc;l\u003d3558;drc\u003db86abfa407f3f35d3e5904e76b9a8d3a741bdc8b;bpv\u003d1;bpt\u003d1\n\nI also wonder how the FEC-FR ssrc group looks like with multiple ssrcs which is being worked on in https://bugs.chromium.org/p/webrtc/issues/detail?id\u003d15002\nI\u0027d rather not reject 2 now and then create a huge backward compat problem between versions...\nMy interpretation is that a FEC packet can protect multiple SSRCs but that means the FEC-FR groups are still\na\u003dssrc-group:FEC-FR videossrc1 fecssrc1\na\u003dssrc-group:FEC-FR videossrc2 fecssrc1\nand not\na\u003dssrc-group:FEC-FR videossrc1 videossrc2 fecssrc1\nsince the notion is always \"primary-secondary\". Not necessarily covered by RFC 5576 though...",
      "parentUuid": "470a6d64_931349e6",
      "revId": "638377aa65b526248c4dbf8e40c7e94c8583cd93",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8c74e6e0_da19f2a9",
        "filename": "pc/sdp_offer_answer.cc",
        "patchSetId": 2
      },
      "lineNbr": 540,
      "author": {
        "id": 19549
      },
      "writtenOn": "2023-08-10T12:53:55Z",
      "side": 1,
      "message": "Does this need to be kMaxSimulcastStreams (3) or kMaxSpatialLayers (5)?\nhttps://source.chromium.org/chromium/chromium/src/+/refs/heads/main:third_party/webrtc/api/video/video_codec_constants.h;l\u003d17;drc\u003d1c5350e7f3c012f386e12a8167b2a3e28f57774a;bpv\u003d1;bpt\u003d1",
      "revId": "638377aa65b526248c4dbf8e40c7e94c8583cd93",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0a34cc61_e97ec6d1",
        "filename": "pc/sdp_offer_answer.cc",
        "patchSetId": 2
      },
      "lineNbr": 540,
      "author": {
        "id": 5634
      },
      "writtenOn": "2023-08-11T06:39:35Z",
      "side": 1,
      "message": "In theory, kMaxSpatialLayers should only refer to the SVC type of spatial layers, so it should be kMaxSimulcastStreams.\n\n@orphis will know if there are hacks to avoid.\n\nOn the simulcast layers, I do wonder if erroring the SetRemoteDescription is the right thing; a remote may propose more simulcast streams than the local can support, and that\u0027s not an error, it\u0027s a reason to truncate the list. (Not that I think we test this!)",
      "parentUuid": "8c74e6e0_da19f2a9",
      "revId": "638377aa65b526248c4dbf8e40c7e94c8583cd93",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "91e847b5_3e2e3541",
        "filename": "pc/sdp_offer_answer.cc",
        "patchSetId": 2
      },
      "lineNbr": 540,
      "author": {
        "id": 19549
      },
      "writtenOn": "2023-08-11T07:34:09Z",
      "side": 1,
      "message": "The tricky thing here is that certain services use the SIM ssrc-group to enable SVC ;-)",
      "parentUuid": "0a34cc61_e97ec6d1",
      "revId": "638377aa65b526248c4dbf8e40c7e94c8583cd93",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5e416249_c2c16480",
        "filename": "pc/sdp_offer_answer.cc",
        "patchSetId": 2
      },
      "lineNbr": 540,
      "author": {
        "id": 7036
      },
      "writtenOn": "2023-08-11T14:57:41Z",
      "side": 1,
      "message": "I don\u0027t know of any users of SVC with more than 3 layers at the moment, but I\u0027m not necessarily the most informed person there is.\nAs this is non standard behaviour and probably unused with a count bigger than 3, I think it\u0027s fine.\n\n@ssilkin may know more.\n\nOtherwise, yes, this should be checked for kMaxSimulcastStreams only (which I believe, we should probably be able to increase to a higher value now).",
      "parentUuid": "91e847b5_3e2e3541",
      "revId": "638377aa65b526248c4dbf8e40c7e94c8583cd93",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7b1d3442_f104b4b5",
        "filename": "pc/sdp_offer_answer.cc",
        "patchSetId": 2
      },
      "lineNbr": 540,
      "author": {
        "id": 5825
      },
      "writtenOn": "2023-08-16T13:39:57Z",
      "side": 1,
      "message": "https://source.chromium.org/chromium/chromium/src/+/main:third_party/webrtc/media/engine/webrtc_video_engine.cc;l\u003d889:\nvp9_settings.numberOfSpatialLayers \u003d std::min\u003cunsigned char\u003e(\n        parameters_.config.rtp.ssrcs.size(), kConferenceMaxNumSpatialLayers);\n\nhttps://source.chromium.org/chromium/chromium/src/+/refs/heads/main:third_party/webrtc/media/base/media_constants.cc;l\u003d120:\nconst size_t kConferenceMaxNumSpatialLayers \u003d 3;\n\nI.e., even when inferred from number of SSRCs, the max number of VP9 spatial layers is capped by 3. In case of AV1 scalability_mode is the only source for the number of spatial layers (max \u003d3). It should be OK to use kMaxSimulcastStreams (\u003d3) here, not kMaxSpatialLayers (\u003d5), at least for now.",
      "parentUuid": "5e416249_c2c16480",
      "revId": "638377aa65b526248c4dbf8e40c7e94c8583cd93",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "35bdfc77_5d773a7a",
        "filename": "pc/sdp_offer_answer.cc",
        "patchSetId": 2
      },
      "lineNbr": 540,
      "author": {
        "id": 19549
      },
      "writtenOn": "2023-08-18T07:11:54Z",
      "side": 1,
      "message": "No change required then. Until you move to four layers because of 1080p but that might be when you need to stop SDP munging ;-)",
      "parentUuid": "7b1d3442_f104b4b5",
      "revId": "638377aa65b526248c4dbf8e40c7e94c8583cd93",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "65990e3c_a8eae1b5",
        "filename": "pc/sdp_offer_answer_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 692,
      "author": {
        "id": 5634
      },
      "writtenOn": "2023-08-11T06:39:35Z",
      "side": 1,
      "message": "Can you EXPECT on the error?",
      "revId": "638377aa65b526248c4dbf8e40c7e94c8583cd93",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8b09b658_13f91e03",
        "filename": "pc/sdp_offer_answer_unittest.cc",
        "patchSetId": 2
      },
      "lineNbr": 692,
      "author": {
        "id": 19549
      },
      "writtenOn": "2023-08-11T07:34:09Z",
      "side": 1,
      "message": "All of them!",
      "parentUuid": "65990e3c_a8eae1b5",
      "revId": "638377aa65b526248c4dbf8e40c7e94c8583cd93",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}