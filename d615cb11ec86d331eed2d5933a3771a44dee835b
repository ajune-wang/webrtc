{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "84b7cd65_1433c2c7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 5234
      },
      "writtenOn": "2022-04-29T12:58:16Z",
      "side": 1,
      "message": "Now rebased on top of the enum cl, with some things getting slightly simpler.",
      "revId": "d615cb11ec86d331eed2d5933a3771a44dee835b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8a9a103c_8c31aac2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 5234
      },
      "writtenOn": "2022-05-02T15:08:58Z",
      "side": 1,
      "message": "Ping? Is it reasonable to land this, as a first step? Or are more tests needed?",
      "revId": "d615cb11ec86d331eed2d5933a3771a44dee835b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c5320a76_e7f5e31f",
        "filename": "api/video_codecs/vp8_temporal_layers_factory.cc",
        "patchSetId": 8
      },
      "lineNbr": 34,
      "author": {
        "id": 5492
      },
      "writtenOn": "2022-05-03T09:08:20Z",
      "side": 1,
      "message": "Should SupportsScalabilityMode be used:\nhttps://source.chromium.org/chromium/chromium/src/+/main:third_party/webrtc/modules/video_coding/codecs/vp8/libvpx_vp8_encoder.cc;l\u003d235",
      "range": {
        "startLine": 33,
        "startChar": 9,
        "endLine": 34,
        "endChar": 52
      },
      "revId": "d615cb11ec86d331eed2d5933a3771a44dee835b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f8975d30_6d50b71b",
        "filename": "api/video_codecs/vp8_temporal_layers_factory.cc",
        "patchSetId": 8
      },
      "lineNbr": 34,
      "author": {
        "id": 5234
      },
      "writtenOn": "2022-05-03T13:20:08Z",
      "side": 1,
      "message": "Makes sense. Maybe I should make a separate cl to update that to use the enum, and to also support the new L1T1?\n\nLooks like QueryCodecSupport is used by chromium, but not internally in webrtc?",
      "parentUuid": "c5320a76_e7f5e31f",
      "range": {
        "startLine": 33,
        "startChar": 9,
        "endLine": 34,
        "endChar": 52
      },
      "revId": "d615cb11ec86d331eed2d5933a3771a44dee835b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ad4392e_644eae20",
        "filename": "api/video_codecs/vp8_temporal_layers_factory.cc",
        "patchSetId": 8
      },
      "lineNbr": 34,
      "author": {
        "id": 5234
      },
      "writtenOn": "2022-05-04T11:27:25Z",
      "side": 1,
      "message": "Separate (rather large) cl: https://webrtc-review.googlesource.com/c/src/+/260982",
      "parentUuid": "f8975d30_6d50b71b",
      "range": {
        "startLine": 33,
        "startChar": 9,
        "endLine": 34,
        "endChar": 52
      },
      "revId": "d615cb11ec86d331eed2d5933a3771a44dee835b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f267bfdd_a46ebce9",
        "filename": "api/video_codecs/vp8_temporal_layers_factory.cc",
        "patchSetId": 8
      },
      "lineNbr": 34,
      "author": {
        "id": 5234
      },
      "writtenOn": "2022-05-06T09:23:15Z",
      "side": 1,
      "message": "Trying to do this, after rebase. But since VP8Encoder::SupportsScalabilityMode is in the webrtc_vp8 build target, this results in a dependency cycle that I have to break in some way:\n\n  //modules/video_coding:webrtc_vp8 -\u003e                                         | *  be found in the AUTHORS file in the root of the source tree.               \n  //api/video_codecs:vp8_temporal_layers_factory -\u003e                            | */\n  //modules/video_coding:webrtc_vp8                                            |\n  \nTo get this to work, I think we need to have the functionality of the current VP8Encoder::SupportsScalabilityMode (lightweight codec meta information) in a different build target than the heavier VP8Encoder::Create.",
      "parentUuid": "5ad4392e_644eae20",
      "range": {
        "startLine": 33,
        "startChar": 9,
        "endLine": 34,
        "endChar": 52
      },
      "revId": "d615cb11ec86d331eed2d5933a3771a44dee835b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fcd1008d_6fdd942c",
        "filename": "api/video_codecs/vp8_temporal_layers_factory.cc",
        "patchSetId": 8
      },
      "lineNbr": 34,
      "author": {
        "id": 5234
      },
      "writtenOn": "2022-05-09T13:51:25Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "f267bfdd_a46ebce9",
      "range": {
        "startLine": 33,
        "startChar": 9,
        "endLine": 34,
        "endChar": 52
      },
      "revId": "d615cb11ec86d331eed2d5933a3771a44dee835b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f43b5438_f062a9d0",
        "filename": "modules/video_coding/svc/scalability_mode_util.cc",
        "patchSetId": 8
      },
      "lineNbr": 96,
      "author": {
        "id": 5234
      },
      "writtenOn": "2022-04-29T12:58:16Z",
      "side": 1,
      "message": "This function is based on the list https://w3c.github.io/webrtc-svc/#scalabilitymodes*\n\nBut it seems we have a few modes not on that list, e.g., L2T1_KEY?",
      "range": {
        "startLine": 96,
        "startChar": 4,
        "endLine": 96,
        "endChar": 38
      },
      "revId": "d615cb11ec86d331eed2d5933a3771a44dee835b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "628f9c51_8d6c1ed5",
        "filename": "modules/video_coding/svc/scalability_mode_util.cc",
        "patchSetId": 8
      },
      "lineNbr": 96,
      "author": {
        "id": 7036
      },
      "writtenOn": "2022-04-29T13:42:54Z",
      "side": 1,
      "message": "Correct! Whenever someone adds those modes to any codec, they\u0027ll have to extend the enum with more values, which should be quick easy. I don\u0027t think we necessarily need to have an exhaustive list there right now.",
      "parentUuid": "f43b5438_f062a9d0",
      "range": {
        "startLine": 96,
        "startChar": 4,
        "endLine": 96,
        "endChar": 38
      },
      "revId": "d615cb11ec86d331eed2d5933a3771a44dee835b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "28cfea6b_3ed996aa",
        "filename": "modules/video_coding/svc/scalability_mode_util.cc",
        "patchSetId": 8
      },
      "lineNbr": 96,
      "author": {
        "id": 5234
      },
      "writtenOn": "2022-05-10T07:59:31Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "628f9c51_8d6c1ed5",
      "range": {
        "startLine": 96,
        "startChar": 4,
        "endLine": 96,
        "endChar": 38
      },
      "revId": "d615cb11ec86d331eed2d5933a3771a44dee835b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "001f8171_3092a3e2",
        "filename": "modules/video_coding/video_codec_initializer.cc",
        "patchSetId": 8
      },
      "lineNbr": 120,
      "author": {
        "id": 5492
      },
      "writtenOn": "2022-05-03T09:08:20Z",
      "side": 1,
      "message": "Should there be a check that the scalability mode is supported?\n\nIf different modes are set per stream the VideoCodec scalability mode will not be set (and temporal layers configured here), the changes in SimulcastUtility and Vp8TemporalLayerFactory might not be needed for now.",
      "range": {
        "startLine": 120,
        "startChar": 14,
        "endLine": 120,
        "endChar": 78
      },
      "revId": "d615cb11ec86d331eed2d5933a3771a44dee835b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d40a0203_2ec43ba2",
        "filename": "modules/video_coding/video_codec_initializer.cc",
        "patchSetId": 8
      },
      "lineNbr": 120,
      "author": {
        "id": 5234
      },
      "writtenOn": "2022-05-03T13:20:08Z",
      "side": 1,
      "message": "As far as I understand, setting the VideoCodec (top-level) scalability mode is needed for AV1. Maybe we can ignore that completely for vp8? I\u0027m still a bit confused.",
      "parentUuid": "001f8171_3092a3e2",
      "range": {
        "startLine": 120,
        "startChar": 14,
        "endLine": 120,
        "endChar": 78
      },
      "revId": "d615cb11ec86d331eed2d5933a3771a44dee835b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e78d6d26_2bb5530e",
        "filename": "modules/video_coding/video_codec_initializer.cc",
        "patchSetId": 8
      },
      "lineNbr": 120,
      "author": {
        "id": 5492
      },
      "writtenOn": "2022-05-03T15:28:34Z",
      "side": 1,
      "message": "Yes I think it can be ignored for vp8 (and maybe the warning below should not be logged in this case).",
      "parentUuid": "d40a0203_2ec43ba2",
      "range": {
        "startLine": 120,
        "startChar": 14,
        "endLine": 120,
        "endChar": 78
      },
      "revId": "d615cb11ec86d331eed2d5933a3771a44dee835b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "af0fc838_69e2aaa3",
        "filename": "modules/video_coding/video_codec_initializer.cc",
        "patchSetId": 8
      },
      "lineNbr": 120,
      "author": {
        "id": 5234
      },
      "writtenOn": "2022-05-12T13:37:07Z",
      "side": 1,
      "message": "Disabled below warning for VP8. What about validation, do we need validation (variants of SupportsScalabilityMode for VP8, VP9 and H264 here?)? My current understanding is that higher layers should check that, but not crystal clear to me where.",
      "parentUuid": "e78d6d26_2bb5530e",
      "range": {
        "startLine": 120,
        "startChar": 14,
        "endLine": 120,
        "endChar": 78
      },
      "revId": "d615cb11ec86d331eed2d5933a3771a44dee835b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2acfde1d_49807ba4",
        "filename": "modules/video_coding/video_codec_initializer.cc",
        "patchSetId": 8
      },
      "lineNbr": 180,
      "author": {
        "id": 5492
      },
      "writtenOn": "2022-05-03T09:08:20Z",
      "side": 1,
      "message": "from scalability_mode if set (similar to as above)?",
      "range": {
        "startLine": 180,
        "startChar": 10,
        "endLine": 180,
        "endChar": 24
      },
      "revId": "d615cb11ec86d331eed2d5933a3771a44dee835b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3d2f0d1f_c543df05",
        "filename": "modules/video_coding/video_codec_initializer.cc",
        "patchSetId": 8
      },
      "lineNbr": 180,
      "author": {
        "id": 5234
      },
      "writtenOn": "2022-05-03T13:20:08Z",
      "side": 1,
      "message": "Done. When is this top-level value used, rather than the values specified per simulcast stream?",
      "parentUuid": "2acfde1d_49807ba4",
      "range": {
        "startLine": 180,
        "startChar": 10,
        "endLine": 180,
        "endChar": 24
      },
      "revId": "d615cb11ec86d331eed2d5933a3771a44dee835b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b521dd4f_77b5672f",
        "filename": "modules/video_coding/video_codec_initializer.cc",
        "patchSetId": 8
      },
      "lineNbr": 180,
      "author": {
        "id": 5492
      },
      "writtenOn": "2022-05-03T15:28:34Z",
      "side": 1,
      "message": "For example: \n- when numberOfSimulcastStreams \u003d 0 (e.g. https://source.chromium.org/chromium/chromium/src/+/main:third_party/webrtc/media/engine/simulcast_encoder_adapter.cc;l\u003d767)\n- in LibvpxVp8Encoder (e.g. https://source.chromium.org/chromium/chromium/src/+/main:third_party/webrtc/modules/video_coding/codecs/vp8/libvpx_vp8_encoder.cc;l\u003d1022)\n\nNote that if different number of temporal layers are configured per stream, LibvpxVp8Encoder will fallback (https://source.chromium.org/chromium/chromium/src/+/main:third_party/webrtc/modules/video_coding/codecs/vp8/libvpx_vp8_encoder.cc;l\u003d483) to SimulcastEncoderAdapter (e.g. see TestTemporalLayersVp8SimulcastWithDifferentNumTls).",
      "parentUuid": "3d2f0d1f_c543df05",
      "range": {
        "startLine": 180,
        "startChar": 10,
        "endLine": 180,
        "endChar": 24
      },
      "revId": "d615cb11ec86d331eed2d5933a3771a44dee835b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "15c9f927_a8dd7bb9",
        "filename": "modules/video_coding/video_codec_initializer.cc",
        "patchSetId": 8
      },
      "lineNbr": 180,
      "author": {
        "id": 5234
      },
      "writtenOn": "2022-05-12T13:37:07Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "b521dd4f_77b5672f",
      "range": {
        "startLine": 180,
        "startChar": 10,
        "endLine": 180,
        "endChar": 24
      },
      "revId": "d615cb11ec86d331eed2d5933a3771a44dee835b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "882b26bf_82bbdd5a",
        "filename": "video/video_send_stream_tests.cc",
        "patchSetId": 8
      },
      "lineNbr": 4128,
      "author": {
        "id": 5492
      },
      "writtenOn": "2022-05-03T09:08:20Z",
      "side": 1,
      "message": "Perhaps all TestTemporalLayers* tests could also be configured via scalability_mode (e.g. {kL1T3, kL1T1}).",
      "range": {
        "startLine": 4128,
        "startChar": 28,
        "endLine": 4128,
        "endChar": 46
      },
      "revId": "d615cb11ec86d331eed2d5933a3771a44dee835b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9f5a1931_9a7330f8",
        "filename": "video/video_send_stream_tests.cc",
        "patchSetId": 8
      },
      "lineNbr": 4128,
      "author": {
        "id": 5234
      },
      "writtenOn": "2022-05-10T07:59:31Z",
      "side": 1,
      "message": "Done, should have now have same coverage as the previous temporal layers tests.",
      "parentUuid": "882b26bf_82bbdd5a",
      "range": {
        "startLine": 4128,
        "startChar": 28,
        "endLine": 4128,
        "endChar": 46
      },
      "revId": "d615cb11ec86d331eed2d5933a3771a44dee835b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a07e034a_af9e6677",
        "filename": "video/video_stream_encoder_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 9047,
      "author": {
        "id": 5492
      },
      "writtenOn": "2022-05-03T09:08:20Z",
      "side": 1,
      "message": "maybe change scalability mode to e.g. kL2T1 and remove line below",
      "range": {
        "startLine": 9047,
        "startChar": 46,
        "endLine": 9047,
        "endChar": 51
      },
      "revId": "d615cb11ec86d331eed2d5933a3771a44dee835b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "472d96a0_52df2ccf",
        "filename": "video/video_stream_encoder_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 9047,
      "author": {
        "id": 5234
      },
      "writtenOn": "2022-05-03T13:20:08Z",
      "side": 1,
      "message": "I think it makes some sense to test that new scalability mode propagates to a change of temporal layers. (Even if responsibility for that conversion perhaps isn\u0027t the responsibility of VideoStreamEncoder).",
      "parentUuid": "a07e034a_af9e6677",
      "range": {
        "startLine": 9047,
        "startChar": 46,
        "endLine": 9047,
        "endChar": 51
      },
      "revId": "d615cb11ec86d331eed2d5933a3771a44dee835b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "038bc77f_c4ab9260",
        "filename": "video/video_stream_encoder_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 9047,
      "author": {
        "id": 5492
      },
      "writtenOn": "2022-05-03T15:28:34Z",
      "side": 1,
      "message": "Since this tests if a change in scalability mode triggers an encoder reconfiguration, it might be good to keep num_temporal_layers unchanged (but a separate test verifying the propagation could be added).",
      "parentUuid": "472d96a0_52df2ccf",
      "range": {
        "startLine": 9047,
        "startChar": 46,
        "endLine": 9047,
        "endChar": 51
      },
      "revId": "d615cb11ec86d331eed2d5933a3771a44dee835b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f077c754_cda094f7",
        "filename": "video/video_stream_encoder_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 9047,
      "author": {
        "id": 5234
      },
      "writtenOn": "2022-05-04T07:37:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "038bc77f_c4ab9260",
      "range": {
        "startLine": 9047,
        "startChar": 46,
        "endLine": 9047,
        "endChar": 51
      },
      "revId": "d615cb11ec86d331eed2d5933a3771a44dee835b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}