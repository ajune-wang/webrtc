{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8800dc30_756db08b",
        "filename": "examples/peerconnection/client/main.cc",
        "patchSetId": 1
      },
      "lineNbr": 84,
      "author": {
        "id": 5508
      },
      "writtenOn": "2024-04-25T07:32:38Z",
      "side": 1,
      "message": "can you add a comment that explains why Start() is called and not Run() as is done on other platforms?\n\nAlso, is it a bit too early to make the call? Should it be moved down to where the message loop is about to start?",
      "revId": "74566a93994a2b982d6641115b6fb4340549bf27",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fd719933_ae325591",
        "filename": "examples/peerconnection/client/main.cc",
        "patchSetId": 1
      },
      "lineNbr": 84,
      "author": {
        "id": 3359326
      },
      "writtenOn": "2024-04-28T02:43:44Z",
      "side": 1,
      "message": "Because Thread.Run() would run in current main thread and block it, Thread.Start() would trigger one new thread loop. This loop would be blocked on socket until socket events wake up.",
      "parentUuid": "8800dc30_756db08b",
      "revId": "74566a93994a2b982d6641115b6fb4340549bf27",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c63dbe24_d79b44f0",
        "filename": "examples/peerconnection/client/main.cc",
        "patchSetId": 1
      },
      "lineNbr": 84,
      "author": {
        "id": 5508
      },
      "writtenOn": "2024-04-29T07:15:33Z",
      "side": 1,
      "message": "Sorry, I mean add a comment in the code.\n\nAlso, wdyt about my second question?",
      "parentUuid": "fd719933_ae325591",
      "revId": "74566a93994a2b982d6641115b6fb4340549bf27",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0372cd1d_93533cbe",
        "filename": "examples/peerconnection/client/main.cc",
        "patchSetId": 1
      },
      "lineNbr": 84,
      "author": {
        "id": 3359326
      },
      "writtenOn": "2024-05-08T09:52:30Z",
      "side": 1,
      "message": "Sorry to late reply.\nSure it could be moved down.",
      "parentUuid": "c63dbe24_d79b44f0",
      "revId": "74566a93994a2b982d6641115b6fb4340549bf27",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "856e7698_150b36d3",
        "filename": "examples/peerconnection/client/peer_connection_client.cc",
        "patchSetId": 1
      },
      "lineNbr": 220,
      "author": {
        "id": 5508
      },
      "writtenOn": "2024-04-25T07:32:38Z",
      "side": 1,
      "message": "nit: this DCHECK isn\u0027t needed since thread is dereferenced immediately. This could be \n\n  rtc::Thread::Current()-\u003eWakeUp();\n  \nCan you add a comment for why it\u0027s needed? Also, if it\u0027s only needed for Windows, then perhaps it should be inside an #ifdef.",
      "revId": "74566a93994a2b982d6641115b6fb4340549bf27",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "363047e8_3be2aaf5",
        "filename": "examples/peerconnection/client/peer_connection_client.cc",
        "patchSetId": 1
      },
      "lineNbr": 220,
      "author": {
        "id": 3359326
      },
      "writtenOn": "2024-04-28T02:43:44Z",
      "side": 1,
      "message": "Sure it could be rtc::Thread::Current()-\u003eWakeUpSocketServer();\nYes it\u0027s only for Windows platform, because physical_socket_server handle socket events differently between Posix and Windows platform.\nfor Posix: use EPOLL or POLL\nfor Windows: \nbool PhysicalSocketServer::Wait(webrtc::TimeDelta max_wait_duration,\n                                bool process_io);\ncall below function WSAEventSelect for requested socket event, then block on WSAWaitForMultipleEvents.\nWSAEventSelect(s, events[0],\n                         FlagsToEvents(disp-\u003eGetRequestedEvents()));\nbut PhysicalSocket::DoConnect() will do connect and then enable DE_CONNECT event.\nSo WSAEventSelect got no channce to monitor that event.",
      "parentUuid": "856e7698_150b36d3",
      "revId": "74566a93994a2b982d6641115b6fb4340549bf27",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9f47886c_cfd5999f",
        "filename": "examples/peerconnection/client/peer_connection_client.cc",
        "patchSetId": 1
      },
      "lineNbr": 220,
      "author": {
        "id": 5508
      },
      "writtenOn": "2024-04-29T07:15:33Z",
      "side": 1,
      "message": "Thanks. Please remove the DCHECK as per the first sentence in my review comment. The reason is that we don\u0027t have DCHECKs for pointers that are directly derefenced following the DCHECK.\n\nAlso, can you add documentation in the form of a comment in the code? I.e. explain that on Windows a connection event will otherwise be missed.\n\nIs there something that could be done to the Windows `DoConnect()` method to address that problem rather than worka around it here?",
      "parentUuid": "363047e8_3be2aaf5",
      "revId": "74566a93994a2b982d6641115b6fb4340549bf27",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d56fe1b0_9049dc2f",
        "filename": "examples/peerconnection/client/peer_connection_client.cc",
        "patchSetId": 1
      },
      "lineNbr": 220,
      "author": {
        "id": 3359326
      },
      "writtenOn": "2024-05-08T09:52:30Z",
      "side": 1,
      "message": "No, there are several functions call ConnectControlSocket().\nfor instance, PeerConnectionClient::SendToPeer.",
      "parentUuid": "9f47886c_cfd5999f",
      "revId": "74566a93994a2b982d6641115b6fb4340549bf27",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}