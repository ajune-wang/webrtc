{
  "comments": [
    {
      "key": {
        "uuid": "c322ee99_f73c1285",
        "filename": "api/peerconnectioninterface.h",
        "patchSetId": 3
      },
      "lineNbr": 801,
      "author": {
        "id": 5053
      },
      "writtenOn": "2017-10-11T01:07:26Z",
      "side": 1,
      "message": "Would prefer passing the object in via a raw pointer, and allowing chromium to manage its lifetime. The API contract would be \"the RtcEventLogOutput must be usable until StopRtcEventLog or Close is called\".\n\nI\u0027m in the process of adding something to our new style guide that talks about this: https://webrtc-review.googlesource.com/c/src/+/8143/1",
      "revId": "fc6ad6083af3e93e04f0adead7c010ba963d4506",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ef15a1c1_7be68247",
        "filename": "pc/peerconnection.cc",
        "patchSetId": 3
      },
      "lineNbr": 1303,
      "author": {
        "id": 5234
      },
      "writtenOn": "2017-10-11T14:01:00Z",
      "side": 1,
      "message": "I would suggest deprecating this method.\n\nIf we want to keep the functionality in webrtc, I think the right way is to either expose the RtcEventLogOutputFile class in hte api, or add a Create... function or static method somewhere in the api which accepts a file (in some form) and returns a unique_ptr\u003cRtcEventLogOutput\u003e and is implemented by creating a RtcEventLogOutputFile (without exposing the class itself).",
      "range": {
        "startLine": 1303,
        "startChar": 21,
        "endLine": 1303,
        "endChar": 37
      },
      "revId": "fc6ad6083af3e93e04f0adead7c010ba963d4506",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f1e9ff0c_1b77d1d1",
        "filename": "pc/peerconnection.cc",
        "patchSetId": 3
      },
      "lineNbr": 1303,
      "author": {
        "id": 5150
      },
      "writtenOn": "2017-10-11T14:09:41Z",
      "side": 1,
      "message": "Returning a unique_ptr from a Create method would not work well if ownership is supposed to lie outside the log. Exposing RtcEventLogOutputFile might be a good idea, but it also seems like a quite large change. I suggest keeping as-is for now.",
      "parentUuid": "ef15a1c1_7be68247",
      "range": {
        "startLine": 1303,
        "startChar": 21,
        "endLine": 1303,
        "endChar": 37
      },
      "revId": "fc6ad6083af3e93e04f0adead7c010ba963d4506",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c17f85b9_fe7bfeba",
        "filename": "pc/peerconnection.cc",
        "patchSetId": 3
      },
      "lineNbr": 1303,
      "author": {
        "id": 5234
      },
      "writtenOn": "2017-10-12T13:40:40Z",
      "side": 1,
      "message": "The Create method would transfer ownership to the application. Depending on how we decide to do the other method, it would either pass ownership back into StartRtcEventLog, or it would keep ownership and pass raw pointer.\n\nThe unique_ptr convention would be nice and concise, instead of\n\npc-\u003eStartRtcEventLog(file, 4711);\n\none would write\n\npc-\u003eStartRtcEventLog(CreateRtcEventLogOutputFile(file, 4711));",
      "parentUuid": "f1e9ff0c_1b77d1d1",
      "range": {
        "startLine": 1303,
        "startChar": 21,
        "endLine": 1303,
        "endChar": 37
      },
      "revId": "fc6ad6083af3e93e04f0adead7c010ba963d4506",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0b94b3ec_bea4762c",
        "filename": "pc/peerconnection.cc",
        "patchSetId": 3
      },
      "lineNbr": 1303,
      "author": {
        "id": 5147
      },
      "writtenOn": "2017-10-12T14:03:54Z",
      "side": 1,
      "message": "Niels, I want to make sure I understand correctly - are you suggesting exposing to the API a function called CreateRtcEventLogOutputFile, but not the implementation of RtcEventLogOutputFile, so that RtcEventLogOutputFile would be an implementation detail of WebRTC, but still accessible to the hosting application? If so, I\u0027m in favor.",
      "parentUuid": "c17f85b9_fe7bfeba",
      "range": {
        "startLine": 1303,
        "startChar": 21,
        "endLine": 1303,
        "endChar": 37
      },
      "revId": "fc6ad6083af3e93e04f0adead7c010ba963d4506",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cd462a84_fdf361b2",
        "filename": "pc/peerconnection.cc",
        "patchSetId": 3
      },
      "lineNbr": 1315,
      "author": {
        "id": 5147
      },
      "writtenOn": "2017-10-10T15:51:13Z",
      "side": 1,
      "message": "Taylor, any suggestions of a better way to accomplish this?",
      "revId": "fc6ad6083af3e93e04f0adead7c010ba963d4506",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "90ced752_90bf40ee",
        "filename": "pc/peerconnection.cc",
        "patchSetId": 3
      },
      "lineNbr": 1315,
      "author": {
        "id": 5053
      },
      "writtenOn": "2017-10-11T01:07:26Z",
      "side": 1,
      "message": "See comment in the header file; I think this problem would be avoided entirely if PeerConnection didn\u0027t have to take ownership.",
      "parentUuid": "cd462a84_fdf361b2",
      "revId": "fc6ad6083af3e93e04f0adead7c010ba963d4506",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "546cec0d_6a121c32",
        "filename": "pc/peerconnectioninterface_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 3208,
      "author": {
        "id": 5053
      },
      "writtenOn": "2017-10-11T01:07:26Z",
      "side": 1,
      "message": "nit: StartAndStopLoggingToFileAfterPeerConnectionClosed, and similar naming scheme for test below? \"ClosedByFile\" sounds a bit odd.",
      "range": {
        "startLine": 3208,
        "startChar": 7,
        "endLine": 3208,
        "endChar": 57
      },
      "revId": "fc6ad6083af3e93e04f0adead7c010ba963d4506",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1bd8b57d_9f45c13c",
        "filename": "pc/peerconnectioninterface_unittest.cc",
        "patchSetId": 3
      },
      "lineNbr": 3221,
      "author": {
        "id": 5053
      },
      "writtenOn": "2017-10-11T01:07:26Z",
      "side": 1,
      "message": "May want to clarify that we\u0027re talking about RtcEventLogOutput",
      "range": {
        "startLine": 3221,
        "startChar": 68,
        "endLine": 3221,
        "endChar": 74
      },
      "revId": "fc6ad6083af3e93e04f0adead7c010ba963d4506",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    }
  ]
}