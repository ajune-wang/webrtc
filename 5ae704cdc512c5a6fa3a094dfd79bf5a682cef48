{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "92dda1f9_874fdb47",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 18134
      },
      "writtenOn": "2022-02-24T08:45:18Z",
      "side": 1,
      "message": "PTAL!",
      "revId": "5ae704cdc512c5a6fa3a094dfd79bf5a682cef48",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2c3c8c00_7725650f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 5524
      },
      "writtenOn": "2022-02-24T09:32:50Z",
      "side": 1,
      "message": "lgtm, do we already have test coverage for nv12 then via VideoStreamEncoder?\nI\u0027ll let ilnik@ be the main reviewer for this cl",
      "revId": "5ae704cdc512c5a6fa3a094dfd79bf5a682cef48",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "31699b7b_a53daace",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 5117
      },
      "writtenOn": "2022-02-24T11:02:52Z",
      "side": 1,
      "message": "I don\u0027t think there are proper tests with NV12 input to av1 encoder right now.\n\n+cc hbos@, where do we have tests for NV12 input to libvpx?",
      "parentUuid": "2c3c8c00_7725650f",
      "revId": "5ae704cdc512c5a6fa3a094dfd79bf5a682cef48",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eb1aa1dd_1f0ba454",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 5142
      },
      "writtenOn": "2022-02-24T11:45:00Z",
      "side": 1,
      "message": "There are some VideoStreamEncoderTests that test whether or not conversion happens depending on whether or not the underlying encoder does or doesn\u0027t support the input frame, some different combinations tested:\nhttps://source.chromium.org/chromium/chromium/src/+/main:third_party/webrtc/video/video_stream_encoder_unittest.cc;l\u003d1764\n\nThis is mostly about whether or not to convert, then the individual encoders test the actual encoding, or at least that the library doesn\u0027t report error.\n\nThere\u0027s some encoder-specific tests, like for libvpx VP8 we have a TEST_P suite that tests both I420 and NV12 in a parameterized test:\nhttps://source.chromium.org/chromium/chromium/src/+/main:third_party/webrtc/modules/video_coding/codecs/vp8/test/vp8_impl_unittest.cc;l\u003d723\n\nThere may be other tests too, I don\u0027t recall. See if you find a relevant test.\n\nDo we have test that does the actual encoding and decoding to make sure pixels make sense?",
      "parentUuid": "31699b7b_a53daace",
      "revId": "5ae704cdc512c5a6fa3a094dfd79bf5a682cef48",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c0102e81_21b538ef",
        "filename": "modules/video_coding/codecs/av1/libaom_av1_encoder.cc",
        "patchSetId": 7
      },
      "lineNbr": 235,
      "author": {
        "id": 5117
      },
      "writtenOn": "2022-02-24T10:56:42Z",
      "side": 1,
      "message": "Are you sure it will just work putting UV plane in U plane in I420 aom_img_t?\n\nAn encoder in chrome does correctly choose NV12 pixel format:\nhttps://source.chromium.org/chromium/chromium/src/+/main:media/video/av1_video_encoder.cc;l\u003d342;drc\u003dcb2455c7ed0cff0c6b20cab7808e4894f1ba4569\n\nIt might work because NV12 and I420 images have the same number of bytes, just a little different layout. But still I would prefer not to assume it will accidentally work. Libaom should be properly notified that the source format in NV12.",
      "range": {
        "startLine": 235,
        "startChar": 29,
        "endLine": 235,
        "endChar": 45
      },
      "revId": "5ae704cdc512c5a6fa3a094dfd79bf5a682cef48",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}