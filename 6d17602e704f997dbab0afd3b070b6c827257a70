{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "d1ad7a26_e363bd5f",
        "filename": "sdk/objc/components/audio/RTCAudioSession.mm",
        "patchSetId": 4
      },
      "lineNbr": 350,
      "author": {
        "id": 6077
      },
      "writtenOn": "2021-02-12T08:54:02Z",
      "side": 0,
      "message": "This comment seems done now.",
      "range": {
        "startLine": 349,
        "startChar": 3,
        "endLine": 350,
        "endChar": 45
      },
      "revId": "6d17602e704f997dbab0afd3b070b6c827257a70",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3a7d0697_76356201",
        "filename": "sdk/objc/components/audio/RTCAudioSession.mm",
        "patchSetId": 4
      },
      "lineNbr": 350,
      "author": {
        "id": 5234
      },
      "writtenOn": "2021-02-12T09:15:40Z",
      "side": 0,
      "message": "Phrasing may be obsolete, but I think the code could use something simpler than requiring applications to call lockForConfiguration/unlockForConfiguration.\n\nDeleted comment.\n\nIs RTCAudioSession a public or internal api?",
      "parentUuid": "d1ad7a26_e363bd5f",
      "range": {
        "startLine": 349,
        "startChar": 3,
        "endLine": 350,
        "endChar": 45
      },
      "revId": "6d17602e704f997dbab0afd3b070b6c827257a70",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0915d1c3_6eda74de",
        "filename": "sdk/objc/components/audio/RTCAudioSession.mm",
        "patchSetId": 4
      },
      "lineNbr": 350,
      "author": {
        "id": 5520
      },
      "writtenOn": "2021-02-12T13:52:22Z",
      "side": 0,
      "message": "Yeah I agree it\u0027s not ideal.\n\nRTCAudioSession is public-ish.",
      "parentUuid": "3a7d0697_76356201",
      "range": {
        "startLine": 349,
        "startChar": 3,
        "endLine": 350,
        "endChar": 45
      },
      "revId": "6d17602e704f997dbab0afd3b070b6c827257a70",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "746f0498_12d4a69c",
        "filename": "sdk/objc/components/audio/RTCAudioSession.mm",
        "patchSetId": 6
      },
      "lineNbr": 234,
      "author": {
        "id": 5520
      },
      "writtenOn": "2021-02-12T13:52:22Z",
      "side": 0,
      "message": "can we delete this too now?",
      "range": {
        "startLine": 234,
        "startChar": 14,
        "endLine": 234,
        "endChar": 58
      },
      "revId": "6d17602e704f997dbab0afd3b070b6c827257a70",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2171fb74_9aea82e6",
        "filename": "sdk/objc/components/audio/RTCAudioSession.mm",
        "patchSetId": 6
      },
      "lineNbr": 234,
      "author": {
        "id": 5234
      },
      "writtenOn": "2021-02-12T15:34:16Z",
      "side": 0,
      "message": "Giving it a try.",
      "parentUuid": "746f0498_12d4a69c",
      "range": {
        "startLine": 234,
        "startChar": 14,
        "endLine": 234,
        "endChar": 58
      },
      "revId": "6d17602e704f997dbab0afd3b070b6c827257a70",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d923ed7e_3b1677fe",
        "filename": "sdk/objc/components/audio/RTCAudioSession.mm",
        "patchSetId": 6
      },
      "lineNbr": 234,
      "author": {
        "id": 5234
      },
      "writtenOn": "2021-02-15T10:45:18Z",
      "side": 0,
      "message": "Didn\u0027t work.  \n\nFAILED: obj/sdk/audio_session_objc/RTCAudioSession.o\n/opt/s/w/ir/cache/goma/client/gomacc ../../third_party/llvm-build/Release+Asserts/bin/clang++ -MMD -...(too long)\n../../sdk/objc/components/audio/RTCAudioSession.mm:230:1: error: mutex \u0027self-\u003e_mutex\u0027 is still held at the end of function [-Werror,-Wthread-safety-analysis]\n}\n^\n../../sdk/objc/components/audio/RTCAudioSession.mm:229:10: note: mutex acquired here\n_mutex.Lock();\n^\n../../sdk/objc/components/audio/RTCAudioSession.mm:233:10: error: releasing mutex \u0027self-\u003e_mutex\u0027 that was not held [-Werror,-Wthread-safety-analysis]\n_mutex.Unlock();\n^\n2 errors generated.\n\nI\u0027ll try adding RTC_EXCLUSIVE_LOCK_FUNCTION / RTC_EXCLUSIVE_UNLOCK_FUNCTION, maybe it helps to add then in the ..mm file only, I don\u0027t think they can go in RTCAudioSession.h sinve _mutex isn\u0027t declared there.",
      "parentUuid": "2171fb74_9aea82e6",
      "range": {
        "startLine": 234,
        "startChar": 14,
        "endLine": 234,
        "endChar": 58
      },
      "revId": "6d17602e704f997dbab0afd3b070b6c827257a70",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0254f9f0_2d5658d1",
        "filename": "sdk/objc/components/audio/RTCAudioSession.mm",
        "patchSetId": 6
      },
      "lineNbr": 234,
      "author": {
        "id": 5234
      },
      "writtenOn": "2021-02-15T11:45:41Z",
      "side": 0,
      "message": "Failed too. So leaving #pragma in place for now.",
      "parentUuid": "d923ed7e_3b1677fe",
      "range": {
        "startLine": 234,
        "startChar": 14,
        "endLine": 234,
        "endChar": 58
      },
      "revId": "6d17602e704f997dbab0afd3b070b6c827257a70",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}