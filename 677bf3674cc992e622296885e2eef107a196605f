{
  "comments": [
    {
      "key": {
        "uuid": "9ac74a54_c75762db",
        "filename": "pc/peerconnection_rampup_tests.cc",
        "patchSetId": 1
      },
      "lineNbr": 32,
      "author": {
        "id": 5053
      },
      "writtenOn": "2018-05-24T01:00:48Z",
      "side": 1,
      "message": "nit: Would be nice to have a comment somewhere that summarizes the goals of this test, explaining that it\u0027s a more end-to-end version of rampup_tests.cc that also tests different ICE paths, etc.",
      "revId": "677bf3674cc992e622296885e2eef107a196605f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ba88952c_2f8a1f7a",
        "filename": "pc/peerconnection_rampup_tests.cc",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 5525
      },
      "writtenOn": "2018-05-23T11:25:54Z",
      "side": 1,
      "message": "rampup",
      "range": {
        "startLine": 40,
        "startChar": 31,
        "endLine": 40,
        "endChar": 42
      },
      "revId": "677bf3674cc992e622296885e2eef107a196605f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dcbba455_4b5b8477",
        "filename": "pc/peerconnection_rampup_tests.cc",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 5800
      },
      "writtenOn": "2018-05-23T23:19:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ba88952c_2f8a1f7a",
      "range": {
        "startLine": 40,
        "startChar": 31,
        "endLine": 40,
        "endChar": 42
      },
      "revId": "677bf3674cc992e622296885e2eef107a196605f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "98f2c2e4_d880d0e9",
        "filename": "pc/peerconnection_rampup_tests.cc",
        "patchSetId": 1
      },
      "lineNbr": 64,
      "author": {
        "id": 5053
      },
      "writtenOn": "2018-05-24T01:00:48Z",
      "side": 1,
      "message": "Can use FakePeriodicVideoTrackSource now to simplify this; see https://webrtc-review.googlesource.com/c/src/+/76961",
      "revId": "677bf3674cc992e622296885e2eef107a196605f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d2aa7bc6_f24a2d03",
        "filename": "pc/peerconnection_rampup_tests.cc",
        "patchSetId": 1
      },
      "lineNbr": 77,
      "author": {
        "id": 5053
      },
      "writtenOn": "2018-05-24T01:00:48Z",
      "side": 1,
      "message": "If every test is just going to use a single network interface, we don\u0027t really need this method; could just call AddInterface when the FakeNetworkManager is constructed.",
      "revId": "677bf3674cc992e622296885e2eef107a196605f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "02f99b05_4d404e45",
        "filename": "pc/peerconnection_rampup_tests.cc",
        "patchSetId": 1
      },
      "lineNbr": 95,
      "author": {
        "id": 5525
      },
      "writtenOn": "2018-05-23T11:25:54Z",
      "side": 1,
      "message": "Would the test code be easier to follow if we did:\nFakePeriodicVideoSource::Config config;\n// Set max frame rate to 10fps to reduce the risk of test flakiness.\nconfig.frame_interval_ms \u003d 100;\nAddTrack(CreateLocalTrack(CreateFakeVideoSource(config)))\n\ninstead of\n\nAddLocalVideoTRackWithFakeSource()\n?",
      "range": {
        "startLine": 95,
        "startChar": 3,
        "endLine": 95,
        "endChar": 0
      },
      "revId": "677bf3674cc992e622296885e2eef107a196605f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6074740a_b39f4d9a",
        "filename": "pc/peerconnection_rampup_tests.cc",
        "patchSetId": 1
      },
      "lineNbr": 95,
      "author": {
        "id": 5800
      },
      "writtenOn": "2018-05-23T23:19:58Z",
      "side": 1,
      "message": "Sounds good, I changed this to be similar to peerconnection_integrationtest.cc:\nFakePeriodicVideoSource::Config config;\n// Set max frame rate to 10fps to reduce the risk of test flakiness.\nconfig.frame_interval_ms \u003d 100;\ncaller-\u003eAddTrack(caller_-\u003eCreateLocalVideoTrack(config));",
      "parentUuid": "02f99b05_4d404e45",
      "range": {
        "startLine": 95,
        "startChar": 3,
        "endLine": 95,
        "endChar": 0
      },
      "revId": "677bf3674cc992e622296885e2eef107a196605f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ccde440_709425d8",
        "filename": "pc/peerconnection_rampup_tests.cc",
        "patchSetId": 1
      },
      "lineNbr": 106,
      "author": {
        "id": 5525
      },
      "writtenOn": "2018-05-23T11:25:54Z",
      "side": 1,
      "message": "Same here",
      "range": {
        "startLine": 106,
        "startChar": 3,
        "endLine": 106,
        "endChar": 0
      },
      "revId": "677bf3674cc992e622296885e2eef107a196605f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "935454f2_4a40f5aa",
        "filename": "pc/peerconnection_rampup_tests.cc",
        "patchSetId": 1
      },
      "lineNbr": 106,
      "author": {
        "id": 5800
      },
      "writtenOn": "2018-05-23T23:19:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5ccde440_709425d8",
      "range": {
        "startLine": 106,
        "startChar": 3,
        "endLine": 106,
        "endChar": 0
      },
      "revId": "677bf3674cc992e622296885e2eef107a196605f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3bd58564_daef56b7",
        "filename": "pc/peerconnection_rampup_tests.cc",
        "patchSetId": 1
      },
      "lineNbr": 192,
      "author": {
        "id": 5053
      },
      "writtenOn": "2018-05-24T01:00:48Z",
      "side": 1,
      "message": "Only adding the last candidate may not work for other test cases, where multiple candidates are gathered. I\u0027d suggest just adding all of them.",
      "revId": "677bf3674cc992e622296885e2eef107a196605f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "22c98e23_ded31ce5",
        "filename": "pc/peerconnection_rampup_tests.cc",
        "patchSetId": 1
      },
      "lineNbr": 199,
      "author": {
        "id": 5053
      },
      "writtenOn": "2018-05-24T01:00:48Z",
      "side": 1,
      "message": "nit: Replace 3000 with \"kIceConnectTimeout\" (or even just kDefaultTimeout, I don\u0027t think it makes a difference here)",
      "revId": "677bf3674cc992e622296885e2eef107a196605f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "56871d39_2ece5760",
        "filename": "pc/peerconnection_rampup_tests.cc",
        "patchSetId": 1
      },
      "lineNbr": 208,
      "author": {
        "id": 5053
      },
      "writtenOn": "2018-05-24T01:00:48Z",
      "side": 1,
      "message": "Is this just used for the debug output?",
      "revId": "677bf3674cc992e622296885e2eef107a196605f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "77b7c6eb_25ea5692",
        "filename": "pc/peerconnection_rampup_tests.cc",
        "patchSetId": 1
      },
      "lineNbr": 229,
      "author": {
        "id": 5053
      },
      "writtenOn": "2018-05-24T01:00:48Z",
      "side": 1,
      "message": "Remember to remove before landing",
      "revId": "677bf3674cc992e622296885e2eef107a196605f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "03bfa119_ad35166e",
        "filename": "pc/peerconnection_rampup_tests.cc",
        "patchSetId": 1
      },
      "lineNbr": 234,
      "author": {
        "id": 5053
      },
      "writtenOn": "2018-05-24T01:00:48Z",
      "side": 1,
      "message": "nit: Could just check test_state_ and do rtc::Thread::ProcessMessages(kPollIntervalMs), don\u0027t really need an event.",
      "revId": "677bf3674cc992e622296885e2eef107a196605f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d43af663_43da8e57",
        "filename": "pc/peerconnection_rampup_tests.cc",
        "patchSetId": 1
      },
      "lineNbr": 263,
      "author": {
        "id": 5053
      },
      "writtenOn": "2018-05-24T01:00:48Z",
      "side": 1,
      "message": "One difference between VirtualSocketServer and FakeNetworkPipe is that FakeNetworkPipe will continue to simulate delay as the simulated queue is drained, whereas VirtualSocketServer will just instantly stop simulating delay. Meaning you\u0027d suddenly start seeing old and new packets interleaved, I\u0027d assume.\n\nWe may want to fix this; I wouldn\u0027t be surprised if that\u0027s why you\u0027re only seeing a couple rendered frames during the second rampup. More generally, it would be ideal if VirtualSocketServer and FakeNetworkPipe shared as much logic as possible (maybe VirtualSocketServer could be written on top of SimulatedNetwork?), but I don\u0027t expect you to do that in this CL.",
      "revId": "677bf3674cc992e622296885e2eef107a196605f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8ffd783a_bebad228",
        "filename": "pc/peerconnection_rampup_tests.cc",
        "patchSetId": 1
      },
      "lineNbr": 282,
      "author": {
        "id": 5053
      },
      "writtenOn": "2018-05-24T01:00:48Z",
      "side": 1,
      "message": "If the test is updated to potentially have multiple candidate pairs, you\u0027ll need to find the RTCTransportStats instead, then look up the RTCIceCandidatePairStats that matches selected_candidate_pair_id",
      "revId": "677bf3674cc992e622296885e2eef107a196605f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    }
  ]
}