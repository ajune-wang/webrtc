{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "003858e1_37315127",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 8046
      },
      "writtenOn": "2024-09-20T04:56:26Z",
      "side": 1,
      "message": "This change is now complete and confirmed to work with a bunch of cameras, where some of them didn\u0027t work or used low resolution.",
      "revId": "66536690d86bae0af016a88410c2e822f00ffe4b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8fbfd83c_43f1ccd3",
        "filename": "modules/video_capture/linux/video_capture_pipewire.cc",
        "patchSetId": 6
      },
      "lineNbr": 65,
      "author": {
        "id": 8178
      },
      "writtenOn": "2024-09-20T07:43:52Z",
      "side": 1,
      "message": "`LS_WARNING`?\nAlso maybe \"video type\" instead of \"pixel format\"?",
      "revId": "66536690d86bae0af016a88410c2e822f00ffe4b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bab908f0_7d9c77b8",
        "filename": "modules/video_capture/linux/video_capture_pipewire.cc",
        "patchSetId": 6
      },
      "lineNbr": 65,
      "author": {
        "id": 8046
      },
      "writtenOn": "2024-09-23T06:47:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8fbfd83c_43f1ccd3",
      "revId": "66536690d86bae0af016a88410c2e822f00ffe4b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "92fc6f36_ee3d3e21",
        "filename": "modules/video_capture/linux/video_capture_pipewire.cc",
        "patchSetId": 6
      },
      "lineNbr": 107,
      "author": {
        "id": 8178
      },
      "writtenOn": "2024-09-20T07:43:52Z",
      "side": 1,
      "message": "You could just do the conversion with `VideoTypeToPipeWireRawFormat` here and below check whether `format !\u003d SPA_MEDIA_SUBTYPE_mjpg`.\n\nDo you need an exit guard if we end up with `SPA_VIDEO_FORMAT_UNKNOWN` ? I.e. signal upwards that we don\u0027t support this format. Of if it can\u0027t happen, an `RTC_CHECK`/`DCHECK` perhaps.",
      "revId": "66536690d86bae0af016a88410c2e822f00ffe4b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1440502d_67f1552a",
        "filename": "modules/video_capture/linux/video_capture_pipewire.cc",
        "patchSetId": 6
      },
      "lineNbr": 107,
      "author": {
        "id": 8046
      },
      "writtenOn": "2024-09-23T06:47:35Z",
      "side": 1,
      "message": "I cannot use `VideoTypeToPipeWireRawFormat` here, because `SPA_MEDIA_SUBTYPE_mjpg` is of a different type. It\u0027s `SPA_MEADIA_SUBTYPE_*` vs `SPA_VIDEO_FORMAT_*`.",
      "parentUuid": "92fc6f36_ee3d3e21",
      "revId": "66536690d86bae0af016a88410c2e822f00ffe4b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d5cbd57f_01d74d48",
        "filename": "modules/video_capture/linux/video_capture_pipewire.cc",
        "patchSetId": 6
      },
      "lineNbr": 107,
      "author": {
        "id": 8178
      },
      "writtenOn": "2024-09-23T08:05:19Z",
      "side": 1,
      "message": "Ah. Would it help to have a `VideoTypeToPipeWireSubTypeAndVideoFormat` that returns a 2-tuple? Seems like you can\u0027t get a full mapping otherwise. If yes, also note there\u0027s some sugar to destructure a tuple https://en.cppreference.com/w/cpp/language/structured_binding#Case_2:_binding_a_type_implementing_the_tuple_operations",
      "parentUuid": "1440502d_67f1552a",
      "revId": "66536690d86bae0af016a88410c2e822f00ffe4b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7ae33808_f2441524",
        "filename": "modules/video_capture/linux/video_capture_pipewire.cc",
        "patchSetId": 6
      },
      "lineNbr": 107,
      "author": {
        "id": 8046
      },
      "writtenOn": "2024-09-23T08:49:19Z",
      "side": 1,
      "message": "That would work, obviously, but I would prefer keeping it the way it\u0027s implemented now, to have just mapping for the raw formats as exist in the `kSupportedFormats` structure.",
      "parentUuid": "d5cbd57f_01d74d48",
      "revId": "66536690d86bae0af016a88410c2e822f00ffe4b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}