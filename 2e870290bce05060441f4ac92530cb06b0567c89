{
  "comments": [
    {
      "key": {
        "uuid": "0f62e638_f2e56ee2",
        "filename": "api/rtc_event_log/rtc_event_log.h",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 5087
      },
      "writtenOn": "2019-01-21T08:42:05Z",
      "side": 1,
      "message": "I am wondering if it makes sense to move https://cs.chromium.org/chromium/src/third_party/webrtc/logging/rtc_event_log/rtc_event_log_impl.cc?l\u003d370-379\u0026rcl\u003d10542f21c8e4e2d60b136fab45338f2b1e132dde to API in this CL.",
      "range": {
        "startLine": 36,
        "startChar": 2,
        "endLine": 37,
        "endChar": 73
      },
      "revId": "2e870290bce05060441f4ac92530cb06b0567c89",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9f960d5d_062a2b4b",
        "filename": "api/rtc_event_log/rtc_event_log.h",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 5150
      },
      "writtenOn": "2019-01-21T10:10:26Z",
      "side": 1,
      "message": "I think the default factory should be moved, but I don\u0027t see a reason for moving the implementation to api/. I\u0027d rather get rid of the Create method instead.",
      "parentUuid": "0f62e638_f2e56ee2",
      "range": {
        "startLine": 36,
        "startChar": 2,
        "endLine": 37,
        "endChar": 73
      },
      "revId": "2e870290bce05060441f4ac92530cb06b0567c89",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cff8ae92_43ffee32",
        "filename": "api/rtc_event_log/rtc_event_log.h",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 5087
      },
      "writtenOn": "2019-01-21T10:24:37Z",
      "side": 1,
      "message": "SGTM, I would like to avoid to have the declaration in one build target and the definition in another one because it can cause weird maintenance problems (the common case I have to deal with every now and then is: a dependency changes somewhere in the build graph and the build system doesn\u0027t pass the .o with the definition to the linker anymore).\n\nCan we delete RtcEventLog::Create before landing this? How hard it is to get rid of it?",
      "parentUuid": "9f960d5d_062a2b4b",
      "range": {
        "startLine": 36,
        "startChar": 2,
        "endLine": 37,
        "endChar": 73
      },
      "revId": "2e870290bce05060441f4ac92530cb06b0567c89",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fd850fd0_9aed93a9",
        "filename": "api/rtc_event_log/rtc_event_log.h",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 5150
      },
      "writtenOn": "2019-01-21T13:52:27Z",
      "side": 1,
      "message": "I agree that having the declaration and definition in different build targets is weird. However, this is already the case so it doesn\u0027t become worse with this CL. It seems more natural to me, to clean this up as part of moving the default factory (which would involve splitting the _impl build target anyway).\n\nBtw, this pattern (or anti-pattern) of having the declaration and definition in different targets occurs in other WebRTC factories as well. For example, api/call/call_factory_interface.h declares \nstd::unique_ptr\u003cCallFactoryInterface\u003e CreateCallFactory();\nwhereas it is defined in call/call_factory.cc which is part of the call build target.",
      "parentUuid": "cff8ae92_43ffee32",
      "range": {
        "startLine": 36,
        "startChar": 2,
        "endLine": 37,
        "endChar": 73
      },
      "revId": "2e870290bce05060441f4ac92530cb06b0567c89",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "93818f8a_af8a5bf9",
        "filename": "api/rtc_event_log/rtc_event_log.h",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 5126
      },
      "writtenOn": "2019-01-21T14:37:00Z",
      "side": 1,
      "message": "+1 to not defining functions in other build targets, as Mirko said. It has caused enough problems that we\u0027ve written a style rule about it: https://webrtc.googlesource.com/src/+/master/style-guide.md#h-cc-pairs",
      "parentUuid": "fd850fd0_9aed93a9",
      "range": {
        "startLine": 36,
        "startChar": 2,
        "endLine": 37,
        "endChar": 73
      },
      "revId": "2e870290bce05060441f4ac92530cb06b0567c89",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    }
  ]
}