{
  "comments": [
    {
      "key": {
        "uuid": "789412ba_6ba57484",
        "filename": "rtc_base/checks.h",
        "patchSetId": 15
      },
      "lineNbr": 376,
      "author": {
        "id": 5234
      },
      "writtenOn": "2019-11-28T07:48:26Z",
      "side": 1,
      "message": "Is the true ? : construction really needed here and below?\n\nAlso it looks like the RTC_CHECK_EVAL_MESSAGE will always expand to \"\"?",
      "range": {
        "startLine": 372,
        "startChar": 0,
        "endLine": 376,
        "endChar": 53
      },
      "revId": "9e296cb28d5cff827e951da7f71656f287f7353d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "629b9b7e_1f1d21d0",
        "filename": "rtc_base/checks.h",
        "patchSetId": 15
      },
      "lineNbr": 376,
      "author": {
        "id": 6337
      },
      "writtenOn": "2019-11-28T07:53:42Z",
      "side": 1,
      "message": "RTC_CHECK_EVAL_MESSAGE - this one will remove condition description that was passed to RTC_CHECK. For example if we cal RTC_CHECK(a \u003d\u003d b), it will remove \"a \u003d\u003d b\" from output message. \"true ? ... : ...\" will remove the logs passed to RTC_CHECK, like if RTC_CHECK(cond) \u003c\u003c \"Log1\" \u003c\u003c \" Log2\" was called, \"Log1 Log2\" will be removed from output.",
      "parentUuid": "789412ba_6ba57484",
      "range": {
        "startLine": 372,
        "startChar": 0,
        "endLine": 376,
        "endChar": 53
      },
      "revId": "9e296cb28d5cff827e951da7f71656f287f7353d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a4cacd52_b8abba78",
        "filename": "rtc_base/checks.h",
        "patchSetId": 15
      },
      "lineNbr": 376,
      "author": {
        "id": 5234
      },
      "writtenOn": "2019-11-28T08:05:15Z",
      "side": 1,
      "message": "\u003e RTC_CHECK_EVAL_MESSAGE - this one will remove condition description that was passed to RTC_CHECK. For example if we cal RTC_CHECK(a \u003d\u003d b), it will remove \"a \u003d\u003d b\" from output message. \n\nBut since this is inside #if RTC_CHECK_MSG_DISABLED, can\u0027t you just write \"\" instead of RTC_CHECK_EVAL_MESSAGE(...) ?\n\n\u003e \"true ? ... : ...\" will remove the logs passed to RTC_CHECK, like if RTC_CHECK(cond) \u003c\u003c \"Log1\" \u003c\u003c \" Log2\" was called, \"Log1 Log2\" will be removed from output.\n\nOk, so the false clause (after : ) needs something to eat the stream arguments. Can it be shortened to just\n\n   : rtc::webrtc_checks_impl::LogStreamer\u003c\u003e()\n\n?\n\nIt\u0027s a fairly complex expression, and it would be nice to cut out the unneeded parts.",
      "parentUuid": "629b9b7e_1f1d21d0",
      "range": {
        "startLine": 372,
        "startChar": 0,
        "endLine": 376,
        "endChar": 53
      },
      "revId": "9e296cb28d5cff827e951da7f71656f287f7353d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bad09e75_a494daf5",
        "filename": "rtc_base/checks.h",
        "patchSetId": 15
      },
      "lineNbr": 376,
      "author": {
        "id": 6337
      },
      "writtenOn": "2019-11-28T09:27:38Z",
      "side": 1,
      "message": "RTC_CHECK_EVAL_MESSAGE still required for C part. For C++ - yep, will replace.\n\nWe can\u0027t shorter that part for rtc::webrtc_checks_impl::LogStreamer\u003c\u003e() only because we need type void, not LogStreamer.",
      "parentUuid": "a4cacd52_b8abba78",
      "range": {
        "startLine": 372,
        "startChar": 0,
        "endLine": 376,
        "endChar": 53
      },
      "revId": "9e296cb28d5cff827e951da7f71656f287f7353d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6de29a88_a23fc717",
        "filename": "rtc_base/checks.h",
        "patchSetId": 15
      },
      "lineNbr": 376,
      "author": {
        "id": 5234
      },
      "writtenOn": "2019-11-28T09:54:41Z",
      "side": 1,
      "message": "\u003e We can\u0027t shorter that part for rtc::webrtc_checks_impl::LogStreamer\u003c\u003e() only because we need type void, not LogStreamer.\n\nI don\u0027t quite get the involved types, and the use of bitwise and operator. I guess it is ok as is, but you could consider other variants, e.g.,\n\n(rtc::webrtc_checks_impl::FatalLogCall\u003cfalse\u003e(__FILE__, __LINE__, \"\"), true) //  comma operator\n|| rtc::webrtc_checks_impl::LogStreamer\u003c\u003e() //  never evaluated, since left-hand of || is true\n\nIt\u0027s a bit tricky, since one also needs to take operator precedence order, including the \u003c\u003c operator, into account.",
      "parentUuid": "bad09e75_a494daf5",
      "range": {
        "startLine": 372,
        "startChar": 0,
        "endLine": 376,
        "endChar": 53
      },
      "revId": "9e296cb28d5cff827e951da7f71656f287f7353d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b97e21cf_c1265f90",
        "filename": "rtc_base/checks.h",
        "patchSetId": 15
      },
      "lineNbr": 376,
      "author": {
        "id": 6337
      },
      "writtenOn": "2019-11-28T10:10:03Z",
      "side": 1,
      "message": "We still can\u0027t do true || LogStreamer, it fails with:\nerror: invalid operands to binary expression (\u0027bool\u0027 and \u0027rtc::webrtc_checks_impl::LogStreamer\u003c\u003e\u0027)",
      "parentUuid": "6de29a88_a23fc717",
      "range": {
        "startLine": 372,
        "startChar": 0,
        "endLine": 376,
        "endChar": 53
      },
      "revId": "9e296cb28d5cff827e951da7f71656f287f7353d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c39f1f87_c8254aa7",
        "filename": "rtc_base/checks.h",
        "patchSetId": 15
      },
      "lineNbr": 376,
      "author": {
        "id": 5234
      },
      "writtenOn": "2019-11-28T10:25:18Z",
      "side": 1,
      "message": "Hmm. I guess one could add a conversion from LogStreamer to bool, but I don\u0027t think that\u0027s an improvement.\n\nDo you understand how the bitwise and operator (\u0026) works in this context? I\u0027ve seen that used only on integers and bools, so I\u0027m a bit surprised the compiler accepts that.",
      "parentUuid": "b97e21cf_c1265f90",
      "range": {
        "startLine": 372,
        "startChar": 0,
        "endLine": 376,
        "endChar": 53
      },
      "revId": "9e296cb28d5cff827e951da7f71656f287f7353d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9d909943_ed6d78a0",
        "filename": "rtc_base/checks.h",
        "patchSetId": 15
      },
      "lineNbr": 376,
      "author": {
        "id": 6337
      },
      "writtenOn": "2019-11-28T10:30:54Z",
      "side": 1,
      "message": "It\u0027s redefined on FatalLogCall. \"\u0026\" is used because its precedence is less than \"\u003c\u003c\"",
      "parentUuid": "c39f1f87_c8254aa7",
      "range": {
        "startLine": 372,
        "startChar": 0,
        "endLine": 376,
        "endChar": 53
      },
      "revId": "9e296cb28d5cff827e951da7f71656f287f7353d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7310cd90_9a79e72c",
        "filename": "rtc_base/checks.h",
        "patchSetId": 15
      },
      "lineNbr": 376,
      "author": {
        "id": 5234
      },
      "writtenOn": "2019-11-28T10:39:51Z",
      "side": 1,
      "message": "Ouch! If a hack like that is required to support the CHECK() \u003c\u003c \"msg\"; syntax, I\u0027d rather kill that syntax. But that\u0027s far out of scope for this cl.",
      "parentUuid": "9d909943_ed6d78a0",
      "range": {
        "startLine": 372,
        "startChar": 0,
        "endLine": 376,
        "endChar": 53
      },
      "revId": "9e296cb28d5cff827e951da7f71656f287f7353d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}