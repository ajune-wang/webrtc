{
  "comments": [
    {
      "key": {
        "uuid": "5953200c_747592bc",
        "filename": "pc/webrtcsdp.cc",
        "patchSetId": 3
      },
      "lineNbr": 538,
      "author": {
        "id": 5524
      },
      "writtenOn": "2018-09-04T14:26:13Z",
      "side": 1,
      "message": "When can we hit this check?\nCrashing on a non-null-terminated string might be a bit harsh?",
      "range": {
        "startLine": 538,
        "startChar": 68,
        "endLine": 538,
        "endChar": 0
      },
      "revId": "a0027dd2f44be4ca048c84426b52f55db005eaec",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0ed1710b_68b62709",
        "filename": "pc/webrtcsdp.cc",
        "patchSetId": 3
      },
      "lineNbr": 538,
      "author": {
        "id": 7641
      },
      "writtenOn": "2018-09-04T15:16:19Z",
      "side": 1,
      "message": "Initially I had the test as part of the if condition. I then realized that it always will be true if (line.compare() \u003d\u003d 0) is true. So it\u0027s there to catch the case if someone would alter the first if condition.\n\nIf you think it\u0027s better I could move it to the second if condition again.",
      "parentUuid": "5953200c_747592bc",
      "range": {
        "startLine": 538,
        "startChar": 68,
        "endLine": 538,
        "endChar": 0
      },
      "revId": "a0027dd2f44be4ca048c84426b52f55db005eaec",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d5c79e99_06785f4c",
        "filename": "pc/webrtcsdp.cc",
        "patchSetId": 3
      },
      "lineNbr": 538,
      "author": {
        "id": 5524
      },
      "writtenOn": "2018-09-04T16:07:38Z",
      "side": 1,
      "message": "I think I might be confusing myself too. Shouldn\u0027t the test be RTC_CHECK_LT?\nSimple example:\n  line \u003d \"a\u003dextmap\"\n  attribute \u003d \"extmap\"\nnow\n  kLinePrefixLength + attribute.size() \u003d\u003d line.size()\nwhich is ok.\n\nWouldn\u0027t that result in line[kLinePrefixLength + attribute.size()] going out of bounds?\n\nOr does some other part of the code already guaranteed that |line| has at least on termination character?",
      "parentUuid": "0ed1710b_68b62709",
      "range": {
        "startLine": 538,
        "startChar": 68,
        "endLine": 538,
        "endChar": 0
      },
      "revId": "a0027dd2f44be4ca048c84426b52f55db005eaec",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7bd584e9_8b0d367e",
        "filename": "pc/webrtcsdp.cc",
        "patchSetId": 3
      },
      "lineNbr": 538,
      "author": {
        "id": 5634
      },
      "writtenOn": "2018-09-04T16:13:29Z",
      "side": 1,
      "message": "https://stackoverflow.com/questions/11752705/does-stdstring-contain-null-terminator - no, line[line.size() + 1] isn\u0027t guaranteed to be null.",
      "parentUuid": "d5c79e99_06785f4c",
      "range": {
        "startLine": 538,
        "startChar": 68,
        "endLine": 538,
        "endChar": 0
      },
      "revId": "a0027dd2f44be4ca048c84426b52f55db005eaec",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "61d4975b_80513f52",
        "filename": "pc/webrtcsdp.cc",
        "patchSetId": 3
      },
      "lineNbr": 538,
      "author": {
        "id": 7641
      },
      "writtenOn": "2018-09-05T08:21:41Z",
      "side": 1,
      "message": "Strings in C++11 actually do have null character termination (see second answer at stackoverflow).\n\nHowever, I agree that the code is hard to read. Thanks for pointing that out!\n\nI have updated to compare the length of the strings and hope that makes more sense.",
      "parentUuid": "7bd584e9_8b0d367e",
      "range": {
        "startLine": 538,
        "startChar": 68,
        "endLine": 538,
        "endChar": 0
      },
      "revId": "a0027dd2f44be4ca048c84426b52f55db005eaec",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b1c9c5d1_140bdb51",
        "filename": "pc/webrtcsdp.cc",
        "patchSetId": 3
      },
      "lineNbr": 538,
      "author": {
        "id": 5524
      },
      "writtenOn": "2018-09-05T12:02:01Z",
      "side": 1,
      "message": "Ah, I\u0027d missed that aspect of c++11.\nThanks for making it more explicit though :)",
      "parentUuid": "61d4975b_80513f52",
      "range": {
        "startLine": 538,
        "startChar": 68,
        "endLine": 538,
        "endChar": 0
      },
      "revId": "a0027dd2f44be4ca048c84426b52f55db005eaec",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}