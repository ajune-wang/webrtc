{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "73254ff5_a22c1c43",
        "filename": "api/field_trials_view.h",
        "patchSetId": 1
      },
      "lineNbr": 35,
      "author": {
        "id": 13704
      },
      "writtenOn": "2022-07-01T08:44:51Z",
      "side": 1,
      "message": "There\u0027s still a TODO left with this CL: the unit tests in `field_trials_unittest.cc` are using unregistered field trials to test it\u0027s functionality. This means that `Lookup` will fail inside those unit tests. I thought about some ways to solve this:\n\n1. Add some dummy test-only field trials that\u0027s always generated in the C++ header by `field_trials.py`. It\u0027s probably the easies to do but I think I would have to add 2-3 permanent test-only trials in that case.\n\n2. Create a test-only function that can add to the list generated by `field_trials.py` inside tests when needed. This would probably involve modify the implementation of `IsFieldTrialRegistered` but I haven\u0027t come up with a good way of doing so without non-test penalties.\n\n3. Unconditionally disabling strict field trials in rtc_api_unittests by adding\n\n```\ndefines \u003d [ \"RTC_STRICT_FIELD_TRIALS\u003d0\" ]\n```\n\nTurns out this doesn\u0027t work because of this error: `\u0027RTC_STRICT_FIELD_TRIALS\u0027 macro redefined [-Werror,-Wmacro-redefined]`\n\nDo you have any preference or other suggestions?",
      "revId": "d0a41e57a420da30df043575e4da6c86f76ec351",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}