{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "f2094a44_bc3fd0b7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 5508
      },
      "writtenOn": "2021-06-14T08:32:20Z",
      "side": 1,
      "message": "Thanks Danil - I wired up propagation and consistency checking between the stream, channel and module.",
      "revId": "a9cd1c1b7654170f680067e40180d7ffbc47ec3d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5e679aba_a495d415",
        "filename": "audio/channel_receive.h",
        "patchSetId": 9
      },
      "lineNbr": 167,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-06-14T08:59:30Z",
      "side": 1,
      "message": "this naming style is for \"Accessors and mutators\".\nI do not feel comfortable when virtual function declared to be accessor, prefer to use regular function name.\n\nMay be because when I see use of an accessor, I assume it is very cheap, there is no point to cache value returned from it:\ne.g. code like this one looks fine to me:\n if (object.local_ssrc() !\u003d kSomeSsrc \u0026\u0026\n     object.local_ssrc() !\u003d kOtherSsrc) { \n   DoSomething(object.local_ssrc());\n }\n \nTo avoid extra cost of calling virtual function it might be slightly better to cache the result:\n uint32_t local_ssrc \u003d object.LocalSsrc();\n if (local_ssrc !\u003d kSomeSsrc \u0026\u0026 local_ssrc !\u003d kOtherSsrc) {\n   DoSomething(local_ssrc);\n }",
      "range": {
        "startLine": 167,
        "startChar": 19,
        "endLine": 167,
        "endChar": 29
      },
      "revId": "a9cd1c1b7654170f680067e40180d7ffbc47ec3d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "79b11d5a_512546b6",
        "filename": "audio/channel_receive.h",
        "patchSetId": 9
      },
      "lineNbr": 167,
      "author": {
        "id": 5508
      },
      "writtenOn": "2021-06-14T12:06:58Z",
      "side": 1,
      "message": "My intention is for the accessor_naming convention to imply that it\u0027s supposed to be very cheap. However, I\u0027m personally not _that_ used to the convention being used on virtual methods, but we have several cases of it in the source code - but there are actually situations there where those accessors are indeed not cheap at all (e.g. ones that go through api proxies).",
      "parentUuid": "5e679aba_a495d415",
      "range": {
        "startLine": 167,
        "startChar": 19,
        "endLine": 167,
        "endChar": 29
      },
      "revId": "a9cd1c1b7654170f680067e40180d7ffbc47ec3d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "73c6200b_4c499b93",
        "filename": "modules/rtp_rtcp/source/rtcp_receiver.cc",
        "patchSetId": 9
      },
      "lineNbr": 86,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-06-14T08:59:30Z",
      "side": 1,
      "message": "until c++17, class static constants require a defintion,\ni.e. add \nconstexpr size_t RTCPReceiver::RegisteredSsrcs::kLocalSsrcIndex;\n\n(side note from another comment: it likely should be kMediaSsrcIndex)",
      "revId": "a9cd1c1b7654170f680067e40180d7ffbc47ec3d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ff92306b_cb83aa07",
        "filename": "modules/rtp_rtcp/source/rtcp_receiver.cc",
        "patchSetId": 9
      },
      "lineNbr": 86,
      "author": {
        "id": 5508
      },
      "writtenOn": "2021-06-14T12:06:58Z",
      "side": 1,
      "message": "Done and changed to kMediaSsrcIndex. Also fixed kMaxSsrcs.",
      "parentUuid": "73c6200b_4c499b93",
      "revId": "a9cd1c1b7654170f680067e40180d7ffbc47ec3d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1073aa87_b5a80155",
        "filename": "modules/rtp_rtcp/source/rtcp_receiver.h",
        "patchSetId": 9
      },
      "lineNbr": 71,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-06-14T08:59:30Z",
      "side": 1,
      "message": "Ssrc\n\nhttp://go/cpp-style#General_Naming_Rules\n\"prefer to capitalize abbreviations as single words, e.g., StartRpc() rather than StartRPC().\"",
      "range": {
        "startLine": 71,
        "startChar": 15,
        "endLine": 71,
        "endChar": 19
      },
      "revId": "a9cd1c1b7654170f680067e40180d7ffbc47ec3d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "29d0825f_5c2605d4",
        "filename": "modules/rtp_rtcp/source/rtcp_receiver.h",
        "patchSetId": 9
      },
      "lineNbr": 71,
      "author": {
        "id": 5508
      },
      "writtenOn": "2021-06-14T12:06:58Z",
      "side": 1,
      "message": "Since this interface already has:\n\n  void SetRemoteSSRC(uint32_t ssrc);\n  uint32_t RemoteSSRC() const;\n  \nI figured I\u0027d follow that convention. Still prefer Ssrc()?",
      "parentUuid": "1073aa87_b5a80155",
      "range": {
        "startLine": 71,
        "startChar": 15,
        "endLine": 71,
        "endChar": 19
      },
      "revId": "a9cd1c1b7654170f680067e40180d7ffbc47ec3d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8fa8e9db_2c00a953",
        "filename": "modules/rtp_rtcp/source/rtcp_receiver.h",
        "patchSetId": 9
      },
      "lineNbr": 71,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-06-14T12:17:44Z",
      "side": 1,
      "message": "I still prefer Ssrc.\nIt makes harder to shift code to follow style when local consistency is used as a reason to do things old way. \n\nLately style guide was updated to reflect that:\nhttps://google.github.io/styleguide/cppguide.html#Goals\n\"Consistency should not generally be used as a justification to do things in an old style without considering the benefits of the new style, or the tendency of the codebase to converge on newer styles over time.\"",
      "parentUuid": "29d0825f_5c2605d4",
      "range": {
        "startLine": 71,
        "startChar": 15,
        "endLine": 71,
        "endChar": 19
      },
      "revId": "a9cd1c1b7654170f680067e40180d7ffbc47ec3d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "015504f1_ff803fec",
        "filename": "modules/rtp_rtcp/source/rtcp_receiver.h",
        "patchSetId": 9
      },
      "lineNbr": 145,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-06-14T08:59:30Z",
      "side": 1,
      "message": "all of the ssrcs_ are local\ndid you mean media_ssrc? (to distinct it with rtx and flexfec ssrcs)",
      "range": {
        "startLine": 145,
        "startChar": 13,
        "endLine": 145,
        "endChar": 23
      },
      "revId": "a9cd1c1b7654170f680067e40180d7ffbc47ec3d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "aea29aee_89452302",
        "filename": "modules/rtp_rtcp/source/rtcp_receiver.h",
        "patchSetId": 9
      },
      "lineNbr": 145,
      "author": {
        "id": 5508
      },
      "writtenOn": "2021-06-14T12:06:58Z",
      "side": 1,
      "message": "yes, sorry, this was a naming leak from the audio receive streams. fixed.",
      "parentUuid": "015504f1_ff803fec",
      "range": {
        "startLine": 145,
        "startChar": 13,
        "endLine": 145,
        "endChar": 23
      },
      "revId": "a9cd1c1b7654170f680067e40180d7ffbc47ec3d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41295869_5b9701ed",
        "filename": "modules/rtp_rtcp/source/rtp_rtcp_impl2.cc",
        "patchSetId": 9
      },
      "lineNbr": 655,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-06-14T08:59:30Z",
      "side": 1,
      "message": "why?\nrtcp_sender_ also needs an ssrc (to put into sender_ssrc field of the outgoing ReceiverReport and eXtendedReport)\nIf that ssrc mismatch local ssrc of the receiver, then rrtr/dlrr mechanic (estimating rtt as media receiver) would be broken",
      "range": {
        "startLine": 655,
        "startChar": 14,
        "endLine": 655,
        "endChar": 21
      },
      "revId": "a9cd1c1b7654170f680067e40180d7ffbc47ec3d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0ffb8107_3197aedb",
        "filename": "modules/rtp_rtcp/source/rtp_rtcp_impl2.cc",
        "patchSetId": 9
      },
      "lineNbr": 655,
      "author": {
        "id": 5508
      },
      "writtenOn": "2021-06-14T12:06:58Z",
      "side": 1,
      "message": "Added specific checks to make sure that this is only used for the receiver_only configuration. If we end up needing this functionality also for the other configuration, we can follow up on it when we get to it.",
      "parentUuid": "41295869_5b9701ed",
      "range": {
        "startLine": 655,
        "startChar": 14,
        "endLine": 655,
        "endChar": 21
      },
      "revId": "a9cd1c1b7654170f680067e40180d7ffbc47ec3d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "98de9d7a_6219d7bc",
        "filename": "modules/rtp_rtcp/source/rtp_rtcp_impl2.cc",
        "patchSetId": 9
      },
      "lineNbr": 655,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-06-14T12:17:44Z",
      "side": 1,
      "message": "in (rtp) receiver_only configuration we still send rtcp packets.\nin particular rrtr/dlrr mechanic I\u0027ve mention is primarly for the (rtp) receiver_only configuration.",
      "parentUuid": "0ffb8107_3197aedb",
      "range": {
        "startLine": 655,
        "startChar": 14,
        "endLine": 655,
        "endChar": 21
      },
      "revId": "a9cd1c1b7654170f680067e40180d7ffbc47ec3d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c740064e_479b50ee",
        "filename": "modules/rtp_rtcp/source/rtp_rtcp_impl2.h",
        "patchSetId": 9
      },
      "lineNbr": 114,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-06-14T08:59:30Z",
      "side": 1,
      "message": "I think SSRC() should be the (main/media) local SSRC, so this extra function looks confusing.\n\nIf you\u0027re sure these two functions are different, please comment how they are different.",
      "range": {
        "startLine": 113,
        "startChar": 2,
        "endLine": 114,
        "endChar": 76
      },
      "revId": "a9cd1c1b7654170f680067e40180d7ffbc47ec3d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ba23c6ef_40ca03e1",
        "filename": "modules/rtp_rtcp/source/rtp_rtcp_impl2.h",
        "patchSetId": 9
      },
      "lineNbr": 114,
      "author": {
        "id": 5508
      },
      "writtenOn": "2021-06-14T12:08:47Z",
      "side": 1,
      "message": "Would LocalMediaSSRC() work? Having access to this may also be receive_only specific.",
      "parentUuid": "c740064e_479b50ee",
      "range": {
        "startLine": 113,
        "startChar": 2,
        "endLine": 114,
        "endChar": 76
      },
      "revId": "a9cd1c1b7654170f680067e40180d7ffbc47ec3d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}