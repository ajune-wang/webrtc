{
  "comments": [
    {
      "key": {
        "uuid": "8bfb153f_b8776ce0",
        "filename": "modules/audio_processing/aec3/echo_audibility.cc",
        "patchSetId": 5
      },
      "lineNbr": 87,
      "author": {
        "id": 5119
      },
      "writtenOn": "2019-10-14T12:07:33Z",
      "side": 1,
      "message": "Should this be multi-channelized, too?\nOr add a comment explaining why we only use channel 0.",
      "range": {
        "startLine": 86,
        "startChar": 0,
        "endLine": 87,
        "endChar": 54
      },
      "revId": "ac4986bfc287232b7329a76274561288f6ccb24e",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c265daec_ffb7831d",
        "filename": "modules/audio_processing/aec3/echo_audibility.cc",
        "patchSetId": 5
      },
      "lineNbr": 87,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-10-15T06:06:20Z",
      "side": 1,
      "message": "You are fully right. I missed this. The code has been quite extensively rewritten to handle this now.",
      "parentUuid": "8bfb153f_b8776ce0",
      "range": {
        "startLine": 86,
        "startChar": 0,
        "endLine": 87,
        "endChar": 54
      },
      "revId": "ac4986bfc287232b7329a76274561288f6ccb24e",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "72a7a033_d5442223",
        "filename": "modules/audio_processing/aec3/echo_audibility.cc",
        "patchSetId": 5
      },
      "lineNbr": 87,
      "author": {
        "id": 5119
      },
      "writtenOn": "2019-10-15T08:18:54Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "c265daec_ffb7831d",
      "range": {
        "startLine": 86,
        "startChar": 0,
        "endLine": 87,
        "endChar": 54
      },
      "revId": "ac4986bfc287232b7329a76274561288f6ccb24e",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d101f666_463c7823",
        "filename": "modules/audio_processing/aec3/echo_audibility.cc",
        "patchSetId": 5
      },
      "lineNbr": 111,
      "author": {
        "id": 5119
      },
      "writtenOn": "2019-10-14T12:07:33Z",
      "side": 1,
      "message": "Does it make sense to just require one channel to have enough content? Or must all of them be active at the same time?\nSince requiring all channels is not robust to, say, if only channel 0 is non-zero.",
      "range": {
        "startLine": 102,
        "startChar": 44,
        "endLine": 111,
        "endChar": 7
      },
      "revId": "ac4986bfc287232b7329a76274561288f6ccb24e",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a07daf19_1495d739",
        "filename": "modules/audio_processing/aec3/echo_audibility.cc",
        "patchSetId": 5
      },
      "lineNbr": 111,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-10-15T06:06:20Z",
      "side": 1,
      "message": "I think it should be sufficient to have at least one channel with enough content.",
      "parentUuid": "d101f666_463c7823",
      "range": {
        "startLine": 102,
        "startChar": 44,
        "endLine": 111,
        "endChar": 7
      },
      "revId": "ac4986bfc287232b7329a76274561288f6ccb24e",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d819b602_73010518",
        "filename": "modules/audio_processing/aec3/echo_audibility.cc",
        "patchSetId": 5
      },
      "lineNbr": 111,
      "author": {
        "id": 5119
      },
      "writtenOn": "2019-10-15T07:36:14Z",
      "side": 1,
      "message": "The code does not seem to have been updated to reflect this. Should the logic be:\n\nfor each block {\n  too_low \u003d true;\n\n  for each channel {\n    // .. compute max_abs\n    if (max_abs \u003e\u003d 10) {\n      too_low \u003d false;\n      break;\n    }\n  }\n\n  // Discard all blocks if one of them is too low.\n  if (too_low) {\n    break;\n  }\n}",
      "parentUuid": "a07daf19_1495d739",
      "range": {
        "startLine": 102,
        "startChar": 44,
        "endLine": 111,
        "endChar": 7
      },
      "revId": "ac4986bfc287232b7329a76274561288f6ccb24e",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9b9cee98_108ce133",
        "filename": "modules/audio_processing/aec3/echo_audibility.cc",
        "patchSetId": 5
      },
      "lineNbr": 111,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-10-15T08:05:40Z",
      "side": 1,
      "message": "Thanks. It was intentional to avoid extra if-statements but I agree it does not hit the code nicely.\n\nI changed the outer loop to a while-loop instead, which, even if it still has the extra if-statement, at keeps the niceness of the current loop body.\n\nPTAL",
      "parentUuid": "d819b602_73010518",
      "range": {
        "startLine": 102,
        "startChar": 44,
        "endLine": 111,
        "endChar": 7
      },
      "revId": "ac4986bfc287232b7329a76274561288f6ccb24e",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    }
  ]
}