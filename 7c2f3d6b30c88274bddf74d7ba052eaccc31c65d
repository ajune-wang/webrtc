{
  "comments": [
    {
      "key": {
        "uuid": "5236658a_1c513413",
        "filename": "modules/audio_coding/neteq/include/neteq.h",
        "patchSetId": 2
      },
      "lineNbr": 134,
      "author": {
        "id": 7015
      },
      "writtenOn": "2018-08-27T12:03:24Z",
      "side": 1,
      "message": "what does \"next\" mean? \"Next\" time when GetAudio is called? it does not look that way.",
      "range": {
        "startLine": 134,
        "startChar": 6,
        "endLine": 134,
        "endChar": 26
      },
      "revId": "7c2f3d6b30c88274bddf74d7ba052eaccc31c65d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fa75792f_6ef06ba7",
        "filename": "modules/audio_coding/neteq/include/neteq.h",
        "patchSetId": 2
      },
      "lineNbr": 134,
      "author": {
        "id": 5607
      },
      "writtenOn": "2018-08-27T14:22:52Z",
      "side": 1,
      "message": "You\u0027re right that \u0027next\u0027 is a bit unclear here, since it is the action in this call that is being replaced by this new action. I can rename this to make that more clear.",
      "parentUuid": "5236658a_1c513413",
      "range": {
        "startLine": 134,
        "startChar": 6,
        "endLine": 134,
        "endChar": 26
      },
      "revId": "7c2f3d6b30c88274bddf74d7ba052eaccc31c65d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba321dd5_f5be66c3",
        "filename": "modules/audio_coding/neteq/neteq_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 863,
      "author": {
        "id": 7015
      },
      "writtenOn": "2018-08-27T12:03:24Z",
      "side": 1,
      "message": "how about putting this to GetDecision() and make sure that states related to GetDecision gets properly updated (or/and does not get wrongly updated).",
      "range": {
        "startLine": 863,
        "startChar": 6,
        "endLine": 863,
        "endChar": 26
      },
      "revId": "7c2f3d6b30c88274bddf74d7ba052eaccc31c65d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9003ec85_d3603e5e",
        "filename": "modules/audio_coding/neteq/neteq_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 863,
      "author": {
        "id": 5607
      },
      "writtenOn": "2018-08-27T14:22:52Z",
      "side": 1,
      "message": "I was hoping that GetDecision doesn\u0027t have any state or side-effects that depend on the decision. I will take a closer look at the code to investigate if that is true or not.",
      "parentUuid": "ba321dd5_f5be66c3",
      "range": {
        "startLine": 863,
        "startChar": 6,
        "endLine": 863,
        "endChar": 26
      },
      "revId": "7c2f3d6b30c88274bddf74d7ba052eaccc31c65d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3f63ec8c_db7b6856",
        "filename": "modules/audio_coding/neteq/neteq_impl.cc",
        "patchSetId": 2
      },
      "lineNbr": 863,
      "author": {
        "id": 5607
      },
      "writtenOn": "2018-08-28T14:20:25Z",
      "side": 1,
      "message": "It looks like you were right, I\u0027ve updated the code.",
      "parentUuid": "9003ec85_d3603e5e",
      "range": {
        "startLine": 863,
        "startChar": 6,
        "endLine": 863,
        "endChar": 26
      },
      "revId": "7c2f3d6b30c88274bddf74d7ba052eaccc31c65d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e41d6e11_816b526a",
        "filename": "modules/audio_coding/neteq/tools/neteq_stats_getter.h",
        "patchSetId": 2
      },
      "lineNbr": 59,
      "author": {
        "id": 7015
      },
      "writtenOn": "2018-08-27T12:03:24Z",
      "side": 1,
      "message": "why to put printing functionalities to the stats getter? will this pollute event log visualizer?",
      "range": {
        "startLine": 59,
        "startChar": 24,
        "endLine": 59,
        "endChar": 40
      },
      "revId": "7c2f3d6b30c88274bddf74d7ba052eaccc31c65d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "73c68ca8_d249150b",
        "filename": "modules/audio_coding/neteq/tools/neteq_stats_getter.h",
        "patchSetId": 2
      },
      "lineNbr": 59,
      "author": {
        "id": 5607
      },
      "writtenOn": "2018-08-27T14:22:52Z",
      "side": 1,
      "message": "I wasn\u0027t sure what the best place is to put this functionality. Perhaps it makes more sense to move this functionality into the DelayAnalyzer?",
      "parentUuid": "e41d6e11_816b526a",
      "range": {
        "startLine": 59,
        "startChar": 24,
        "endLine": 59,
        "endChar": 40
      },
      "revId": "7c2f3d6b30c88274bddf74d7ba052eaccc31c65d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fd0086ed_2233c117",
        "filename": "modules/audio_coding/neteq/tools/neteq_stats_getter.h",
        "patchSetId": 2
      },
      "lineNbr": 59,
      "author": {
        "id": 7015
      },
      "writtenOn": "2018-08-28T11:06:59Z",
      "side": 1,
      "message": "My understanding is\n\nNetEqTest is to handle run NetEq with NetEqInput, which contains RTP packets arrival times and GetAudio call times, as input, and run NetEq.\n\nNetEqStatsGetter is a NetEqGetAudioCallback, which is to query stats collector after NetEqTest calls to GetAudio(). It is not a necessary component to run NetEqTest.\n\nNetEqDelayAnalyzer is another stats collector/analyzer. It is inserted into NetEqStatsGetter so that NetEqStatsGetter dispatches this callback and its only operations.\n\nAs you see, NetEqStatsGetter is injected to NetEqTest and NetEqDelayAnalyzer is injected to NetEqStatsGetter and can be nullptr.\n\nSo I think it is very much up to the creator of these three (conventionally neteq_rtpplay and event_log_virtualizer) to decide what to do with the results: print/aggregate/plot.\n\nAfter writing these lengthy paragraph, I have an idea. Write a NetEqStatsPlotter as a NetEqSimulationEndedCallback. something like\n\nclass NetEqStatsPlotter() : public NetEqSimulationEndedCallback {\n public:\n   enum class PlotMethod {MATLAB, PYTHON};\n   explicit NetEqStatsPlotter(const NetEqStatsGetter*);\n   void setPlotMethod(PlotMethod);\n   void SimulationEnded() override;\n}\n\nWDYT?",
      "parentUuid": "73c68ca8_d249150b",
      "range": {
        "startLine": 59,
        "startChar": 24,
        "endLine": 59,
        "endChar": 40
      },
      "revId": "7c2f3d6b30c88274bddf74d7ba052eaccc31c65d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a5022375_00ded2ee",
        "filename": "modules/audio_coding/neteq/tools/neteq_stats_getter.h",
        "patchSetId": 2
      },
      "lineNbr": 59,
      "author": {
        "id": 5607
      },
      "writtenOn": "2018-08-28T14:20:25Z",
      "side": 1,
      "message": "I just had another look as well, but I think it makes sense to move the functionality to NetEqDelayAnalyzer, since that class is already actually creating the plots (it has CreateMatlabScript and CreatePythonScript functions), and this is also the class that stores all the data that is needed for the plot. WDYT?",
      "parentUuid": "fd0086ed_2233c117",
      "range": {
        "startLine": 59,
        "startChar": 24,
        "endLine": 59,
        "endChar": 40
      },
      "revId": "7c2f3d6b30c88274bddf74d7ba052eaccc31c65d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "43a343d2_59315c1d",
        "filename": "modules/audio_coding/neteq/tools/neteq_stats_getter.h",
        "patchSetId": 2
      },
      "lineNbr": 59,
      "author": {
        "id": 7015
      },
      "writtenOn": "2018-08-28T14:53:27Z",
      "side": 1,
      "message": "Yes, NetEqDelayAnalyzer has its own plot functionality, which I don\u0027t really like, but since neteq_rtpplay needed it, it was ok.\n\nBut that plot function has to be called explicitly by neteq_rtpplay.\n\nNow, we make it invoked automatically at the end of simulation. Caller, in current case Event log visualizer, cannot avoid it even it wants to do its own plot.",
      "parentUuid": "a5022375_00ded2ee",
      "range": {
        "startLine": 59,
        "startChar": 24,
        "endLine": 59,
        "endChar": 40
      },
      "revId": "7c2f3d6b30c88274bddf74d7ba052eaccc31c65d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    }
  ]
}