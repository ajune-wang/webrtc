{
  "comments": [
    {
      "key": {
        "uuid": "7569999b_63072ac9",
        "filename": "api/test/fake_media_transport.h",
        "patchSetId": 11
      },
      "lineNbr": 51,
      "author": {
        "id": 5800
      },
      "writtenOn": "2018-10-31T14:49:08Z",
      "side": 1,
      "message": "nit: Not part of your Cl, but this is misspelled.\ntrasport --\u003e transport",
      "range": {
        "startLine": 51,
        "startChar": 32,
        "endLine": 51,
        "endChar": 40
      },
      "revId": "6e9d8ecfc1c00569334ae39fd5ead7559e0baeb4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0e4901c2_8ae1254e",
        "filename": "api/test/fake_media_transport.h",
        "patchSetId": 11
      },
      "lineNbr": 51,
      "author": {
        "id": 7704
      },
      "writtenOn": "2018-10-31T15:25:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7569999b_63072ac9",
      "range": {
        "startLine": 51,
        "startChar": 32,
        "endLine": 51,
        "endChar": 40
      },
      "revId": "6e9d8ecfc1c00569334ae39fd5ead7559e0baeb4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "53a60946_e956f61d",
        "filename": "api/test/fake_media_transport.h",
        "patchSetId": 11
      },
      "lineNbr": 79,
      "author": {
        "id": 5800
      },
      "writtenOn": "2018-10-31T14:49:08Z",
      "side": 1,
      "message": "nit: If you\u0027d like you could replace these lines with CreateMediaTransport(packet_transport, network_thread, settings). \n\nI\u0027ve seen this pattern in other places, but your call if you want to or not.",
      "range": {
        "startLine": 76,
        "startChar": 4,
        "endLine": 79,
        "endChar": 38
      },
      "revId": "6e9d8ecfc1c00569334ae39fd5ead7559e0baeb4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "585cc245_d82ef17c",
        "filename": "api/test/fake_media_transport.h",
        "patchSetId": 11
      },
      "lineNbr": 79,
      "author": {
        "id": 7704
      },
      "writtenOn": "2018-10-31T15:25:49Z",
      "side": 1,
      "message": "yep, I think that\u0027s reasonable.",
      "parentUuid": "53a60946_e956f61d",
      "range": {
        "startLine": 76,
        "startChar": 4,
        "endLine": 79,
        "endChar": 38
      },
      "revId": "6e9d8ecfc1c00569334ae39fd5ead7559e0baeb4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "161481be_d2f6b5b7",
        "filename": "pc/jseptransportcontroller.cc",
        "patchSetId": 11
      },
      "lineNbr": 959,
      "author": {
        "id": 5800
      },
      "writtenOn": "2018-10-31T14:49:08Z",
      "side": 1,
      "message": "\"crypto flags\" is a bit confusing to me here when referring to the offer. When I think of crypto flags I think of the the CryptoOptions set to the RTCConfiguration for a PeerConnection.\n\nDo you mean the \"a\u003dcrypto\" SDP line was not set at the media-level in the offer? Or do you mean no CryptoParams were added to the MediaContentDescription (done here - https://cs.chromium.org/chromium/src/third_party/webrtc/pc/mediasession.cc?dr\u003dCSs\u0026g\u003d0\u0026l\u003d705)?\n\nI just want to make sure this log is clear. Maybe the most appropriate thing to say is SDES is not enabled in the offer?",
      "range": {
        "startLine": 959,
        "startChar": 18,
        "endLine": 959,
        "endChar": 30
      },
      "revId": "6e9d8ecfc1c00569334ae39fd5ead7559e0baeb4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "97c0218e_a6e0d6a1",
        "filename": "pc/jseptransportcontroller.cc",
        "patchSetId": 11
      },
      "lineNbr": 959,
      "author": {
        "id": 7704
      },
      "writtenOn": "2018-10-31T15:25:49Z",
      "side": 1,
      "message": "Done. Comment reworked.",
      "parentUuid": "161481be_d2f6b5b7",
      "range": {
        "startLine": 959,
        "startChar": 18,
        "endLine": 959,
        "endChar": 30
      },
      "revId": "6e9d8ecfc1c00569334ae39fd5ead7559e0baeb4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "39022782_a66626b8",
        "filename": "pc/jseptransportcontroller.cc",
        "patchSetId": 11
      },
      "lineNbr": 972,
      "author": {
        "id": 5800
      },
      "writtenOn": "2018-10-31T14:49:08Z",
      "side": 1,
      "message": "The difference being that your answer does not include the key? Or the difference being that the key you derive for the media transport is different than the one signaled in the SDP?",
      "range": {
        "startLine": 972,
        "startChar": 9,
        "endLine": 972,
        "endChar": 51
      },
      "revId": "6e9d8ecfc1c00569334ae39fd5ead7559e0baeb4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca345222_103a76b0",
        "filename": "pc/jseptransportcontroller.cc",
        "patchSetId": 11
      },
      "lineNbr": 972,
      "author": {
        "id": 7704
      },
      "writtenOn": "2018-10-31T15:25:49Z",
      "side": 1,
      "message": "Clarified in the comment.",
      "parentUuid": "39022782_a66626b8",
      "range": {
        "startLine": 972,
        "startChar": 9,
        "endLine": 972,
        "endChar": 51
      },
      "revId": "6e9d8ecfc1c00569334ae39fd5ead7559e0baeb4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1405ef77_b478b49e",
        "filename": "pc/jseptransportcontroller_unittest.cc",
        "patchSetId": 11
      },
      "lineNbr": 438,
      "author": {
        "id": 5800
      },
      "writtenOn": "2018-10-31T14:49:08Z",
      "side": 1,
      "message": "Are you missing an expectation here for the pre_shared_key?\n\nEXPECT_TRUE(media_transport-\u003epre_shared_key().has_value());",
      "range": {
        "startLine": 437,
        "startChar": 2,
        "endLine": 438,
        "endChar": 0
      },
      "revId": "6e9d8ecfc1c00569334ae39fd5ead7559e0baeb4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "71a06648_6c64e124",
        "filename": "pc/jseptransportcontroller_unittest.cc",
        "patchSetId": 11
      },
      "lineNbr": 438,
      "author": {
        "id": 7704
      },
      "writtenOn": "2018-10-31T15:25:49Z",
      "side": 1,
      "message": "Added.",
      "parentUuid": "1405ef77_b478b49e",
      "range": {
        "startLine": 437,
        "startChar": 2,
        "endLine": 438,
        "endChar": 0
      },
      "revId": "6e9d8ecfc1c00569334ae39fd5ead7559e0baeb4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8723efc0_b42b21f6",
        "filename": "pc/jseptransportcontroller_unittest.cc",
        "patchSetId": 11
      },
      "lineNbr": 443,
      "author": {
        "id": 5800
      },
      "writtenOn": "2018-10-31T14:49:08Z",
      "side": 1,
      "message": "This test is for the callee (SRD with an offer w/o an offer, then add crypto and SLD with an answer).\n\nWhat about doing the same test for a caller (SLD with an offer w/o crypto, then add crypto and SRD with the answer).",
      "range": {
        "startLine": 443,
        "startChar": 36,
        "endLine": 443,
        "endChar": 69
      },
      "revId": "6e9d8ecfc1c00569334ae39fd5ead7559e0baeb4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38c103e7_9b328968",
        "filename": "pc/jseptransportcontroller_unittest.cc",
        "patchSetId": 11
      },
      "lineNbr": 443,
      "author": {
        "id": 7704
      },
      "writtenOn": "2018-10-31T15:25:49Z",
      "side": 1,
      "message": "The logic removing the factory is the same no matter if it\u0027s a callee or a caller (if you look at the code there is no distinction between callee\u0027s and caller\u0027s scenarios -- there is no branching based on caller/calle). \n\nSo I\u0027d argue that the current test is sufficient, and it would be better not to duplicate the test ;)",
      "parentUuid": "8723efc0_b42b21f6",
      "range": {
        "startLine": 443,
        "startChar": 36,
        "endLine": 443,
        "endChar": 69
      },
      "revId": "6e9d8ecfc1c00569334ae39fd5ead7559e0baeb4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3e3e384b_de2f56d2",
        "filename": "pc/jseptransportcontroller_unittest.cc",
        "patchSetId": 11
      },
      "lineNbr": 443,
      "author": {
        "id": 5800
      },
      "writtenOn": "2018-10-31T17:31:56Z",
      "side": 1,
      "message": "I agree that currently there is no branching for caller/callee (both SetLocalDescription and SetRemoteDescription call ApplyDescription, which calls MaybeCreateJsepTransport). \n\nBut in your test you are calling SetRemoteDescription(offer), then SetLocalDescription(answer), which mimicks a callee\u0027s perspective. If logic changed for SetRemoteDescription/SetLocalDescription then this test would only be testing one scenario, even though we are dependent on the caller scenario as well (which is SetLocalDescription(offer), followed by SetRemoteDescription(answer)). \n\nYou don\u0027t have to update this test (like you said it\u0027s currently testing both scenarios because there isn\u0027t branching), but I think what you\u0027re really trying to test is the specific behavior of MaybeCreateJseptTransport. Maybe replacing the SRD/SLD calls with MaybeCreateJsepTransport would be the best thing to do here.",
      "parentUuid": "38c103e7_9b328968",
      "range": {
        "startLine": 443,
        "startChar": 36,
        "endLine": 443,
        "endChar": 69
      },
      "revId": "6e9d8ecfc1c00569334ae39fd5ead7559e0baeb4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "88e994df_6f2e88f6",
        "filename": "pc/jseptransportcontroller_unittest.cc",
        "patchSetId": 11
      },
      "lineNbr": 461,
      "author": {
        "id": 5800
      },
      "writtenOn": "2018-10-31T14:49:08Z",
      "side": 1,
      "message": "Should this be description2?",
      "range": {
        "startLine": 461,
        "startChar": 58,
        "endLine": 461,
        "endChar": 69
      },
      "revId": "6e9d8ecfc1c00569334ae39fd5ead7559e0baeb4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ddc7dbb2_ac493ef4",
        "filename": "pc/jseptransportcontroller_unittest.cc",
        "patchSetId": 11
      },
      "lineNbr": 461,
      "author": {
        "id": 7704
      },
      "writtenOn": "2018-10-31T15:25:49Z",
      "side": 1,
      "message": "yep, I noticed this too. Fixed.",
      "parentUuid": "88e994df_6f2e88f6",
      "range": {
        "startLine": 461,
        "startChar": 58,
        "endLine": 461,
        "endChar": 69
      },
      "revId": "6e9d8ecfc1c00569334ae39fd5ead7559e0baeb4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6d321030_0cbc5418",
        "filename": "pc/jseptransportcontroller_unittest.cc",
        "patchSetId": 11
      },
      "lineNbr": 464,
      "author": {
        "id": 5800
      },
      "writtenOn": "2018-10-31T14:49:08Z",
      "side": 1,
      "message": "Don\u0027t you want to have this line above SetLocalDescription?",
      "range": {
        "startLine": 464,
        "startChar": 2,
        "endLine": 464,
        "endChar": 40
      },
      "revId": "6e9d8ecfc1c00569334ae39fd5ead7559e0baeb4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c98699a9_89da3498",
        "filename": "pc/jseptransportcontroller_unittest.cc",
        "patchSetId": 11
      },
      "lineNbr": 464,
      "author": {
        "id": 7704
      },
      "writtenOn": "2018-10-31T15:25:49Z",
      "side": 1,
      "message": "Yep ;)",
      "parentUuid": "6d321030_0cbc5418",
      "range": {
        "startLine": 464,
        "startChar": 2,
        "endLine": 464,
        "endChar": 40
      },
      "revId": "6e9d8ecfc1c00569334ae39fd5ead7559e0baeb4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}