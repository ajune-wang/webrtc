{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "b69e36ca_ad274922",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 9816
      },
      "writtenOn": "2024-06-11T10:15:06Z",
      "side": 1,
      "message": "Hmm, this looks strange. I would expect that there is only one event for each id.\nI\u0027ve never seen such duplication. Or are you sharing the PipeWire fd among multiple `PipeWireSession` objects?",
      "revId": "81e336ab462bb5eded2b8cdeb0971c319dd6818b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "026a62c3_00112f09",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 8178
      },
      "writtenOn": "2024-06-11T10:30:54Z",
      "side": 1,
      "message": "LGTM with the two comments considered.",
      "revId": "81e336ab462bb5eded2b8cdeb0971c319dd6818b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "350ff2b6_d5ce9091",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 8046
      },
      "writtenOn": "2024-06-11T10:40:22Z",
      "side": 1,
      "message": "Yes, it\u0027s strange and I don\u0027t see anything wrong or anything that would cause getting events twice. And no, I don\u0027t share PipeWire fd and I\u0027m not only one who can reproduce this issue. I\u0027m still investigating what\u0027s going on.",
      "parentUuid": "b69e36ca_ad274922",
      "revId": "81e336ab462bb5eded2b8cdeb0971c319dd6818b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "314a86b7_c8c793ff",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 8046
      },
      "writtenOn": "2024-06-11T11:19:17Z",
      "side": 1,
      "message": "Found the issue:\nxdg-desktop-portal: https://github.com/flatpak/xdg-desktop-portal/commit/24d29bf1cc0e68521f082db4673999478a5923c9\n\nDowngrading to xdg-desktop-portal 1.18.2 makes it go away. I asked Robert Mader now and his response is:\n\nYep, that\u0027s a known regression caused by a fix for the portal. I haven\u0027t had time to investigate further, but I think it\u0027s a PW bug around permissions. In any case, with xdp \u003c\u003d 1.18.2 there were issues with cameras often not showing up at all - with \u003e\u003d 1.18.3 you get duplicates. The later is IMO much better, but still should get fixed - or worked around in apps, which usually should be quite simple (Snapshot does it as well IIRC).\n\nTherefore, we need this workaround.",
      "parentUuid": "350ff2b6_d5ce9091",
      "revId": "81e336ab462bb5eded2b8cdeb0971c319dd6818b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "abea4fb1_27866df3",
        "filename": "modules/video_capture/linux/pipewire_session.cc",
        "patchSetId": 3
      },
      "lineNbr": 71,
      "author": {
        "id": 5117
      },
      "writtenOn": "2024-06-11T10:34:59Z",
      "side": 1,
      "message": "Comparing PipeWireNode to int is very weird. Please use a lambda instead.",
      "range": {
        "startLine": 71,
        "startChar": 18,
        "endLine": 71,
        "endChar": 42
      },
      "revId": "81e336ab462bb5eded2b8cdeb0971c319dd6818b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ffb9883c_841596fa",
        "filename": "modules/video_capture/linux/pipewire_session.cc",
        "patchSetId": 3
      },
      "lineNbr": 71,
      "author": {
        "id": 8046
      },
      "writtenOn": "2024-06-11T10:53:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "abea4fb1_27866df3",
      "range": {
        "startLine": 71,
        "startChar": 18,
        "endLine": 71,
        "endChar": 42
      },
      "revId": "81e336ab462bb5eded2b8cdeb0971c319dd6818b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4a944b43_97fb66a9",
        "filename": "modules/video_capture/linux/pipewire_session.cc",
        "patchSetId": 3
      },
      "lineNbr": 362,
      "author": {
        "id": 8178
      },
      "writtenOn": "2024-06-11T10:30:54Z",
      "side": 1,
      "message": "I\u0027d prefer find_if so you don\u0027t need to define `operator\u003d\u003d` to satisfy a specific use case. I can\u0027t say whether the `operator\u003d\u003d` as defined here is correct.",
      "revId": "81e336ab462bb5eded2b8cdeb0971c319dd6818b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ccd20ce5_edd1e993",
        "filename": "modules/video_capture/linux/pipewire_session.cc",
        "patchSetId": 3
      },
      "lineNbr": 362,
      "author": {
        "id": 8046
      },
      "writtenOn": "2024-06-11T10:53:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4a944b43_97fb66a9",
      "revId": "81e336ab462bb5eded2b8cdeb0971c319dd6818b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "67adde7f_abf37b91",
        "filename": "modules/video_capture/linux/pipewire_session.cc",
        "patchSetId": 3
      },
      "lineNbr": 386,
      "author": {
        "id": 8178
      },
      "writtenOn": "2024-06-11T10:30:54Z",
      "side": 1,
      "message": "Should this use the analogous `std::remove_if` ?",
      "revId": "81e336ab462bb5eded2b8cdeb0971c319dd6818b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e68db4ba_04aa0bf0",
        "filename": "modules/video_capture/linux/pipewire_session.cc",
        "patchSetId": 3
      },
      "lineNbr": 386,
      "author": {
        "id": 8046
      },
      "writtenOn": "2024-06-11T12:28:10Z",
      "side": 1,
      "message": "Done. Might have been submitted separately as it\u0027s non-relevant code improvement, but it\u0027s probably fine doing it here.",
      "parentUuid": "67adde7f_abf37b91",
      "revId": "81e336ab462bb5eded2b8cdeb0971c319dd6818b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}