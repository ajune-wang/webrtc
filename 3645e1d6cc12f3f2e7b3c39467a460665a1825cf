{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "54d1fa63_6453eea2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 5234
      },
      "writtenOn": "2021-10-12T07:37:16Z",
      "side": 1,
      "message": "api/ changes lgtm\n\nBTW, it seems I reviewed the addition of PasteFrom/PasteFromBuffer in https://webrtc-review.googlesource.com/c/src/+/115300/ . But I can\u0027t find any current use, neither in webrtc or chromium. From https://bugs.chromium.org/p/webrtc/issues/detail?id\u003d10152#c17, maybe not actually needed?\n",
      "revId": "3645e1d6cc12f3f2e7b3c39467a460665a1825cf",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d40eeee4_cac346f1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 5117
      },
      "writtenOn": "2021-10-12T10:20:38Z",
      "side": 1,
      "message": "Yep, they were added at some point but then video capture API got changed and they were not needed. Unfortunately, I\u0027ve forgotten to remove them. Filed the bug https://bugs.chromium.org/p/webrtc/issues/detail?id\u003d13262.\n\nI will remove them soon.",
      "parentUuid": "54d1fa63_6453eea2",
      "revId": "3645e1d6cc12f3f2e7b3c39467a460665a1825cf",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "73025c57_db85d29b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 5117
      },
      "writtenOn": "2021-10-12T10:20:38Z",
      "side": 1,
      "message": "Please add unittests for the new code.\n\nEither copy third_party/webrtc/api/video/test/nv12_buffer_unittest.cc\nor add kI444 to third_party/webrtc/common_video/video_frame_unittest.cc",
      "revId": "3645e1d6cc12f3f2e7b3c39467a460665a1825cf",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2e753055_138a7a66",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 5117
      },
      "writtenOn": "2021-10-12T10:25:20Z",
      "side": 1,
      "message": "Also, you\u0027ll need to make a lot of updates to third_party/webrtc/modules/video_coding/codecs/h264/h264_encoder_impl.cc.\n\nSee every place where I420 is in the code there - it now needs to also work with I444.\n\nIf you only care about decoding I444, when update the CL description to clearly state so.",
      "revId": "3645e1d6cc12f3f2e7b3c39467a460665a1825cf",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3a3dbb25_c64ae0f4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 18414
      },
      "writtenOn": "2021-10-12T12:30:15Z",
      "side": 1,
      "message": "As far as I know open264 does not yet support I444. Will edit the CL description to reflect that this is only implementing I444 decoding.",
      "parentUuid": "2e753055_138a7a66",
      "revId": "3645e1d6cc12f3f2e7b3c39467a460665a1825cf",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e16c322f_4c67a745",
        "filename": "api/video/i444_buffer.cc",
        "patchSetId": 4
      },
      "lineNbr": 203,
      "author": {
        "id": 5117
      },
      "writtenOn": "2021-10-12T10:20:38Z",
      "side": 1,
      "message": "Firstly, with no subsampling offset isn\u0027t required to be even.\nSecondly, this code does nothing. \n\nThis seems to be a copy-paste oversight. Please update.",
      "range": {
        "startLine": 199,
        "startChar": 3,
        "endLine": 203,
        "endChar": 25
      },
      "revId": "3645e1d6cc12f3f2e7b3c39467a460665a1825cf",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c00b21d6_dc6a6ab2",
        "filename": "api/video/i444_buffer.cc",
        "patchSetId": 4
      },
      "lineNbr": 203,
      "author": {
        "id": 18414
      },
      "writtenOn": "2021-10-12T12:30:15Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "e16c322f_4c67a745",
      "range": {
        "startLine": 199,
        "startChar": 3,
        "endLine": 203,
        "endChar": 25
      },
      "revId": "3645e1d6cc12f3f2e7b3c39467a460665a1825cf",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cf191821_0a9cfe24",
        "filename": "api/video/i444_buffer.cc",
        "patchSetId": 4
      },
      "lineNbr": 203,
      "author": {
        "id": 5117
      },
      "writtenOn": "2021-10-12T13:30:35Z",
      "side": 1,
      "message": "Please update the code. You don\u0027t need uv_offset_* variables.",
      "parentUuid": "c00b21d6_dc6a6ab2",
      "range": {
        "startLine": 199,
        "startChar": 3,
        "endLine": 203,
        "endChar": 25
      },
      "revId": "3645e1d6cc12f3f2e7b3c39467a460665a1825cf",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b8b9bb0e_9ae2e8bd",
        "filename": "api/video/i444_buffer.cc",
        "patchSetId": 4
      },
      "lineNbr": 203,
      "author": {
        "id": 18414
      },
      "writtenOn": "2021-10-12T14:45:52Z",
      "side": 1,
      "message": "I did update the code with Patchset 6.",
      "parentUuid": "cf191821_0a9cfe24",
      "range": {
        "startLine": 199,
        "startChar": 3,
        "endLine": 203,
        "endChar": 25
      },
      "revId": "3645e1d6cc12f3f2e7b3c39467a460665a1825cf",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "faa8f212_e32e41a7",
        "filename": "api/video/i444_buffer.cc",
        "patchSetId": 4
      },
      "lineNbr": 227,
      "author": {
        "id": 5117
      },
      "writtenOn": "2021-10-12T10:20:38Z",
      "side": 1,
      "message": "Again, a copy-paste oversight. Division by 2 is required here to center the cropped image. Without it, the cropped image would be in the lower right corner.\n\nMaybe remove this method altogether. You should model I444Buffer on NV12Buffer, not I420Buffer, which is default format and is used in tests. NV12Buffer has only the full CropAndScale method.",
      "range": {
        "startLine": 227,
        "startChar": 23,
        "endLine": 227,
        "endChar": 50
      },
      "revId": "3645e1d6cc12f3f2e7b3c39467a460665a1825cf",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a87031b7_4e266547",
        "filename": "api/video/i444_buffer.cc",
        "patchSetId": 4
      },
      "lineNbr": 227,
      "author": {
        "id": 18414
      },
      "writtenOn": "2021-10-12T12:30:15Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "faa8f212_e32e41a7",
      "range": {
        "startLine": 227,
        "startChar": 23,
        "endLine": 227,
        "endChar": 50
      },
      "revId": "3645e1d6cc12f3f2e7b3c39467a460665a1825cf",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5da410b4_81447a6b",
        "filename": "api/video/i444_buffer.cc",
        "patchSetId": 4
      },
      "lineNbr": 227,
      "author": {
        "id": 5117
      },
      "writtenOn": "2021-10-12T13:30:35Z",
      "side": 1,
      "message": "Please update the code (either remove the function, or return division by 2).",
      "parentUuid": "a87031b7_4e266547",
      "range": {
        "startLine": 227,
        "startChar": 23,
        "endLine": 227,
        "endChar": 50
      },
      "revId": "3645e1d6cc12f3f2e7b3c39467a460665a1825cf",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e2d1dd4c_cea2dde4",
        "filename": "api/video/i444_buffer.cc",
        "patchSetId": 4
      },
      "lineNbr": 227,
      "author": {
        "id": 18414
      },
      "writtenOn": "2021-10-12T14:45:52Z",
      "side": 1,
      "message": "I did update the code with Patchset 6.",
      "parentUuid": "5da410b4_81447a6b",
      "range": {
        "startLine": 227,
        "startChar": 23,
        "endLine": 227,
        "endChar": 50
      },
      "revId": "3645e1d6cc12f3f2e7b3c39467a460665a1825cf",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "13c7bcc0_22c8b44d",
        "filename": "api/video/i444_buffer.cc",
        "patchSetId": 4
      },
      "lineNbr": 231,
      "author": {
        "id": 5117
      },
      "writtenOn": "2021-10-12T10:20:38Z",
      "side": 1,
      "message": "As above, this method is not needed.",
      "range": {
        "startLine": 231,
        "startChar": 0,
        "endLine": 231,
        "endChar": 60
      },
      "revId": "3645e1d6cc12f3f2e7b3c39467a460665a1825cf",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c5280a4b_09753c53",
        "filename": "api/video/i444_buffer.cc",
        "patchSetId": 4
      },
      "lineNbr": 231,
      "author": {
        "id": 18414
      },
      "writtenOn": "2021-10-12T12:30:15Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "13c7bcc0_22c8b44d",
      "range": {
        "startLine": 231,
        "startChar": 0,
        "endLine": 231,
        "endChar": 60
      },
      "revId": "3645e1d6cc12f3f2e7b3c39467a460665a1825cf",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "572f4509_8cd95ccf",
        "filename": "api/video/i444_buffer.h",
        "patchSetId": 4
      },
      "lineNbr": 1,
      "author": {
        "id": 5117
      },
      "writtenOn": "2021-10-12T10:20:38Z",
      "side": 1,
      "message": "You also need to add override to CropAndScale method in\nhttps://source.chromium.org/chromium/chromium/src/+/main:third_party/webrtc/api/video/video_frame_buffer.h;l\u003d186;drc\u003de882b8e4a8272f65cb14c608d3d2bc4f0512aa20\n\nSee NV12 for example:\nhttps://source.chromium.org/chromium/chromium/src/+/main:third_party/webrtc/api/video/video_frame_buffer.h;l\u003d249;drc\u003de882b8e4a8272f65cb14c608d3d2bc4f0512aa20\n\nWithout it pre-encoder scaling would downgrade I444 to I420 in VideoStreamEncoder.",
      "revId": "3645e1d6cc12f3f2e7b3c39467a460665a1825cf",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c0186884_0c0a3dc2",
        "filename": "common_video/video_frame_buffer_pool.cc",
        "patchSetId": 4
      },
      "lineNbr": 135,
      "author": {
        "id": 5117
      },
      "writtenOn": "2021-10-12T10:20:38Z",
      "side": 1,
      "message": "please combine lines",
      "range": {
        "startLine": 134,
        "startChar": 4,
        "endLine": 135,
        "endChar": 15
      },
      "revId": "3645e1d6cc12f3f2e7b3c39467a460665a1825cf",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f76a146d_1cf67694",
        "filename": "common_video/video_frame_buffer_pool.cc",
        "patchSetId": 4
      },
      "lineNbr": 135,
      "author": {
        "id": 18414
      },
      "writtenOn": "2021-10-12T12:30:15Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "c0186884_0c0a3dc2",
      "range": {
        "startLine": 134,
        "startChar": 4,
        "endLine": 135,
        "endChar": 15
      },
      "revId": "3645e1d6cc12f3f2e7b3c39467a460665a1825cf",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "11adf4e4_7e9fd86c",
        "filename": "common_video/video_frame_buffer_pool.cc",
        "patchSetId": 4
      },
      "lineNbr": 135,
      "author": {
        "id": 5117
      },
      "writtenOn": "2021-10-12T13:30:35Z",
      "side": 1,
      "message": "Please update the code.",
      "parentUuid": "f76a146d_1cf67694",
      "range": {
        "startLine": 134,
        "startChar": 4,
        "endLine": 135,
        "endChar": 15
      },
      "revId": "3645e1d6cc12f3f2e7b3c39467a460665a1825cf",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3fa467cf_364fdeeb",
        "filename": "modules/video_coding/codecs/h264/h264.cc",
        "patchSetId": 4
      },
      "lineNbr": 1,
      "author": {
        "id": 5117
      },
      "writtenOn": "2021-10-12T10:20:38Z",
      "side": 1,
      "message": "You also need to add I444 to the list of supported input formats here:\nhttps://source.chromium.org/chromium/chromium/src/+/main:third_party/webrtc/modules/video_coding/codecs/h264/h264_encoder_impl.cc;l\u003d640;drc\u003dcfea2182f8e41c3d8293d4e26b291ef2abf23257\n\nSee this for example:\nhttps://source.chromium.org/chromium/chromium/src/+/main:third_party/webrtc/modules/video_coding/codecs/vp8/libvpx_vp8_encoder.cc;l\u003d1247;drc\u003db26863ed0cd3ae890271424f01e560baeb380e64\n\nOtherwise webrtc would convert incoming I444 to I420.",
      "revId": "3645e1d6cc12f3f2e7b3c39467a460665a1825cf",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "884bac82_693902f9",
        "filename": "modules/video_coding/codecs/h264/h264.cc",
        "patchSetId": 4
      },
      "lineNbr": 1,
      "author": {
        "id": 18414
      },
      "writtenOn": "2021-10-12T12:30:15Z",
      "side": 1,
      "message": "This is just for the encoder implementation, right?",
      "parentUuid": "3fa467cf_364fdeeb",
      "revId": "3645e1d6cc12f3f2e7b3c39467a460665a1825cf",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "442465e5_0a63b5dc",
        "filename": "modules/video_coding/codecs/h264/h264.cc",
        "patchSetId": 4
      },
      "lineNbr": 1,
      "author": {
        "id": 5117
      },
      "writtenOn": "2021-10-12T13:30:35Z",
      "side": 1,
      "message": "Yes, this is only for encoder, so not needed for your CL.",
      "parentUuid": "884bac82_693902f9",
      "revId": "3645e1d6cc12f3f2e7b3c39467a460665a1825cf",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}