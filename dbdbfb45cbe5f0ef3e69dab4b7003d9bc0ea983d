{
  "comments": [
    {
      "key": {
        "uuid": "95f24f34_59dff730",
        "filename": "api/video_codecs/video_encoder.h",
        "patchSetId": 14
      },
      "lineNbr": 182,
      "author": {
        "id": 5117
      },
      "writtenOn": "2020-09-17T11:30:45Z",
      "side": 1,
      "message": "be adjusted so that a common multiple is not too big to avoid",
      "range": {
        "startLine": 181,
        "startChar": 62,
        "endLine": 182,
        "endChar": 31
      },
      "revId": "dbdbfb45cbe5f0ef3e69dab4b7003d9bc0ea983d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3eb98527_59d0a351",
        "filename": "api/video_codecs/video_encoder.h",
        "patchSetId": 14
      },
      "lineNbr": 182,
      "author": {
        "id": 5492
      },
      "writtenOn": "2020-09-18T11:10:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "95f24f34_59dff730",
      "range": {
        "startLine": 181,
        "startChar": 62,
        "endLine": 182,
        "endChar": 31
      },
      "revId": "dbdbfb45cbe5f0ef3e69dab4b7003d9bc0ea983d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cf095e73_fb813320",
        "filename": "api/video_codecs/video_encoder.h",
        "patchSetId": 14
      },
      "lineNbr": 184,
      "author": {
        "id": 5117
      },
      "writtenOn": "2020-09-17T11:30:45Z",
      "side": 1,
      "message": "WARNING: big values of scale_resolution_down_by could be changed considerably, especially if |requested_resolution_alignment| is also big.",
      "revId": "dbdbfb45cbe5f0ef3e69dab4b7003d9bc0ea983d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1a7106b7_a6089ba9",
        "filename": "api/video_codecs/video_encoder.h",
        "patchSetId": 14
      },
      "lineNbr": 184,
      "author": {
        "id": 5492
      },
      "writtenOn": "2020-09-18T11:10:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cf095e73_fb813320",
      "revId": "dbdbfb45cbe5f0ef3e69dab4b7003d9bc0ea983d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78231f6f_b24e1341",
        "filename": "video/alignment_adjuster.cc",
        "patchSetId": 14
      },
      "lineNbr": 31,
      "author": {
        "id": 5117
      },
      "writtenOn": "2020-09-17T11:16:50Z",
      "side": 1,
      "message": "nit: You can get start from |floor(multiple/layer.scale_resolution_down_by)| and try the only 2 values.\n\nNot that it\u0027s a huge speedup.",
      "revId": "dbdbfb45cbe5f0ef3e69dab4b7003d9bc0ea983d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "344aff6e_03ae40c1",
        "filename": "video/alignment_adjuster.cc",
        "patchSetId": 14
      },
      "lineNbr": 31,
      "author": {
        "id": 5492
      },
      "writtenOn": "2020-09-18T11:10:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "78231f6f_b24e1341",
      "revId": "dbdbfb45cbe5f0ef3e69dab4b7003d9bc0ea983d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dde8dbc9_85c71db8",
        "filename": "video/alignment_adjuster.cc",
        "patchSetId": 14
      },
      "lineNbr": 49,
      "author": {
        "id": 5117
      },
      "writtenOn": "2020-09-17T11:30:45Z",
      "side": 1,
      "message": "Please add formal problem writeup. Something like that:\n\nInput: vector config-\u003escale_resolution_down_by (S[i])\nInput: encoder_info.requested_resolution_alignment (K)\nOutput: \nIf there\u0027s S[i] \u003c 1.0 or there\u0027s no S[i] \u003d\u003d 1.0, returns K and doesn\u0027t adjust scaling factors.\nOtherwise, returns adjusted alignment (A), adjusted scaling factors (S\u0027[i]) are written in |config| s.t:\n\nA / S\u0027[i] are integers divisible by K\nsum abs(S\u0027[i] - S[i]) -\u003e min\nA/K integer \u003c\u003d 16 (????? not currently reflecting the code)\n\n\nSolution bruteforces X\u003d A/K then choses closest S\u0027[i] in a form X/j for some j.",
      "revId": "dbdbfb45cbe5f0ef3e69dab4b7003d9bc0ea983d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "288a4f00_e6f42b3f",
        "filename": "video/alignment_adjuster.cc",
        "patchSetId": 14
      },
      "lineNbr": 49,
      "author": {
        "id": 5492
      },
      "writtenOn": "2020-09-18T11:10:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dde8dbc9_85c71db8",
      "revId": "dbdbfb45cbe5f0ef3e69dab4b7003d9bc0ea983d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "93b2716c_645fcce5",
        "filename": "video/alignment_adjuster.cc",
        "patchSetId": 14
      },
      "lineNbr": 78,
      "author": {
        "id": 5117
      },
      "writtenOn": "2020-09-17T11:16:50Z",
      "side": 1,
      "message": "Having kMaxMultiple chosen this way is a little inconsistent. If I request alignment of 1 or 2, i could get result as large as 16. If I ask for 3, it could be 24 and so on.\n\nI would prefer something like 16/requested_alignment",
      "revId": "dbdbfb45cbe5f0ef3e69dab4b7003d9bc0ea983d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5745b24f_d0f6a7b3",
        "filename": "video/alignment_adjuster.cc",
        "patchSetId": 14
      },
      "lineNbr": 78,
      "author": {
        "id": 5492
      },
      "writtenOn": "2020-09-18T11:10:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "93b2716c_645fcce5",
      "revId": "dbdbfb45cbe5f0ef3e69dab4b7003d9bc0ea983d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b168bf09_5bbd4364",
        "filename": "video/alignment_adjuster_unittest.cc",
        "patchSetId": 14
      },
      "lineNbr": 95,
      "author": {
        "id": 5117
      },
      "writtenOn": "2020-09-17T11:16:50Z",
      "side": 1,
      "message": "This is quite confusing. Could you please change the test, so that you compare result of GetAlignment() directly, not that it\u0027s a given multiple of kRequestedAlignment.",
      "revId": "dbdbfb45cbe5f0ef3e69dab4b7003d9bc0ea983d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "66ab670c_650d97eb",
        "filename": "video/alignment_adjuster_unittest.cc",
        "patchSetId": 14
      },
      "lineNbr": 95,
      "author": {
        "id": 5492
      },
      "writtenOn": "2020-09-18T11:10:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b168bf09_5bbd4364",
      "revId": "dbdbfb45cbe5f0ef3e69dab4b7003d9bc0ea983d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f210786_51c9c64c",
        "filename": "video/video_stream_encoder.cc",
        "patchSetId": 14
      },
      "lineNbr": 618,
      "author": {
        "id": 5117
      },
      "writtenOn": "2020-09-17T11:16:50Z",
      "side": 1,
      "message": "nit: adjusts scale_resolution_down_by in |encoder_config_|",
      "range": {
        "startLine": 618,
        "startChar": 14,
        "endLine": 618,
        "endChar": 46
      },
      "revId": "dbdbfb45cbe5f0ef3e69dab4b7003d9bc0ea983d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "535970e8_35ca4f89",
        "filename": "video/video_stream_encoder.cc",
        "patchSetId": 14
      },
      "lineNbr": 618,
      "author": {
        "id": 5492
      },
      "writtenOn": "2020-09-18T11:10:07Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "5f210786_51c9c64c",
      "range": {
        "startLine": 618,
        "startChar": 14,
        "endLine": 618,
        "endChar": 46
      },
      "revId": "dbdbfb45cbe5f0ef3e69dab4b7003d9bc0ea983d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}