{
  "comments": [
    {
      "key": {
        "uuid": "752f1bad_8e536853",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 8683
      },
      "writtenOn": "2020-09-28T13:57:56Z",
      "side": 1,
      "message": "Nisse, Ilya, please take a look.\n\nI am open for changes in the design here with how codecs can signal their preferred pixel format. Let me know what you think there.",
      "revId": "7cb6735232bb8d90ca4ca98aa5d05306a97bab8e",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f9808953_31447aa4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 5234
      },
      "writtenOn": "2020-09-28T14:15:52Z",
      "side": 1,
      "message": "I don\u0027t know if that\u0027s an easy or hard change, but I think it would be a lot better we could just delete the conversion code in VideoStreamEncoder (including the supports_native_handle thing), and leave to the encoder implementations to call ToI420 if they don\u0027t support the original format. If you agree, at least plan for that, even if you need this in the interim.",
      "revId": "7cb6735232bb8d90ca4ca98aa5d05306a97bab8e",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "181805cc_7a7250b3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 8683
      },
      "writtenOn": "2020-09-29T07:45:26Z",
      "side": 1,
      "message": "I will investigate that. I think your idea makes the most sense and is the simplest, but will take an investigation first. If I can do it that way easily I will, otherwise I will make a plan to make that work.",
      "parentUuid": "f9808953_31447aa4",
      "revId": "7cb6735232bb8d90ca4ca98aa5d05306a97bab8e",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "472dfe28_b16776b7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 8683
      },
      "writtenOn": "2020-09-29T11:47:23Z",
      "side": 1,
      "message": "I have tried a few things, but it seems like a conversion is still needed for native frames. However, the I420 conversion can be removed and done inside the codecs instead. I will upload a new version with this.",
      "parentUuid": "181805cc_7a7250b3",
      "revId": "7cb6735232bb8d90ca4ca98aa5d05306a97bab8e",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7f1f1931_6a62317c",
        "filename": "api/video_codecs/video_encoder.h",
        "patchSetId": 8
      },
      "lineNbr": 258,
      "author": {
        "id": 5117
      },
      "writtenOn": "2020-09-28T14:08:39Z",
      "side": 1,
      "message": "Could you remove supports_native_handle? I mean prepare for deletion (set supported formats for all sw encoders and mark native handle as deprecated).\nOr at least make a todo now to delete it. It makes little sense to have two parallel systems to signal supported format.\n\nI assume there are quite some downstream projects using native_handle now, so a 3 step process is needed to clean it all out. But I\u0027m fine with it being a separate CL.",
      "revId": "7cb6735232bb8d90ca4ca98aa5d05306a97bab8e",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "680b2340_67eb5ef1",
        "filename": "api/video_codecs/video_encoder.h",
        "patchSetId": 8
      },
      "lineNbr": 258,
      "author": {
        "id": 8683
      },
      "writtenOn": "2020-09-29T13:57:33Z",
      "side": 1,
      "message": "Obsolete with the new implementation.",
      "parentUuid": "7f1f1931_6a62317c",
      "revId": "7cb6735232bb8d90ca4ca98aa5d05306a97bab8e",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0e0af34f_eaece02a",
        "filename": "api/video_codecs/video_encoder.h",
        "patchSetId": 8
      },
      "lineNbr": 260,
      "author": {
        "id": 5117
      },
      "writtenOn": "2020-09-28T14:08:39Z",
      "side": 1,
      "message": "Code at L184-195 suggests that it\u0027s {kNative, kI420}\n\nCurrent code actually means that it\u0027s implicitly assumed that all encoders support kI420, and if supports_native_hanlde, then also kNative.",
      "range": {
        "startLine": 260,
        "startChar": 37,
        "endLine": 260,
        "endChar": 44
      },
      "revId": "7cb6735232bb8d90ca4ca98aa5d05306a97bab8e",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e72d6de6_ce9797e1",
        "filename": "api/video_codecs/video_encoder.h",
        "patchSetId": 8
      },
      "lineNbr": 260,
      "author": {
        "id": 8683
      },
      "writtenOn": "2020-09-29T13:57:33Z",
      "side": 1,
      "message": "Obseleted by new revision.",
      "parentUuid": "0e0af34f_eaece02a",
      "range": {
        "startLine": 260,
        "startChar": 37,
        "endLine": 260,
        "endChar": 44
      },
      "revId": "7cb6735232bb8d90ca4ca98aa5d05306a97bab8e",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}