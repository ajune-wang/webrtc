{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "260e48f9_f0d4e113",
        "filename": "sdk/android/api/org/webrtc/HardwareVideoEncoderFactory.java",
        "patchSetId": 3
      },
      "lineNbr": 256,
      "author": {
        "id": 5525
      },
      "writtenOn": "2022-02-16T10:03:18Z",
      "side": 0,
      "message": "How sure are we that this is safe to change in all cases? 100 secs is already a lot, so perhaps OK, but 20 seconds sounds like it\u0027s being used to recover from decoder bugs?",
      "range": {
        "startLine": 254,
        "startChar": 0,
        "endLine": 256,
        "endChar": 18
      },
      "revId": "e7b4c137ccde1219829bbf9331e7ad7cb46cb0ea",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f870b9ca_5cd4cc32",
        "filename": "sdk/android/api/org/webrtc/HardwareVideoEncoderFactory.java",
        "patchSetId": 3
      },
      "lineNbr": 256,
      "author": {
        "id": 5825
      },
      "writtenOn": "2022-02-16T10:19:23Z",
      "side": 0,
      "message": "These numbers came from chromium encoder wrapper (together with wrapper itself); https://source.chromium.org/chromium/chromium/src/+/main:media/gpu/android/android_video_encode_accelerator.h;drc\u003dc26af9bfc075bbed0c70d2371b9021d3a3479d92;l\u003d60. There is no explanation on why values are such. Smells like a random choice.\n\nIf there is a problematic decoder which needs periodic recovery then it should request it.\n\nThere are problematic QC VP8 encoders with which we need periodic keyframes. But that is handled in a different way (direct request) and is not affected by this change.\nhttps://source.chromium.org/chromium/chromium/src/+/main:third_party/webrtc/sdk/android/api/org/webrtc/HardwareVideoEncoderFactory.java;drc\u003d6b19d8273bb718833b562def87f92b9f0becb39e;l\u003d33",
      "parentUuid": "260e48f9_f0d4e113",
      "range": {
        "startLine": 254,
        "startChar": 0,
        "endLine": 256,
        "endChar": 18
      },
      "revId": "e7b4c137ccde1219829bbf9331e7ad7cb46cb0ea",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "64e3f3be_70bad290",
        "filename": "sdk/android/api/org/webrtc/HardwareVideoEncoderFactory.java",
        "patchSetId": 3
      },
      "lineNbr": 256,
      "author": {
        "id": 5525
      },
      "writtenOn": "2022-02-16T10:34:44Z",
      "side": 0,
      "message": "I think it\u0027s possible that the numbers in the chromium encoder wrapper actually came from here initially.\n\n\u003e If there is a problematic decoder which needs periodic recovery then it should request it.\n\nBut if the receiver/decoder doesn\u0027t detect the corruption that wouldn\u0027t be possible, right?",
      "parentUuid": "f870b9ca_5cd4cc32",
      "range": {
        "startLine": 254,
        "startChar": 0,
        "endLine": 256,
        "endChar": 18
      },
      "revId": "e7b4c137ccde1219829bbf9331e7ad7cb46cb0ea",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "87605914_3d86e3f7",
        "filename": "sdk/android/api/org/webrtc/HardwareVideoEncoderFactory.java",
        "patchSetId": 3
      },
      "lineNbr": 256,
      "author": {
        "id": 5825
      },
      "writtenOn": "2022-02-16T12:25:24Z",
      "side": 0,
      "message": "Right. But that is not a good reason to enable periodic keyframes for all.",
      "parentUuid": "64e3f3be_70bad290",
      "range": {
        "startLine": 254,
        "startChar": 0,
        "endLine": 256,
        "endChar": 18
      },
      "revId": "e7b4c137ccde1219829bbf9331e7ad7cb46cb0ea",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "018eaf0a_effa840a",
        "filename": "sdk/android/api/org/webrtc/HardwareVideoEncoderFactory.java",
        "patchSetId": 3
      },
      "lineNbr": 256,
      "author": {
        "id": 5525
      },
      "writtenOn": "2022-02-16T12:29:22Z",
      "side": 0,
      "message": "In general I agree, but I\u0027m worried that we\u0027d start causing some devices to experience more problems, and I don\u0027t know how common that would be?\n\nDo you feel like this is safe and it\u0027s a risk worth taking?",
      "parentUuid": "87605914_3d86e3f7",
      "range": {
        "startLine": 254,
        "startChar": 0,
        "endLine": 256,
        "endChar": 18
      },
      "revId": "e7b4c137ccde1219829bbf9331e7ad7cb46cb0ea",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fcf27142_bfcb8df5",
        "filename": "sdk/android/api/org/webrtc/HardwareVideoEncoderFactory.java",
        "patchSetId": 3
      },
      "lineNbr": 256,
      "author": {
        "id": 5825
      },
      "writtenOn": "2022-02-16T12:56:41Z",
      "side": 0,
      "message": "I believe the risk is very low. We disabled periodic keyframes in Duo and Meet Android without any negative consequences.",
      "parentUuid": "018eaf0a_effa840a",
      "range": {
        "startLine": 254,
        "startChar": 0,
        "endLine": 256,
        "endChar": 18
      },
      "revId": "e7b4c137ccde1219829bbf9331e7ad7cb46cb0ea",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}