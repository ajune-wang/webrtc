{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "666e142e_b031f613",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 5125
      },
      "writtenOn": "2022-10-19T09:26:23Z",
      "side": 1,
      "message": "Thanks for this CL!",
      "revId": "ce824dd0c4949924949da8df7a4af0e58d7deebe",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "44a4675e_7a464974",
        "filename": "modules/audio_processing/agc2/input_volume_controller.cc",
        "patchSetId": 6
      },
      "lineNbr": 54,
      "author": {
        "id": 5125
      },
      "writtenOn": "2022-10-19T09:26:23Z",
      "side": 1,
      "message": "What is the reason for creating a customized config here, instead of setting the values as the default ones?\nI.e., would there be an option of specifying these values as default in the config? (from what I can see, CreateClippingPredictorConfihg seems to always be used?)",
      "range": {
        "startLine": 54,
        "startChar": 28,
        "endLine": 54,
        "endChar": 57
      },
      "revId": "ce824dd0c4949924949da8df7a4af0e58d7deebe",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "66735545_bf68df17",
        "filename": "modules/audio_processing/agc2/input_volume_controller.cc",
        "patchSetId": 6
      },
      "lineNbr": 54,
      "author": {
        "id": 5122
      },
      "writtenOn": "2022-10-19T14:08:28Z",
      "side": 1,
      "message": "BTW we can now stop using Agc1ClippingPredictorConfig and hardcode these params as constexpr - which could be done in a separate parent CL.",
      "parentUuid": "44a4675e_7a464974",
      "range": {
        "startLine": 54,
        "startChar": 28,
        "endLine": 54,
        "endChar": 57
      },
      "revId": "ce824dd0c4949924949da8df7a4af0e58d7deebe",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "87165037_85e57d4d",
        "filename": "modules/audio_processing/agc2/input_volume_controller.cc",
        "patchSetId": 6
      },
      "lineNbr": 433,
      "author": {
        "id": 5125
      },
      "writtenOn": "2022-10-19T09:26:23Z",
      "side": 1,
      "message": "Nit:\nHere I would suggesting using a for-each loop:\n\ne.g.,\nfor (auto\u0026 estimator : channel_estimators_) {\n  estimator \u003d ....\n}",
      "range": {
        "startLine": 433,
        "startChar": 2,
        "endLine": 433,
        "endChar": 62
      },
      "revId": "ce824dd0c4949924949da8df7a4af0e58d7deebe",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7c426b40_7598e3d7",
        "filename": "modules/audio_processing/agc2/input_volume_controller.cc",
        "patchSetId": 6
      },
      "lineNbr": 433,
      "author": {
        "id": 17719
      },
      "writtenOn": "2022-10-19T11:06:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "87165037_85e57d4d",
      "range": {
        "startLine": 433,
        "startChar": 2,
        "endLine": 433,
        "endChar": 62
      },
      "revId": "ce824dd0c4949924949da8df7a4af0e58d7deebe",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c1aa232a_d3f13395",
        "filename": "modules/audio_processing/agc2/input_volume_controller.cc",
        "patchSetId": 6
      },
      "lineNbr": 455,
      "author": {
        "id": 5125
      },
      "writtenOn": "2022-10-19T09:26:23Z",
      "side": 1,
      "message": "Nit: what about a for-each loop?\n\nfor (auto\u0026 estimator: estimators_) {\n  estimator-\u003eInitialize();\n}",
      "range": {
        "startLine": 453,
        "startChar": 1,
        "endLine": 455,
        "endChar": 3
      },
      "revId": "ce824dd0c4949924949da8df7a4af0e58d7deebe",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "80674a52_efde6c70",
        "filename": "modules/audio_processing/agc2/input_volume_controller.cc",
        "patchSetId": 6
      },
      "lineNbr": 455,
      "author": {
        "id": 17719
      },
      "writtenOn": "2022-10-19T11:06:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c1aa232a_d3f13395",
      "range": {
        "startLine": 453,
        "startChar": 1,
        "endLine": 455,
        "endChar": 3
      },
      "revId": "ce824dd0c4949924949da8df7a4af0e58d7deebe",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b2e535d7_ad94104d",
        "filename": "modules/audio_processing/agc2/input_volume_controller.cc",
        "patchSetId": 6
      },
      "lineNbr": 570,
      "author": {
        "id": 5125
      },
      "writtenOn": "2022-10-19T09:26:23Z",
      "side": 1,
      "message": "Nit: What about a for each loop?",
      "range": {
        "startLine": 570,
        "startChar": 1,
        "endLine": 570,
        "endChar": 62
      },
      "revId": "ce824dd0c4949924949da8df7a4af0e58d7deebe",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7e3b7fad_b3017fb8",
        "filename": "modules/audio_processing/agc2/input_volume_controller.cc",
        "patchSetId": 6
      },
      "lineNbr": 570,
      "author": {
        "id": 17719
      },
      "writtenOn": "2022-10-19T11:06:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b2e535d7_ad94104d",
      "range": {
        "startLine": 570,
        "startChar": 1,
        "endLine": 570,
        "endChar": 62
      },
      "revId": "ce824dd0c4949924949da8df7a4af0e58d7deebe",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4626d3fa_4c5be441",
        "filename": "modules/audio_processing/agc2/input_volume_controller.cc",
        "patchSetId": 6
      },
      "lineNbr": 581,
      "author": {
        "id": 5125
      },
      "writtenOn": "2022-10-19T09:26:23Z",
      "side": 1,
      "message": "Nit: What about a for-each loop?",
      "range": {
        "startLine": 581,
        "startChar": 0,
        "endLine": 581,
        "endChar": 62
      },
      "revId": "ce824dd0c4949924949da8df7a4af0e58d7deebe",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5bf9db35_259be336",
        "filename": "modules/audio_processing/agc2/input_volume_controller.cc",
        "patchSetId": 6
      },
      "lineNbr": 581,
      "author": {
        "id": 17719
      },
      "writtenOn": "2022-10-19T11:06:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4626d3fa_4c5be441",
      "range": {
        "startLine": 581,
        "startChar": 0,
        "endLine": 581,
        "endChar": 62
      },
      "revId": "ce824dd0c4949924949da8df7a4af0e58d7deebe",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d4efa7f6_1bdb0546",
        "filename": "modules/audio_processing/include/audio_processing.h",
        "patchSetId": 6
      },
      "lineNbr": 389,
      "author": {
        "id": 5125
      },
      "writtenOn": "2022-10-19T09:26:23Z",
      "side": 1,
      "message": "These are a lot of parameters values. What is the purpose of placing them in the config struct? Are these expected to be used for experimentation via Chrome?\n\nIf not, I\u0027d suggest to not put them into the config struct. E.g., an alternative option would be to use a field-trial inside of WebRTC that adjusts these as part of an experiment.",
      "range": {
        "startLine": 367,
        "startChar": 6,
        "endLine": 389,
        "endChar": 36
      },
      "revId": "ce824dd0c4949924949da8df7a4af0e58d7deebe",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eb900147_dcb59aa0",
        "filename": "modules/audio_processing/include/audio_processing.h",
        "patchSetId": 6
      },
      "lineNbr": 389,
      "author": {
        "id": 17719
      },
      "writtenOn": "2022-10-19T11:06:31Z",
      "side": 1,
      "message": "In this CL I want to introduce a minimum set of changes compared to the existing AgcManagerDirect -- especially in the unit tests. It\u0027s not a pure refactoring CL but we want to make sure the relevant tests still pass after the new changes.\n\nThe added config mimics the existing AnalogGainController config and not adding the parameters requires refactoring of the unit tests (which I want to avoid in this CL).\n\nOne option would be passing the existing AnalogGainController config to InputVolumeController in this CL and hardcoding the newly introduced parameters. Then in another CL, hardcode the AnalogGainController config parameters that are not needed and create an InputVolumeController config for the remaining ones?\n\nWDYT?",
      "parentUuid": "d4efa7f6_1bdb0546",
      "range": {
        "startLine": 367,
        "startChar": 6,
        "endLine": 389,
        "endChar": 36
      },
      "revId": "ce824dd0c4949924949da8df7a4af0e58d7deebe",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "32badcbe_7e04716d",
        "filename": "modules/audio_processing/include/audio_processing.h",
        "patchSetId": 6
      },
      "lineNbr": 389,
      "author": {
        "id": 5122
      },
      "writtenOn": "2022-10-19T14:08:28Z",
      "side": 1,
      "message": "What about hardcoding these params as constexpr in a parent separate CL? In this way, there won\u0027t be any need to add these params and delete them afterwards.",
      "parentUuid": "eb900147_dcb59aa0",
      "range": {
        "startLine": 367,
        "startChar": 6,
        "endLine": 389,
        "endChar": 36
      },
      "revId": "ce824dd0c4949924949da8df7a4af0e58d7deebe",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cc1d8613_506afa66",
        "filename": "modules/audio_processing/include/audio_processing.h",
        "patchSetId": 6
      },
      "lineNbr": 389,
      "author": {
        "id": 17719
      },
      "writtenOn": "2022-10-19T15:18:20Z",
      "side": 1,
      "message": "We can do that for some of the parameters but it\u0027ll require refactoring of unit tests if we want to hardcode all AnalogGainController parameters.",
      "parentUuid": "32badcbe_7e04716d",
      "range": {
        "startLine": 367,
        "startChar": 6,
        "endLine": 389,
        "endChar": 36
      },
      "revId": "ce824dd0c4949924949da8df7a4af0e58d7deebe",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e7bedbba_b5447234",
        "filename": "modules/audio_processing/include/audio_processing.h",
        "patchSetId": 6
      },
      "lineNbr": 389,
      "author": {
        "id": 5125
      },
      "writtenOn": "2022-10-21T06:58:27Z",
      "side": 1,
      "message": "If the goal is to not have these parameters in the config, I think it is fine to keep it as it is now in this CL, and then remove them in an upcoming CL.\n\nHowever, I don\u0027t see any reason for why this CL should add any new parameters in the config, i.e., beyond what was used for AgcManagerDirect.\n\nThese parameters are part of the API surface and there is no need to put anything here that we don\u0027t have any immediate plan to let users adjust.\nAlso, anything that is put here needs to be properly maintained so adding things here comes at a maintainance cost.",
      "parentUuid": "cc1d8613_506afa66",
      "range": {
        "startLine": 367,
        "startChar": 6,
        "endLine": 389,
        "endChar": 36
      },
      "revId": "ce824dd0c4949924949da8df7a4af0e58d7deebe",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}