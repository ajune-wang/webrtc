{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "fbb3b932_9f9f0fae",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 5607
      },
      "writtenOn": "2022-07-14T14:20:09Z",
      "side": 1,
      "message": "Thanks!",
      "revId": "beea58942ee79cf69ff7c5cd5ed7e9b4222443b3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0b8a243b_e097981b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 5607
      },
      "writtenOn": "2022-07-14T14:24:35Z",
      "side": 1,
      "message": "Adding tommi@ as reviewer for changes to call/audio_receive_stream.h (all other owners are OOO).",
      "revId": "beea58942ee79cf69ff7c5cd5ed7e9b4222443b3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b813e10f_9692cfe9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 5607
      },
      "writtenOn": "2022-07-15T07:52:48Z",
      "side": 1,
      "message": "Thanks!",
      "revId": "beea58942ee79cf69ff7c5cd5ed7e9b4222443b3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2c755155_559c818d",
        "filename": "api/neteq/neteq_controller.h",
        "patchSetId": 5
      },
      "lineNbr": 168,
      "author": {
        "id": 5508
      },
      "writtenOn": "2022-07-14T14:33:32Z",
      "side": 1,
      "message": "use bugs.webrtc.org/\u003cnumber\u003e instead?",
      "revId": "beea58942ee79cf69ff7c5cd5ed7e9b4222443b3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "209855eb_b1cf7b2a",
        "filename": "api/neteq/neteq_controller.h",
        "patchSetId": 5
      },
      "lineNbr": 168,
      "author": {
        "id": 5607
      },
      "writtenOn": "2022-07-15T07:52:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2c755155_559c818d",
      "revId": "beea58942ee79cf69ff7c5cd5ed7e9b4222443b3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "08226243_adb82296",
        "filename": "media/base/media_channel.h",
        "patchSetId": 5
      },
      "lineNbr": 459,
      "author": {
        "id": 5508
      },
      "writtenOn": "2022-07-14T14:33:32Z",
      "side": 1,
      "message": "we don\u0027t need the `https://` part actually for chromium bugs and for webrtc, just use `TODO(bugs.webrtc.org/14244):`",
      "revId": "beea58942ee79cf69ff7c5cd5ed7e9b4222443b3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6da44588_8f892828",
        "filename": "media/base/media_channel.h",
        "patchSetId": 5
      },
      "lineNbr": 459,
      "author": {
        "id": 5607
      },
      "writtenOn": "2022-07-15T07:52:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "08226243_adb82296",
      "revId": "beea58942ee79cf69ff7c5cd5ed7e9b4222443b3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "82873b6e_52fbf91f",
        "filename": "modules/audio_coding/neteq/delay_manager.h",
        "patchSetId": 5
      },
      "lineNbr": 117,
      "author": {
        "id": 5508
      },
      "writtenOn": "2022-07-14T14:33:32Z",
      "side": 1,
      "message": "it would be nice to start using thread annotations in this class",
      "revId": "beea58942ee79cf69ff7c5cd5ed7e9b4222443b3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "189699b5_23f7939d",
        "filename": "modules/audio_coding/neteq/delay_manager.h",
        "patchSetId": 5
      },
      "lineNbr": 117,
      "author": {
        "id": 5607
      },
      "writtenOn": "2022-07-15T07:52:48Z",
      "side": 1,
      "message": "Ack, I guess that also applies to most other parts of NetEq.",
      "parentUuid": "82873b6e_52fbf91f",
      "revId": "beea58942ee79cf69ff7c5cd5ed7e9b4222443b3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8580f58f_5308a2ec",
        "filename": "modules/audio_coding/neteq/delay_manager.h",
        "patchSetId": 5
      },
      "lineNbr": 117,
      "author": {
        "id": 8038
      },
      "writtenOn": "2022-07-15T07:58:51Z",
      "side": 1,
      "message": "Currently, all of NetEq is guarded behind a mutex and accessed by both the networking thread (?) and audio rendering thread. Does it make sense to use thread annotations in this case?",
      "parentUuid": "189699b5_23f7939d",
      "revId": "beea58942ee79cf69ff7c5cd5ed7e9b4222443b3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e8a64177_89dc57bf",
        "filename": "modules/audio_coding/neteq/delay_manager.h",
        "patchSetId": 5
      },
      "lineNbr": 117,
      "author": {
        "id": 5607
      },
      "writtenOn": "2022-07-15T08:13:45Z",
      "side": 1,
      "message": "One way to use the thread annotations is to document that the lock needs to be held when using the class. However, that applies to most of the internal classes in NetEq, so I\u0027m not sure how much value the annotations would add.",
      "parentUuid": "8580f58f_5308a2ec",
      "revId": "beea58942ee79cf69ff7c5cd5ed7e9b4222443b3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9ee84a1c_5f90aa89",
        "filename": "modules/audio_coding/neteq/delay_manager.h",
        "patchSetId": 5
      },
      "lineNbr": 117,
      "author": {
        "id": 5508
      },
      "writtenOn": "2022-07-15T09:30:59Z",
      "side": 1,
      "message": "Thread annotations are useful to enforce and document the threading model. So +1 on the improved readability but they also catch potential programmer mistakes if a programmer forgets to grab a lock or if a lock is already held.\n\nOn the name \"thread annotations\" - this doesn\u0027t explicitly mean that a variable will only be used on a particular thread. It\u0027s about thread safety and associating state with an object that implements a locking contract and guarantees the safety. An example could be a mutex but it could also be other types of constructs such as sequence checkers or task queues in the webrtc code base.\n\nSo in my opinion it\u0027s useful even if we just start with this one member variable. One bite at a time and all that",
      "parentUuid": "e8a64177_89dc57bf",
      "revId": "beea58942ee79cf69ff7c5cd5ed7e9b4222443b3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "871f30f8_f1f50a54",
        "filename": "modules/audio_coding/neteq/delay_manager.h",
        "patchSetId": 5
      },
      "lineNbr": 117,
      "author": {
        "id": 5607
      },
      "writtenOn": "2022-07-19T14:58:05Z",
      "side": 1,
      "message": "I think I will leave this for another CL to get this CL out of the door faster. The threading model in NetEq is a bit complicated, so it makes sense to do a bit of thinking about what the best way is to add useful thread annotations.",
      "parentUuid": "9ee84a1c_5f90aa89",
      "revId": "beea58942ee79cf69ff7c5cd5ed7e9b4222443b3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}