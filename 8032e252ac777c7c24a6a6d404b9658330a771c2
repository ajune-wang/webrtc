{
  "comments": [
    {
      "key": {
        "uuid": "70ae290e_1baa17cd",
        "filename": "test/pc/e2e/peer_connection_e2e_smoke_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 78,
      "author": {
        "id": 6337
      },
      "writtenOn": "2019-02-08T12:37:52Z",
      "side": 1,
      "message": "We can allow network emulation stay alive until end of the test and keep running.",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 78,
        "endChar": 0
      },
      "revId": "8032e252ac777c7c24a6a6d404b9658330a771c2",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d782ed66_dbeac12b",
        "filename": "test/pc/e2e/peer_connection_e2e_smoke_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 78,
      "author": {
        "id": 5531
      },
      "writtenOn": "2019-02-08T13:28:09Z",
      "side": 1,
      "message": "We don\u0027t want the emulation to be running when printing and checking the analyzer stats. That risks causing flakiness. By stopping the emulation we can ensure that we are in consistent state when checking the analyzer results.",
      "parentUuid": "70ae290e_1baa17cd",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 78,
        "endChar": 0
      },
      "revId": "8032e252ac777c7c24a6a6d404b9658330a771c2",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "945422a5_943a6332",
        "filename": "test/pc/e2e/peer_connection_e2e_smoke_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 78,
      "author": {
        "id": 6337
      },
      "writtenOn": "2019-02-08T14:31:21Z",
      "side": 1,
      "message": "Peer connection will be destroyed before checking analyzers results. Also by default analyzer won\u0027t be passed by user in the future, so it is why fixture owning an analyzer.\n\nBut the interesting question will be collecting network stats and for it we should be able to define clear points when test was started and ended",
      "parentUuid": "d782ed66_dbeac12b",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 78,
        "endChar": 0
      },
      "revId": "8032e252ac777c7c24a6a6d404b9658330a771c2",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2aeeea66_bda66922",
        "filename": "test/pc/e2e/peer_connection_e2e_smoke_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 78,
      "author": {
        "id": 6337
      },
      "writtenOn": "2019-02-08T14:41:23Z",
      "side": 1,
      "message": "One more option is to wrap NetworkEmulationManager with unique_ptr and reset it instead of stop. In such case it will solve both issues and won\u0027t affect ownership of analyzers.",
      "parentUuid": "945422a5_943a6332",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 78,
        "endChar": 0
      },
      "revId": "8032e252ac777c7c24a6a6d404b9658330a771c2",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "24b81dcc_cffeeb35",
        "filename": "test/pc/e2e/peer_connection_e2e_smoke_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 78,
      "author": {
        "id": 5531
      },
      "writtenOn": "2019-02-08T14:55:07Z",
      "side": 1,
      "message": "I don\u0027t see how using a unique pointer would help here, how is that different to having it owned in a local scope?\n\nThe emulation manager starts when it is created and stops when it is destroyed, right? That\u0027s two clear end points.\n\nIs there a use case for an analyzer that is unknown to the unit test? Seems to me like that should always be created by the user, to ensure that the values can be checked.",
      "parentUuid": "2aeeea66_bda66922",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 78,
        "endChar": 0
      },
      "revId": "8032e252ac777c7c24a6a6d404b9658330a771c2",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76cd53eb_85975a2d",
        "filename": "test/pc/e2e/peer_connection_e2e_smoke_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 78,
      "author": {
        "id": 6337
      },
      "writtenOn": "2019-02-08T15:01:52Z",
      "side": 1,
      "message": "Usually values not checked in the test, but exported to the dashboard.\nUnique pointer can help you delete network layer without having local scope",
      "parentUuid": "24b81dcc_cffeeb35",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 78,
        "endChar": 0
      },
      "revId": "8032e252ac777c7c24a6a6d404b9658330a771c2",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0b7bb370_ab1f8b2a",
        "filename": "test/pc/e2e/peer_connection_e2e_smoke_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 78,
      "author": {
        "id": 5531
      },
      "writtenOn": "2019-02-08T15:12:12Z",
      "side": 1,
      "message": "Shouldn\u0027t the test explicitly export the values though? I think that makes sense for readability, as that would be the main expected purpose of the test right?\n\nWhy is the local scope a problem?",
      "parentUuid": "76cd53eb_85975a2d",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 78,
        "endChar": 0
      },
      "revId": "8032e252ac777c7c24a6a6d404b9658330a771c2",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    }
  ]
}