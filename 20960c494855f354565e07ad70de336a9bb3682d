{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "408eca1c_12019455",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5825
      },
      "writtenOn": "2023-03-06T14:30:11Z",
      "side": 1,
      "message": "I would like to revert this change. CTS has very limited test set. The fact that it only tests encoding of resolutions multiple of 16 doesn\u0027t mean that this should be a requirement for all encoders. Many HW encoders can handle resolutions not multiple of 16. If encoder can\u0027t handle given resolution it should return error from MediaCodec.config().\n\nReverting this change won\u0027t affect WebRTC in Chrome (RTC encoder wrapper requests 16x16 alignment: https://source.chromium.org/chromium/chromium/src/+/main:media/gpu/android/android_video_encode_accelerator.cc;drc\u003d4abbb981443d7403566ef8aff05fdaca1e837da3;l\u003d494)",
      "revId": "20960c494855f354565e07ad70de336a9bb3682d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b75889ed_16238142",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5117
      },
      "writtenOn": "2023-03-06T14:37:35Z",
      "side": 1,
      "message": "But will that take into account downscaling from the CPU adaptation?\n\nIf we just revert this CL, then even if the user sets correct resolution, it might get downscaled to something non divisible by 16.",
      "revId": "20960c494855f354565e07ad70de336a9bb3682d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "433b4f75_3e9524c0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5117
      },
      "writtenOn": "2023-03-06T14:38:38Z",
      "side": 1,
      "message": "Ah, sorry, I\u0027ve replied before reading your comment.",
      "parentUuid": "b75889ed_16238142",
      "revId": "20960c494855f354565e07ad70de336a9bb3682d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "694df113_3e4cecc7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5825
      },
      "writtenOn": "2023-03-06T14:47:28Z",
      "side": 1,
      "message": "I realized that it should be fine to continue requiring 16x16 alignment in EncoderInfo. But we need to remove check from HardwareVideoEncoder.initEncode(): https://source.chromium.org/chromium/chromium/src/+/main:third_party/webrtc/sdk/android/src/java/org/webrtc/HardwareVideoEncoder.java;l\u003d213-217?q\u003dsettings.width%20%25%20REQUIRED_RESOLUTION_ALIGNMENT\u0026ss\u003dchromium",
      "revId": "20960c494855f354565e07ad70de336a9bb3682d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0ea1862f_121a1071",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5825
      },
      "writtenOn": "2023-03-06T16:34:22Z",
      "side": 1,
      "message": "Sorry but I have to drop this CL. No need to revert whole change. New CL: https://webrtc-review.googlesource.com/c/src/+/296325",
      "parentUuid": "694df113_3e4cecc7",
      "revId": "20960c494855f354565e07ad70de336a9bb3682d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ],
  "submitRequirementResults": [
    {
      "submitRequirement": {
        "name": "Code-Review",
        "description": {
          "value": "At least one maximum vote for label \u0027Code-Review\u0027 is required"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Code-Review\u003dMAX,user\u003dnon_uploader AND -label:Code-Review\u003dMIN"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Bot-Commit\u003d+1 AND -label:Code-Review\u003dMIN"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Code-Review=MAX,user=non_uploader AND -label:Code-Review=MIN"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:Code-Review=MAX,user=non_uploader"],"failingAtoms":["label:Code-Review=MIN"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Bot-Commit=+1 AND -label:Code-Review=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Bot-Commit=+1","label:Code-Review=MIN"]}
      },
      "patchSetCommitId": "20960c494855f354565e07ad70de336a9bb3682d",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Review-Enforcement",
        "description": {
          "value": "Two Google employees must approve the change. Uploading the change or voting positively on Code-Review count as approval."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "is:review-enforced_gerrit"
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:review-enforcement-satisfied_gerrit"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["is:review-enforced_gerrit"]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforcement-satisfied_gerrit"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "20960c494855f354565e07ad70de336a9bb3682d",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    }
  ]
}