{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "2b69c0c4_78b096c3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 9816
      },
      "writtenOn": "2024-08-08T13:01:07Z",
      "side": 1,
      "message": "Hmm, that covers the case when the node is removed on the server, while we still keep track of it.\n\nBut what about the happens when the node still exists, when we shut down our end of the connection and destroy all objects? Are you sure that the core destroys all proxy objects?",
      "revId": "01120e4cb944f7448166ee61015ae7006a520092",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a50f375a_e572e4f3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 8046
      },
      "writtenOn": "2024-08-08T14:51:50Z",
      "side": 1,
      "message": "The way I can trigger this crash is with https://webrtc-review.googlesource.com/c/src/+/358864.\n\nWhen I remove the unsupported camera (node), it calls the `pw_proxy_destroy()` in `~PipeWireNode()` and then closing Firefox it apparently tries to destroy it again and hits the assert.",
      "parentUuid": "2b69c0c4_78b096c3",
      "revId": "01120e4cb944f7448166ee61015ae7006a520092",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "988cecc1_dcc5abc6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 8046
      },
      "writtenOn": "2024-08-08T15:12:38Z",
      "side": 1,
      "message": "Actually, it looks it\u0027s vice versa, as adding breaks to `pw_proxy_destroy()` in gdb it says that:\n1) `pw_core_disconnect()` calls `pw_proxy_destroy()` first\n2) and `~PipeWireNode()` calls it again and hits the assert\n\nSee https://gitlab.freedesktop.org/pipewire/pipewire/-/blob/master/src/pipewire/core.c#L492.",
      "parentUuid": "a50f375a_e572e4f3",
      "revId": "01120e4cb944f7448166ee61015ae7006a520092",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}