{
  "comments": [
    {
      "key": {
        "uuid": "6261724d_38c7557b",
        "filename": "modules/video_coding/rtp_frame_reference_finder.cc",
        "patchSetId": 7
      },
      "lineNbr": 438,
      "author": {
        "id": 5234
      },
      "writtenOn": "2018-05-02T14:08:59Z",
      "side": 1,
      "message": "This initialization is also redundant, right?\n\nI think it would be clearer to write the first block as\n\nconst auto it \u003d gof_info_.find(codec_header.tl0_pic_idx);\nif (it \u003d\u003d gof_info_.end()...) return kStash;\ninfo \u003d \u0026it-\u003esecond;\n\nand in the second block as\n\ninfo \u003d \u0026gof_info.emplace(...).first-\u003esecond;\n\n(or maybe go via a a |const auto it| here too, if the .first-\u003esecond looks too unreadable).\n\nAnd similarly for other gof_info_it variables below: Local and assign-once variables make the code easier to follow.",
      "range": {
        "startLine": 438,
        "startChar": 4,
        "endLine": 438,
        "endChar": 39
      },
      "revId": "b35b35139581bf904f3744ebe5af5846084bd288",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "411e7144_faa02e61",
        "filename": "modules/video_coding/rtp_frame_reference_finder.cc",
        "patchSetId": 7
      },
      "lineNbr": 438,
      "author": {
        "id": 5527
      },
      "writtenOn": "2018-05-02T14:33:44Z",
      "side": 1,
      "message": "I think code like:\n\n  info \u003d\n      \u0026gof_info_\n          .emplace(codec_header.tl0_pic_idx,\n                   GofInfo(\u0026scalability_structures_[current_ss_idx_],\n                           frame-\u003eid.picture_id))\n          .first-\u003esecond;\n\nis pretty hard to parse. That\u0027s why I had the |new_info| variables, it makes the code somewhat more verbose but much easier to read, IMO.",
      "parentUuid": "6261724d_38c7557b",
      "range": {
        "startLine": 438,
        "startChar": 4,
        "endLine": 438,
        "endChar": 39
      },
      "revId": "b35b35139581bf904f3744ebe5af5846084bd288",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b2361b34_eec5076d",
        "filename": "modules/video_coding/rtp_frame_reference_finder.cc",
        "patchSetId": 7
      },
      "lineNbr": 438,
      "author": {
        "id": 5234
      },
      "writtenOn": "2018-05-02T14:43:08Z",
      "side": 1,
      "message": "Sure, it\u0027s fine to name intermediate values, if you can find good names for them (|new_foo| isn\u0027t so good, imo).\n\nconst auto it \u003d gof_info.emplace(...).first;\ninfo \u003d \u0026it-\u003esecond;\n\nmight be a reasonable compromise.\n\nBut my main point with this comment was to make the iterator variables more local, so that they can be const and assign once (and then it\u0027s also fine to use shorter names for them, if you like).",
      "parentUuid": "411e7144_faa02e61",
      "range": {
        "startLine": 438,
        "startChar": 4,
        "endLine": 438,
        "endChar": 39
      },
      "revId": "b35b35139581bf904f3744ebe5af5846084bd288",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "829e37b3_24a11f05",
        "filename": "modules/video_coding/rtp_frame_reference_finder.cc",
        "patchSetId": 7
      },
      "lineNbr": 438,
      "author": {
        "id": 5527
      },
      "writtenOn": "2018-05-03T13:45:54Z",
      "side": 1,
      "message": "Hopefully a bit cleaner now, PTAL",
      "parentUuid": "b2361b34_eec5076d",
      "range": {
        "startLine": 438,
        "startChar": 4,
        "endLine": 438,
        "endChar": 39
      },
      "revId": "b35b35139581bf904f3744ebe5af5846084bd288",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    }
  ]
}