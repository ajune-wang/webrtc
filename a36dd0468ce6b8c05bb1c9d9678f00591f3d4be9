{
  "comments": [
    {
      "key": {
        "uuid": "7298d553_ed5e6a5e",
        "filename": "api/test/peerconnection_quality_test_fixture.h",
        "patchSetId": 1
      },
      "lineNbr": 145,
      "author": {
        "id": 5023
      },
      "writtenOn": "2020-05-11T06:33:10Z",
      "side": 1,
      "message": "I believe this could be removed now, or in a followup:\nA) For simulcast, this should just be encoding_params.size();\nB) For SVC, there should (maybe not implemented yet) be information within the RtpEncodingParameters, how many spatial layers are used for that encoding.",
      "range": {
        "startLine": 145,
        "startChar": 4,
        "endLine": 145,
        "endChar": 32
      },
      "revId": "a36dd0468ce6b8c05bb1c9d9678f00591f3d4be9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "31ce0a57_95068317",
        "filename": "api/test/peerconnection_quality_test_fixture.h",
        "patchSetId": 1
      },
      "lineNbr": 145,
      "author": {
        "id": 6337
      },
      "writtenOn": "2020-05-11T09:34:48Z",
      "side": 1,
      "message": "|encoding_params| are optional, so this number is a primary source.",
      "parentUuid": "7298d553_ed5e6a5e",
      "range": {
        "startLine": 145,
        "startChar": 4,
        "endLine": 145,
        "endChar": 32
      },
      "revId": "a36dd0468ce6b8c05bb1c9d9678f00591f3d4be9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "07b8fd3c_a958e7bf",
        "filename": "test/pc/e2e/peer_configurer.cc",
        "patchSetId": 1
      },
      "lineNbr": 99,
      "author": {
        "id": 5126
      },
      "writtenOn": "2020-05-11T18:40:45Z",
      "side": 1,
      "message": "Combine these to a single `if`?",
      "range": {
        "startLine": 98,
        "startChar": 11,
        "endLine": 99,
        "endChar": 72
      },
      "revId": "a36dd0468ce6b8c05bb1c9d9678f00591f3d4be9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d1ce8222_92204850",
        "filename": "test/pc/e2e/peer_configurer.cc",
        "patchSetId": 1
      },
      "lineNbr": 101,
      "author": {
        "id": 5126
      },
      "writtenOn": "2020-05-11T18:40:45Z",
      "side": 1,
      "message": "RTC_[D]CHECK_op can compare two integers of any type. You don\u0027t have to convert manually.",
      "range": {
        "startLine": 101,
        "startChar": 16,
        "endLine": 101,
        "endChar": 35
      },
      "revId": "a36dd0468ce6b8c05bb1c9d9678f00591f3d4be9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "680b7fc2_647b5d06",
        "filename": "test/pc/e2e/peer_connection_quality_test.cc",
        "patchSetId": 1
      },
      "lineNbr": 421,
      "author": {
        "id": 5023
      },
      "writtenOn": "2020-05-11T06:33:10Z",
      "side": 1,
      "message": "I don\u0027t really know all the assumptions of this code, but another alternative could be to just copy the video_config.simulcast_config-\u003eencoding_params vector into the transceiver_params.send_encodings vector, and then overwrite the rid field for each copied encoding. That might make it easier to get rid of the simulcast_streams_count field?",
      "range": {
        "startLine": 421,
        "startChar": 8,
        "endLine": 421,
        "endChar": 11
      },
      "revId": "a36dd0468ce6b8c05bb1c9d9678f00591f3d4be9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c6a8f17b_eb68170e",
        "filename": "test/pc/e2e/peer_connection_quality_test.cc",
        "patchSetId": 1
      },
      "lineNbr": 421,
      "author": {
        "id": 6337
      },
      "writtenOn": "2020-05-11T09:34:48Z",
      "side": 1,
      "message": "For now |encoding_params| params are optional and in tests only |simulcast_streams_count| is used, because there are no extra encoding params to overwrite. I want to keep it like this for now. If we will understand, that we always want to set |encoding_params|, then I\u0027ll eliminate |simulcast_streams_count|.",
      "parentUuid": "680b7fc2_647b5d06",
      "range": {
        "startLine": 421,
        "startChar": 8,
        "endLine": 421,
        "endChar": 11
      },
      "revId": "a36dd0468ce6b8c05bb1c9d9678f00591f3d4be9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7513f7f6_8a954fb2",
        "filename": "test/pc/e2e/peer_connection_quality_test.cc",
        "patchSetId": 1
      },
      "lineNbr": 426,
      "author": {
        "id": 5023
      },
      "writtenOn": "2020-05-11T06:33:10Z",
      "side": 1,
      "message": "(If keeping the current structure, and not changing based on the previous comment.)\n\nReplace with:\nconst size_t num_encodings \u003d video_config.simulcast_config-\u003eencoding_params.size();\nif (i \u003c num_encodings) {\n...\n}\nThis should avoid a crash when simulcast_streams_count \u003e num_encodings.",
      "range": {
        "startLine": 424,
        "startChar": 10,
        "endLine": 426,
        "endChar": 11
      },
      "revId": "a36dd0468ce6b8c05bb1c9d9678f00591f3d4be9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ea6e7601_71c8cf81",
        "filename": "test/pc/e2e/peer_connection_quality_test.cc",
        "patchSetId": 1
      },
      "lineNbr": 426,
      "author": {
        "id": 6337
      },
      "writtenOn": "2020-05-11T09:34:48Z",
      "side": 1,
      "message": "There is a validation check that if |encoding_params| are specified, then its size is equal to |simulcast_streams_count|, so here is it safe.",
      "parentUuid": "7513f7f6_8a954fb2",
      "range": {
        "startLine": 424,
        "startChar": 10,
        "endLine": 426,
        "endChar": 11
      },
      "revId": "a36dd0468ce6b8c05bb1c9d9678f00591f3d4be9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}