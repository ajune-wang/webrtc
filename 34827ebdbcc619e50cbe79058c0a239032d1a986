{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "15f3b4ab_c5647550",
        "filename": "modules/audio_coding/neteq/timestamp_scaler.cc",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 14634
      },
      "writtenOn": "2022-10-03T19:59:59Z",
      "side": 1,
      "message": "what might be more clear is adding in [1] a static \u0027getDifference\u0027/\u0027getTimestampDifference\u0027(a, b), similar to IsNewer/IsNewerTimestamp(a, b), that just returns a - b but accounting for wrap-around.  As that is all this is doing here, getDifference(a, b). \n\n[1] https://source.chromium.org/chromium/chromium/src/+/main:third_party/webrtc/modules/include/module_common_types_public.h;l\u003d21",
      "revId": "34827ebdbcc619e50cbe79058c0a239032d1a986",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bda784a8_715c1e62",
        "filename": "modules/audio_coding/neteq/timestamp_scaler.cc",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 8038
      },
      "writtenOn": "2022-10-07T14:08:39Z",
      "side": 1,
      "message": "Would it be possible to rewrite this to use the TimestampUnwrapper instead? I think that would be easier to follow. Ideally we would use unwrapped timestamps throughout NetEq but that would be a lot of work.. :)",
      "parentUuid": "15f3b4ab_c5647550",
      "revId": "34827ebdbcc619e50cbe79058c0a239032d1a986",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d584f1db_4b86fbc0",
        "filename": "modules/audio_coding/neteq/timestamp_scaler.cc",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 14634
      },
      "writtenOn": "2022-10-07T17:00:04Z",
      "side": 1,
      "message": "yeaaah I almost did, but felt bad introducing two more stateful components. But I agree, that\u0027s better.\n\nWhat do you think about the getTimestampDifference(a, b) way? That feels reusable \ngetTimestampDifference(7, 2) \u003d 5\ngetTimestampDifference(2, 7) \u003d -5\ngetTimestampDifference(1, 2^32) \u003d 2\ngetTimestampDifference(2^32, 1) \u003d -2",
      "parentUuid": "bda784a8_715c1e62",
      "revId": "34827ebdbcc619e50cbe79058c0a239032d1a986",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f8c44829_ce86b200",
        "filename": "modules/audio_coding/neteq/timestamp_scaler.cc",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 8038
      },
      "writtenOn": "2022-10-11T20:43:25Z",
      "side": 1,
      "message": "Sure, I think that\u0027s fine too.",
      "parentUuid": "d584f1db_4b86fbc0",
      "revId": "34827ebdbcc619e50cbe79058c0a239032d1a986",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1ed102b1_5aaeca7d",
        "filename": "modules/audio_coding/neteq/timestamp_scaler.cc",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 14634
      },
      "writtenOn": "2022-10-12T18:38:39Z",
      "side": 1,
      "message": "decided to go with your TimestampUnwrapper suggestion as that\u0027s closer to the goal of only using unwrapped timestamps throughout neteq.\n\nSide note, unfortunately had to amend an out-of-order test, as Unwrap(10) followed by Unwrap(2^32 - 1) returns (2^32 - 1), not -11. (This case would break PacketArrivalHistory etc. too) Why do we never return negative values, does it make some invariant elsewhere easier? Why does Unwrap return int64_t not uint64_t if Unwrap is guaranteed positive?",
      "parentUuid": "f8c44829_ce86b200",
      "revId": "34827ebdbcc619e50cbe79058c0a239032d1a986",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "56b16065_08cd89de",
        "filename": "modules/audio_coding/neteq/timestamp_scaler.cc",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 14634
      },
      "writtenOn": "2022-10-24T23:51:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1ed102b1_5aaeca7d",
      "revId": "34827ebdbcc619e50cbe79058c0a239032d1a986",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}