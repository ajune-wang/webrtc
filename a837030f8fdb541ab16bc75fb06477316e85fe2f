{
  "comments": [
    {
      "key": {
        "uuid": "75ac04b5_ffc1327b",
        "filename": "modules/audio_coding/test/target_delay_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 56,
      "author": {
        "id": 8038
      },
      "writtenOn": "2019-09-03T10:32:19Z",
      "side": 0,
      "message": "This test introduces a lot of clock drift when it runs with \"jitter\".",
      "range": {
        "startLine": 56,
        "startChar": 7,
        "endLine": 56,
        "endChar": 39
      },
      "revId": "a837030f8fdb541ab16bc75fb06477316e85fe2f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ad3edaf5_7043d944",
        "filename": "modules/audio_coding/test/target_delay_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 56,
      "author": {
        "id": 7015
      },
      "writtenOn": "2019-09-04T15:32:03Z",
      "side": 0,
      "message": "would it be possible to solve the problem by using fakeclock",
      "parentUuid": "75ac04b5_ffc1327b",
      "range": {
        "startLine": 56,
        "startChar": 7,
        "endLine": 56,
        "endChar": 39
      },
      "revId": "a837030f8fdb541ab16bc75fb06477316e85fe2f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1712e8d0_5a591f02",
        "filename": "modules/audio_coding/test/target_delay_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 56,
      "author": {
        "id": 8038
      },
      "writtenOn": "2019-09-04T15:48:33Z",
      "side": 0,
      "message": "No. The \"clock drift\" is actually that they double the inter-arrival time for each packet when jitter is introduced. One would need to completely re-write the test in order to emulate jitter properly. Either way, I don\u0027t get why the OptimalDelayMs wouldn\u0027t change when jitter is introduced, which is what this test checks?",
      "parentUuid": "ad3edaf5_7043d944",
      "range": {
        "startLine": 56,
        "startChar": 7,
        "endLine": 56,
        "endChar": 39
      },
      "revId": "a837030f8fdb541ab16bc75fb06477316e85fe2f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0c3a85ad_23af8118",
        "filename": "test/scenario/stats_collection_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 81,
      "author": {
        "id": 8038
      },
      "writtenOn": "2019-09-03T10:32:19Z",
      "side": 0,
      "message": "This test seems to introduce a lot of clock drift and was very different between platforms.",
      "range": {
        "startLine": 81,
        "startChar": 14,
        "endLine": 81,
        "endChar": 67
      },
      "revId": "a837030f8fdb541ab16bc75fb06477316e85fe2f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "72064a49_1e5fc258",
        "filename": "test/scenario/stats_collection_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 81,
      "author": {
        "id": 5531
      },
      "writtenOn": "2019-09-03T10:50:44Z",
      "side": 0,
      "message": "Hmm, there shouldn\u0027t really be clock drift in this test, as it\u0027s supposed to be deterministic for a given platform. Maybe there has been a regression in that\n\nIt\u0027s different on different platforms because we have #ifdef constants based on platform in the underlying code. I\u0027m not sure the right way to handle it is to remove the test completely.\n\nWould it work to just increase the range enough that it doesn\u0027t trigger, then we\u0027ll at least detect if it\u0027s significantly changed. (going to 0 or a few seconds for instance)",
      "parentUuid": "0c3a85ad_23af8118",
      "range": {
        "startLine": 81,
        "startChar": 14,
        "endLine": 81,
        "endChar": 67
      },
      "revId": "a837030f8fdb541ab16bc75fb06477316e85fe2f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3dba04a2_bc3ef6c9",
        "filename": "test/scenario/stats_collection_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 81,
      "author": {
        "id": 8038
      },
      "writtenOn": "2019-09-03T11:05:48Z",
      "side": 0,
      "message": "The test would pass if we add like a +-100 ms range. I\u0027m fine with that, done.\n\nBut I think there is something wrong with the test. I did some logging when running it and the audio delay is increasing for every packet arriving.",
      "parentUuid": "72064a49_1e5fc258",
      "range": {
        "startLine": 81,
        "startChar": 14,
        "endLine": 81,
        "endChar": 67
      },
      "revId": "a837030f8fdb541ab16bc75fb06477316e85fe2f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ebaf1e9c_731e40f4",
        "filename": "test/scenario/stats_collection_unittest.cc",
        "patchSetId": 8
      },
      "lineNbr": 81,
      "author": {
        "id": 8038
      },
      "writtenOn": "2019-09-03T11:07:36Z",
      "side": 0,
      "message": "To clarify: the audio packet arrival delay increases.",
      "parentUuid": "3dba04a2_bc3ef6c9",
      "range": {
        "startLine": 81,
        "startChar": 14,
        "endLine": 81,
        "endChar": 67
      },
      "revId": "a837030f8fdb541ab16bc75fb06477316e85fe2f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}