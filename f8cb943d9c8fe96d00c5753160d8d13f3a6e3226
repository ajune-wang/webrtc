{
  "comments": [
    {
      "key": {
        "uuid": "c95c9983_7331c503",
        "filename": "call/adaptation/resource.h",
        "patchSetId": 7
      },
      "lineNbr": 59,
      "author": {
        "id": 5117
      },
      "writtenOn": "2020-05-29T12:37:37Z",
      "side": 1,
      "message": "I\u0027m not really sure about the exact explanation, but RefCountedObject is supposed to be a leaf in the inheritance tree. Otherwise there might be a diamond inheritance from a non-interface class. Therefore it can not be used like that. This is why you won\u0027t be able to find a lot \"rtc::RefCountedObject\u003cRtc::RefCoountInterace\u003e\" in webrtc codebase. \nThere\u0027s only QualityScalerQpUsageHandlerCallbackInterface added by you also (could you please clean that up in a follow-up or this CL? Please don\u0027t inherit from RefCountedObject there)\n\nUsual pattern is to inherit only from RefCountInterface and use |new RefCountedObject\u003cT\u003e| when creating a T to be stored in rtc::scoped_refptr.",
      "range": {
        "startLine": 59,
        "startChar": 24,
        "endLine": 59,
        "endChar": 69
      },
      "revId": "f8cb943d9c8fe96d00c5753160d8d13f3a6e3226",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "10d8d4ee_5aaa3d5c",
        "filename": "call/adaptation/resource.h",
        "patchSetId": 7
      },
      "lineNbr": 70,
      "author": {
        "id": 8683
      },
      "writtenOn": "2020-05-29T12:17:32Z",
      "side": 1,
      "message": "If the IsAdaptationUpAllowed and OnAdaptationApplied methods are removed, and the UsageState/ClearUsageState are replaced with simply calling \"OnResourceUsageStateMeasured(this, state)\", would the resource need the task queue at all? \n\nIn this case the OnResourceUsageStateMeasured() would be an async call.\n\nI only see it potentially needing the queue for setting listeners.",
      "range": {
        "startLine": 64,
        "startChar": 1,
        "endLine": 70,
        "endChar": 52
      },
      "revId": "f8cb943d9c8fe96d00c5753160d8d13f3a6e3226",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b7da2836_df139a59",
        "filename": "call/adaptation/resource.h",
        "patchSetId": 7
      },
      "lineNbr": 77,
      "author": {
        "id": 8683
      },
      "writtenOn": "2020-05-29T12:17:32Z",
      "side": 1,
      "message": "Why the change to multiple listeners now?",
      "range": {
        "startLine": 76,
        "startChar": 1,
        "endLine": 77,
        "endChar": 70
      },
      "revId": "f8cb943d9c8fe96d00c5753160d8d13f3a6e3226",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42776c8e_64806bb2",
        "filename": "call/adaptation/resource.h",
        "patchSetId": 7
      },
      "lineNbr": 79,
      "author": {
        "id": 8683
      },
      "writtenOn": "2020-05-29T12:17:32Z",
      "side": 1,
      "message": "Should we change this to const char * since its generally a static string? Don\u0027t need to address in this CL.",
      "range": {
        "startLine": 79,
        "startChar": 10,
        "endLine": 79,
        "endChar": 21
      },
      "revId": "f8cb943d9c8fe96d00c5753160d8d13f3a6e3226",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0d4312fa_1a621f2c",
        "filename": "call/adaptation/resource.h",
        "patchSetId": 7
      },
      "lineNbr": 103,
      "author": {
        "id": 8683
      },
      "writtenOn": "2020-05-29T12:17:32Z",
      "side": 1,
      "message": "These should be moved to VSE-Resource I think. Resources outside of VSE won\u0027t be able to interpret which input state or source restrictions this is for.",
      "range": {
        "startLine": 93,
        "startChar": 0,
        "endLine": 103,
        "endChar": 56
      },
      "revId": "f8cb943d9c8fe96d00c5753160d8d13f3a6e3226",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "21db52a1_ed4cea90",
        "filename": "call/adaptation/test/fake_resource.h",
        "patchSetId": 7
      },
      "lineNbr": 27,
      "author": {
        "id": 5117
      },
      "writtenOn": "2020-05-29T12:37:37Z",
      "side": 1,
      "message": "Once you revert a change to the Resource declaration, you can either revert this change or add\nRefCountedObject\u003cT\u003e in Create()",
      "range": {
        "startLine": 27,
        "startChar": 28,
        "endLine": 27,
        "endChar": 36
      },
      "revId": "f8cb943d9c8fe96d00c5753160d8d13f3a6e3226",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d7065ec7_92de1308",
        "filename": "video/adaptation/encode_usage_resource.cc",
        "patchSetId": 7
      },
      "lineNbr": 24,
      "author": {
        "id": 5117
      },
      "writtenOn": "2020-05-29T12:37:37Z",
      "side": 1,
      "message": "RefCountedObject\u003cEncodeusageResource\u003e\n(after you fix inheritance issue)",
      "range": {
        "startLine": 24,
        "startChar": 13,
        "endLine": 24,
        "endChar": 32
      },
      "revId": "f8cb943d9c8fe96d00c5753160d8d13f3a6e3226",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    }
  ]
}