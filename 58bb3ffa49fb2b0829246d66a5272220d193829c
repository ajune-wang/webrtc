{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "1966a242_2a3b50f1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 5023
      },
      "writtenOn": "2022-09-02T12:56:46Z",
      "side": 1,
      "message": "PTAL.\n\nmbonadei: Main reviewer.\nhta: api/ owner.",
      "revId": "58bb3ffa49fb2b0829246d66a5272220d193829c",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "269a23c1_69ed9ddc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 5087
      },
      "writtenOn": "2022-09-02T13:26:57Z",
      "side": 1,
      "message": "Adding Artem as well since we were talking about this a few days ago and since we are here we might even define the format we need to dump perf tests data as a time series and then do post processing on it.",
      "revId": "58bb3ffa49fb2b0829246d66a5272220d193829c",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "baa1561f_6b77d490",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 5527
      },
      "writtenOn": "2022-09-02T13:37:11Z",
      "side": 1,
      "message": "What\u0027s the long term plan of this class? Right now it\u0027s defined in `api/` and it\u0027s not a `testonly` target, is it meant to be used in prod at some point?",
      "revId": "58bb3ffa49fb2b0829246d66a5272220d193829c",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0f2cfb27_529699fe",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 5023
      },
      "writtenOn": "2022-09-02T13:48:11Z",
      "side": 1,
      "message": "This class is meant as a general purpose time series exporter, which is not necessarily tied to perf test output. But if you were considering defining a general purpose time series proto that could be used outside perf tests, I\u0027d be happy to use that instead!",
      "parentUuid": "269a23c1_69ed9ddc",
      "revId": "58bb3ffa49fb2b0829246d66a5272220d193829c",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ebffcc86_cde8e307",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 5023
      },
      "writtenOn": "2022-09-02T13:48:11Z",
      "side": 1,
      "message": "It\u0027s meant to be used in local dev builds, but it\u0027s not meant to be used in checked in code.\n\nMarking it `testonly` would make sense conceptually, but it\u0027s not possible since the class could be used from any target, i.e. non-`testonly` targets too.\n\nI don\u0027t have any strong feelings about including the class in `api/` or not, but not doing it would mean that downstream code would have to reach directly into `rtc_base` to use this class. That might be ok? That is indeed the current situation for reading the .proto...",
      "parentUuid": "baa1561f_6b77d490",
      "revId": "58bb3ffa49fb2b0829246d66a5272220d193829c",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0d9913fb_8e50daba",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 5527
      },
      "writtenOn": "2022-09-02T14:00:22Z",
      "side": 1,
      "message": "SGTM\n\nIn `webrtc/test/` we have RtpFileWriter [1] and such classes (which are marked `testonly` but it would be good if we could remove that), and I wonder if maybe that is better place for this class to live (`api/` seems a bit off to me), Mirko probably knows better though... :)\n\nWDYT Mirko?\n\n[1] https://source.chromium.org/chromium/chromium/src/+/main:third_party/webrtc/test/rtp_file_writer.h",
      "parentUuid": "ebffcc86_cde8e307",
      "revId": "58bb3ffa49fb2b0829246d66a5272220d193829c",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c71d0bfa_caaad815",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 5023
      },
      "writtenOn": "2022-09-02T14:03:21Z",
      "side": 1,
      "message": "Works for me. Is it ok to add it with \"visibility \u003d [*]\" there though?",
      "parentUuid": "0d9913fb_8e50daba",
      "revId": "58bb3ffa49fb2b0829246d66a5272220d193829c",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "553391e8_254c4dbe",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 5087
      },
      "writtenOn": "2022-09-02T14:10:53Z",
      "side": 1,
      "message": "Yes, this was one thing I was wondering about as well.\n\nI think it is fine to remove from api/ and keep in test/ with \"*\" visibility.",
      "parentUuid": "c71d0bfa_caaad815",
      "revId": "58bb3ffa49fb2b0829246d66a5272220d193829c",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ea146a89_caabde13",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 5527
      },
      "writtenOn": "2022-09-02T14:23:33Z",
      "side": 1,
      "message": "In that case I would suggest removing the interface and simply having a single class.",
      "parentUuid": "553391e8_254c4dbe",
      "revId": "58bb3ffa49fb2b0829246d66a5272220d193829c",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2644c122_3985ab03",
        "filename": "api/numerics/time_series_set_exporter.h",
        "patchSetId": 16
      },
      "lineNbr": 30,
      "author": {
        "id": 5087
      },
      "writtenOn": "2022-09-02T13:26:57Z",
      "side": 1,
      "message": "Nit: alito@ is migrating WebRTC to absl::string_view, I am not sure this includes API as well but in such case these might be string_views?",
      "range": {
        "startLine": 30,
        "startChar": 25,
        "endLine": 30,
        "endChar": 43
      },
      "revId": "58bb3ffa49fb2b0829246d66a5272220d193829c",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b529be9f_5ae4fc8d",
        "filename": "api/numerics/time_series_set_exporter.h",
        "patchSetId": 16
      },
      "lineNbr": 30,
      "author": {
        "id": 5023
      },
      "writtenOn": "2022-09-02T13:48:11Z",
      "side": 1,
      "message": "I tried that first, but since this argument is used as a key in the `std::unordered_map`, I would then need to construct a temporary `std::string` for the `operator[]` call. It wasn\u0027t really clear to me whether or not that would go against https://abseil.io/tips/1, so I went with the const ref parameter.\n\nI have no problems changing to `absl::string_view`, if you think that would be better? It would certainly lead to a nicer looking interface.",
      "parentUuid": "2644c122_3985ab03",
      "range": {
        "startLine": 30,
        "startChar": 25,
        "endLine": 30,
        "endChar": 43
      },
      "revId": "58bb3ffa49fb2b0829246d66a5272220d193829c",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3be74ee5_33a91cd3",
        "filename": "api/numerics/time_series_set_exporter.h",
        "patchSetId": 16
      },
      "lineNbr": 30,
      "author": {
        "id": 5087
      },
      "writtenOn": "2022-09-02T14:11:49Z",
      "side": 1,
      "message": "Aha, I see. No, let\u0027s keep it like this then.",
      "parentUuid": "b529be9f_5ae4fc8d",
      "range": {
        "startLine": 30,
        "startChar": 25,
        "endLine": 30,
        "endChar": 43
      },
      "revId": "58bb3ffa49fb2b0829246d66a5272220d193829c",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2bead63a_7f675fc8",
        "filename": "rtc_base/numerics/time_series_set_exporter_impl.cc",
        "patchSetId": 16
      },
      "lineNbr": 35,
      "author": {
        "id": 5087
      },
      "writtenOn": "2022-09-02T13:26:57Z",
      "side": 1,
      "message": "Can this happen? Since we never remove them, I think we should CHECK this is never the case.",
      "range": {
        "startLine": 33,
        "startChar": 4,
        "endLine": 35,
        "endChar": 5
      },
      "revId": "58bb3ffa49fb2b0829246d66a5272220d193829c",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "52ab121a_6fa47a50",
        "filename": "rtc_base/numerics/time_series_set_exporter_impl.cc",
        "patchSetId": 16
      },
      "lineNbr": 35,
      "author": {
        "id": 5023
      },
      "writtenOn": "2022-09-02T14:03:21Z",
      "side": 1,
      "message": "Good idea. Done.",
      "parentUuid": "2bead63a_7f675fc8",
      "range": {
        "startLine": 33,
        "startChar": 4,
        "endLine": 35,
        "endChar": 5
      },
      "revId": "58bb3ffa49fb2b0829246d66a5272220d193829c",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d49efe8c_66d74d14",
        "filename": "rtc_base/numerics/time_series_set_exporter_impl.h",
        "patchSetId": 16
      },
      "lineNbr": 32,
      "author": {
        "id": 5087
      },
      "writtenOn": "2022-09-02T13:26:57Z",
      "side": 1,
      "message": "Should we delete copy ctor and assignment?",
      "revId": "58bb3ffa49fb2b0829246d66a5272220d193829c",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4a9713ea_97bf1a9d",
        "filename": "rtc_base/numerics/time_series_set_exporter_impl.h",
        "patchSetId": 16
      },
      "lineNbr": 32,
      "author": {
        "id": 5023
      },
      "writtenOn": "2022-09-02T14:03:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d49efe8c_66d74d14",
      "revId": "58bb3ffa49fb2b0829246d66a5272220d193829c",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}