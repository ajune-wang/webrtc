{
  "comments": [
    {
      "key": {
        "uuid": "981146d1_b17c51b8",
        "filename": "api/video/color_space.cc",
        "patchSetId": 7
      },
      "lineNbr": 95,
      "author": {
        "id": 5126
      },
      "writtenOn": "2018-11-26T12:05:43Z",
      "side": 1,
      "message": "I would have liked to insist on a constexpr mask, but I can\u0027t (in 10 minutes) find a simple enough way to implement this with the overflow check intact.\n\nSo I guess this is OK. It seems we\u0027re lucky, and the compiler decides to compute this at compile time even though it doesn\u0027t have to.",
      "revId": "d9f765fe829bb302067b43793165c9de276bd01a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0c88530f_ab390051",
        "filename": "api/video/color_space.cc",
        "patchSetId": 7
      },
      "lineNbr": 95,
      "author": {
        "id": 7641
      },
      "writtenOn": "2018-11-26T14:27:08Z",
      "side": 1,
      "message": "That\u0027s what bothers me as well. I saw that gcc is not able to do the same optimization.\n\nAfter a lot more than 10 minutes of thinking I\u0027ve come up with this idea:\nhttps://godbolt.org/z/tKgqMc",
      "parentUuid": "981146d1_b17c51b8",
      "revId": "d9f765fe829bb302067b43793165c9de276bd01a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f6f44d09_16546a4f",
        "filename": "api/video/color_space.cc",
        "patchSetId": 7
      },
      "lineNbr": 95,
      "author": {
        "id": 5126
      },
      "writtenOn": "2018-11-26T16:43:04Z",
      "side": 1,
      "message": "Excellent!",
      "parentUuid": "0c88530f_ab390051",
      "revId": "d9f765fe829bb302067b43793165c9de276bd01a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}