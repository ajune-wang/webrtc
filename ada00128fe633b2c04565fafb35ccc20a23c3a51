{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "574c4682_08205861",
        "filename": "pc/video_rtp_receiver.cc",
        "patchSetId": 34
      },
      "lineNbr": 292,
      "author": {
        "id": 9515
      },
      "writtenOn": "2021-05-14T15:32:32Z",
      "side": 0,
      "message": "If the root cause of the bug is that the worker is overloaded, and \"secondary\" up in rtp_receiver_interface.h meaning that the destination is the worker thread, JS will remain blocked on GetSources post this change. To terminally decouple GetSources from this situation, a solution is to move GetSources back to the signaling thread and do some downstairs work to make the method both efficient and not depend on the worker thread.",
      "range": {
        "startLine": 292,
        "startChar": 25,
        "endLine": 292,
        "endChar": 31
      },
      "revId": "ada00128fe633b2c04565fafb35ccc20a23c3a51",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "03667973_2012a0cf",
        "filename": "pc/video_rtp_receiver.cc",
        "patchSetId": 34
      },
      "lineNbr": 292,
      "author": {
        "id": 5508
      },
      "writtenOn": "2021-05-14T16:23:20Z",
      "side": 0,
      "message": "Yes, that\u0027s an option (assuming it does not introduce blocking to the signaling thread). Making that change involves several layers of classes (and related classes that keep the sources list up to date) so it might be quite a bit of work.\n\nThe worker thread being overloaded in itself, is unfortunately not due to one single issue, so while this CL helps, more needs to be done before it or similar issues completely go away. Network packets and Invokes() together are probably the root cause(s). This CL removes several problematic Invokes and also removes Invokes to the signaling thread, which unblocks the application thread.",
      "parentUuid": "574c4682_08205861",
      "range": {
        "startLine": 292,
        "startChar": 25,
        "endLine": 292,
        "endChar": 31
      },
      "revId": "ada00128fe633b2c04565fafb35ccc20a23c3a51",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}