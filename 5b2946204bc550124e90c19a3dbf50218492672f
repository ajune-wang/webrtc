{
  "comments": [
    {
      "key": {
        "uuid": "6a9d6d00_9f9a0d63",
        "filename": "modules/audio_processing/agc2/rnn_vad/fft_util.cc",
        "patchSetId": 9
      },
      "lineNbr": 47,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-04-04T14:18:03Z",
      "side": 1,
      "message": "Regarding my question whether this was the FFT size, it is a very odd FFT size since\nkFftSize20ms24kHz\u003dkFrameSize20ms24kHz / 2 + 1. \n\nAlso looking at line 59, it does not seem so.\n\nI\u0027d rather claim that this \nkFftSize20ms24kHz is the FFTSize/2+1",
      "range": {
        "startLine": 47,
        "startChar": 28,
        "endLine": 47,
        "endChar": 45
      },
      "revId": "5b2946204bc550124e90c19a3dbf50218492672f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fddd6e4b_6e564a72",
        "filename": "modules/audio_processing/agc2/rnn_vad/fft_util.h",
        "patchSetId": 9
      },
      "lineNbr": 25,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-04-04T14:18:03Z",
      "side": 1,
      "message": "Combine to one TODO? It adresses the same thing.",
      "range": {
        "startLine": 24,
        "startChar": 3,
        "endLine": 25,
        "endChar": 20
      },
      "revId": "5b2946204bc550124e90c19a3dbf50218492672f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5b4f4a4e_ae6084c2",
        "filename": "modules/audio_processing/agc2/rnn_vad/spectral_features.cc",
        "patchSetId": 9
      },
      "lineNbr": 59,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-04-04T14:18:03Z",
      "side": 1,
      "message": "I don\u0027t understand why this construct is necessary. Why does these arrays need to be of size L \u003e K and why do the last elements L-K elements need to be zeroed?\n\nFrom what I can see, these arrays are only used in functions called from within the SpectralFeaturesExtractor class and the vector lengths are not anything that is enforced by the user of the SpectralFeaturesExtractor class, or did I get that wrong?\n\nThe concern I have is that it seems like the methods where the vectors are passed to, such as \nComputeSmoothedLogMagnitudeSpectrum actually operate on the last L-K (zeroed) elements in the arrays. Is that the case? If it is, why not instead correct the methods so that they operate on the correct sizes?",
      "range": {
        "startLine": 55,
        "startChar": 2,
        "endLine": 59,
        "endChar": 22
      },
      "revId": "5b2946204bc550124e90c19a3dbf50218492672f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "43ea7719_16af7e27",
        "filename": "modules/audio_processing/agc2/rnn_vad/spectral_features.cc",
        "patchSetId": 9
      },
      "lineNbr": 105,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-04-04T14:18:03Z",
      "side": 1,
      "message": "Could you add a line describing why this decorrelates the coefficients? It looks more like a some kind of banded cepstrum I think.",
      "range": {
        "startLine": 105,
        "startChar": 4,
        "endLine": 105,
        "endChar": 59
      },
      "revId": "5b2946204bc550124e90c19a3dbf50218492672f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4b94f48a_164c11fc",
        "filename": "modules/audio_processing/agc2/rnn_vad/spectral_features.cc",
        "patchSetId": 9
      },
      "lineNbr": 112,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-04-04T14:18:03Z",
      "side": 1,
      "message": "remove \"ring\"",
      "range": {
        "startLine": 112,
        "startChar": 16,
        "endLine": 112,
        "endChar": 20
      },
      "revId": "5b2946204bc550124e90c19a3dbf50218492672f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "09d1d96d_f4e01173",
        "filename": "modules/audio_processing/agc2/rnn_vad/spectral_features.cc",
        "patchSetId": 9
      },
      "lineNbr": 112,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-04-05T08:25:30Z",
      "side": 1,
      "message": "As pointed out offline, I\u0027m clearly wrong about my statement that this is not a ringbuffer. Therefore this comment is not relevant.",
      "parentUuid": "4b94f48a_164c11fc",
      "range": {
        "startLine": 112,
        "startChar": 16,
        "endLine": 112,
        "endChar": 20
      },
      "revId": "5b2946204bc550124e90c19a3dbf50218492672f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e844260b_bed24591",
        "filename": "modules/audio_processing/agc2/rnn_vad/spectral_features.cc",
        "patchSetId": 9
      },
      "lineNbr": 157,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-04-04T14:18:03Z",
      "side": 1,
      "message": "This is an example where I think all the vector sizes don\u0027t match",
      "range": {
        "startLine": 157,
        "startChar": 25,
        "endLine": 157,
        "endChar": 40
      },
      "revId": "5b2946204bc550124e90c19a3dbf50218492672f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "75ba68ea_0b2c5c06",
        "filename": "modules/audio_processing/agc2/rnn_vad/spectral_features.h",
        "patchSetId": 9
      },
      "lineNbr": 62,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-04-04T14:18:03Z",
      "side": 1,
      "message": "This internally has a hardcoded size (set to a constant). Please change to use an array.",
      "range": {
        "startLine": 62,
        "startChar": 35,
        "endLine": 62,
        "endChar": 55
      },
      "revId": "5b2946204bc550124e90c19a3dbf50218492672f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "08077b7c_09d68031",
        "filename": "modules/audio_processing/agc2/rnn_vad/spectral_features.h",
        "patchSetId": 9
      },
      "lineNbr": 63,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-04-04T14:18:03Z",
      "side": 1,
      "message": "Same as above.",
      "range": {
        "startLine": 63,
        "startChar": 35,
        "endLine": 63,
        "endChar": 52
      },
      "revId": "5b2946204bc550124e90c19a3dbf50218492672f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bae60590_96689af7",
        "filename": "modules/audio_processing/agc2/rnn_vad/spectral_features.h",
        "patchSetId": 9
      },
      "lineNbr": 70,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-04-04T14:18:03Z",
      "side": 1,
      "message": "I know that is a pending change, but since this is not a ring-buffer, please change the variable name to be more agnostic to the buffer type:\nspectral_coeffs_ring_buf_ - \u003e spectral_coeffs_buf_",
      "range": {
        "startLine": 70,
        "startChar": 6,
        "endLine": 70,
        "endChar": 31
      },
      "revId": "5b2946204bc550124e90c19a3dbf50218492672f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b7ed1bd1_5b05f2fa",
        "filename": "modules/audio_processing/agc2/rnn_vad/spectral_features.h",
        "patchSetId": 9
      },
      "lineNbr": 70,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-04-05T08:25:30Z",
      "side": 1,
      "message": "As pointed out offline, I\u0027m clearly wrong about my statement that this is not a ringbuffer. Therefore this comment is not relevant.",
      "parentUuid": "bae60590_96689af7",
      "range": {
        "startLine": 70,
        "startChar": 6,
        "endLine": 70,
        "endChar": 31
      },
      "revId": "5b2946204bc550124e90c19a3dbf50218492672f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7f44f92a_c4f30f26",
        "filename": "modules/audio_processing/agc2/rnn_vad/spectral_features_internal.cc",
        "patchSetId": 9
      },
      "lineNbr": 89,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-04-04T14:18:03Z",
      "side": 1,
      "message": "This is only used on line 164. Can\u0027t it be included as part of the table?",
      "range": {
        "startLine": 89,
        "startChar": 16,
        "endLine": 89,
        "endChar": 33
      },
      "revId": "5b2946204bc550124e90c19a3dbf50218492672f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "51c82912_f1fc5369",
        "filename": "modules/audio_processing/agc2/rnn_vad/spectral_features_internal.cc",
        "patchSetId": 9
      },
      "lineNbr": 165,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-04-04T14:18:03Z",
      "side": 1,
      "message": "Nit\nstd::fill(out.begin(), out.end(), 0.f);\n  for (size_t i \u003d 0; i \u003c out.size(); ++i) {\n    for (size_t j \u003d 0; j \u003c in.size(); ++j) {\n      out[i] +\u003d in[j] * dct_table[j * in.size() + i];\n    }\n    out[i] *\u003d kDctScalingFactor;\n  }\n\n\n-\u003e\n\n  for (size_t i \u003d 0; i \u003c out.size(); ++i) {\n    out[i] \u003d 0.f;\n    for (size_t j \u003d 0; j \u003c in.size(); ++j) {\n      out[i] +\u003d in[j] * dct_table[j * in.size() + i];\n    }\n    out[i] *\u003d kDctScalingFactor;\n  }",
      "range": {
        "startLine": 159,
        "startChar": 2,
        "endLine": 165,
        "endChar": 3
      },
      "revId": "5b2946204bc550124e90c19a3dbf50218492672f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5b47e32d_60ae840b",
        "filename": "modules/audio_processing/agc2/rnn_vad/spectral_features_internal.h",
        "patchSetId": 9
      },
      "lineNbr": 67,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-04-04T14:18:03Z",
      "side": 1,
      "message": "Please spell out the abbreviations. The current formulation looks more like a typo.",
      "range": {
        "startLine": 67,
        "startChar": 40,
        "endLine": 67,
        "endChar": 47
      },
      "revId": "5b2946204bc550124e90c19a3dbf50218492672f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "738b258d_73f0ebd0",
        "filename": "modules/audio_processing/agc2/rnn_vad/spectral_features_internal.h",
        "patchSetId": 9
      },
      "lineNbr": 75,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-04-04T14:18:03Z",
      "side": 1,
      "message": "as above",
      "range": {
        "startLine": 75,
        "startChar": 40,
        "endLine": 75,
        "endChar": 47
      },
      "revId": "5b2946204bc550124e90c19a3dbf50218492672f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6b5fb37_e8b21106",
        "filename": "modules/audio_processing/agc2/rnn_vad/spectral_features_internal.h",
        "patchSetId": 9
      },
      "lineNbr": 80,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-04-04T14:18:03Z",
      "side": 1,
      "message": "As above",
      "range": {
        "startLine": 80,
        "startChar": 40,
        "endLine": 80,
        "endChar": 47
      },
      "revId": "5b2946204bc550124e90c19a3dbf50218492672f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    }
  ]
}