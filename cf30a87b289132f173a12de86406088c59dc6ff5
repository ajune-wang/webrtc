{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "7952ce59_26377a6b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 7015
      },
      "writtenOn": "2022-05-10T08:28:09Z",
      "side": 1,
      "message": "Thanks for the CL! Here is my first bunch of comments, on which let me try to focus on the basic concepts used in the packet arrival history.\n\nThe definition of \"packet delay\" makes it a bit hard to follow, because \"packet delay\" is referenced against a reference packet, while a reference packet is defined as the one that makes all other packets a positive \"packet delay\". These definitions are valid but not completely easy to understand.\n\nI think we are actually sorting \"packet.arrival_time_ms - packet.rtp_timestamp_ms\", so it should be ok to define everything based on this quantity. We can call it \"arrival delay (no reference time)\". Then the comparator in PacketArrival just to compare \"arrival delay\".\n\n",
      "revId": "cf30a87b289132f173a12de86406088c59dc6ff5",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dacc894c_17e48413",
        "filename": "modules/audio_coding/neteq/decision_logic.h",
        "patchSetId": 10
      },
      "lineNbr": 182,
      "author": {
        "id": 7015
      },
      "writtenOn": "2022-05-10T08:28:09Z",
      "side": 1,
      "message": "is this really necessary? better keep Hz, more generic (support 44100 e.g., even though not a case in current implementation)",
      "range": {
        "startLine": 182,
        "startChar": 6,
        "endLine": 182,
        "endChar": 22
      },
      "revId": "cf30a87b289132f173a12de86406088c59dc6ff5",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2c3dd4bf_f4a79dd2",
        "filename": "modules/audio_coding/neteq/packet_arrival_history.cc",
        "patchSetId": 10
      },
      "lineNbr": 30,
      "author": {
        "id": 7015
      },
      "writtenOn": "2022-05-10T08:28:09Z",
      "side": 1,
      "message": "is history_ sorted by rtp_timestamp_ms? looks to me that it is sorted by arrival time. will this while-loop remove all old packets?",
      "range": {
        "startLine": 30,
        "startChar": 0,
        "endLine": 30,
        "endChar": 62
      },
      "revId": "cf30a87b289132f173a12de86406088c59dc6ff5",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ae9f5559_2d1140e4",
        "filename": "modules/audio_coding/neteq/packet_arrival_history.cc",
        "patchSetId": 10
      },
      "lineNbr": 50,
      "author": {
        "id": 7015
      },
      "writtenOn": "2022-05-10T08:28:09Z",
      "side": 1,
      "message": "to not to be confused with \"arrival time\", should this be called reference_packet. Or \"smallest_arrival_delay\", if you take my suggestion on using the terminology of \"arrival delay\"",
      "range": {
        "startLine": 50,
        "startChar": 4,
        "endLine": 50,
        "endChar": 21
      },
      "revId": "cf30a87b289132f173a12de86406088c59dc6ff5",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "45848982_a11bbe83",
        "filename": "modules/audio_coding/neteq/packet_arrival_history.h",
        "patchSetId": 10
      },
      "lineNbr": 24,
      "author": {
        "id": 7015
      },
      "writtenOn": "2022-05-10T08:28:09Z",
      "side": 1,
      "message": "fixed window size beyond which",
      "range": {
        "startLine": 24,
        "startChar": 21,
        "endLine": 24,
        "endChar": 44
      },
      "revId": "cf30a87b289132f173a12de86406088c59dc6ff5",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6e7be790_a65f3805",
        "filename": "modules/audio_coding/neteq/packet_arrival_history.h",
        "patchSetId": 10
      },
      "lineNbr": 25,
      "author": {
        "id": 7015
      },
      "writtenOn": "2022-05-10T08:28:09Z",
      "side": 1,
      "message": "calculated",
      "range": {
        "startLine": 25,
        "startChar": 19,
        "endLine": 25,
        "endChar": 29
      },
      "revId": "cf30a87b289132f173a12de86406088c59dc6ff5",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7aef7e71_c1be77ee",
        "filename": "modules/audio_coding/neteq/packet_arrival_history.h",
        "patchSetId": 10
      },
      "lineNbr": 26,
      "author": {
        "id": 7015
      },
      "writtenOn": "2022-05-10T08:28:09Z",
      "side": 1,
      "message": "sounds a bit circular definition. \"packet delay\" is referenced to a packet with the lowest \"packet delay\". we may need to make it clearer.",
      "range": {
        "startLine": 26,
        "startChar": 8,
        "endLine": 26,
        "endChar": 24
      },
      "revId": "cf30a87b289132f173a12de86406088c59dc6ff5",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "744c6ca2_87c1abd6",
        "filename": "modules/audio_coding/neteq/packet_arrival_history.h",
        "patchSetId": 10
      },
      "lineNbr": 33,
      "author": {
        "id": 7015
      },
      "writtenOn": "2022-05-10T08:28:09Z",
      "side": 1,
      "message": "I think we either add arrival time as input or don\u0027t mention the second sentence to make this clearer. I prefer adding arrival time as input.",
      "range": {
        "startLine": 32,
        "startChar": 56,
        "endLine": 33,
        "endChar": 34
      },
      "revId": "cf30a87b289132f173a12de86406088c59dc6ff5",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e7f18659_4e5c7cb4",
        "filename": "modules/audio_coding/neteq/packet_arrival_history.h",
        "patchSetId": 10
      },
      "lineNbr": 36,
      "author": {
        "id": 7015
      },
      "writtenOn": "2022-05-10T08:28:09Z",
      "side": 1,
      "message": "delay -\u003e packet delay, to be consistent.",
      "range": {
        "startLine": 36,
        "startChar": 9,
        "endLine": 36,
        "endChar": 14
      },
      "revId": "cf30a87b289132f173a12de86406088c59dc6ff5",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "332e02e1_b9a1f492",
        "filename": "modules/audio_coding/neteq/packet_arrival_history.h",
        "patchSetId": 10
      },
      "lineNbr": 63,
      "author": {
        "id": 7015
      },
      "writtenOn": "2022-05-10T08:28:09Z",
      "side": 1,
      "message": "Seems that we are essentially sorting by \n\npacket.arrival_time_ms - packet.rtp_timestamp_ms",
      "range": {
        "startLine": 61,
        "startChar": 0,
        "endLine": 63,
        "endChar": 57
      },
      "revId": "cf30a87b289132f173a12de86406088c59dc6ff5",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}