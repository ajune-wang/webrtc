{
  "comments": [
    {
      "key": {
        "uuid": "c039307a_6964657d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 22
      },
      "lineNbr": 11,
      "author": {
        "id": 6549
      },
      "writtenOn": "2018-12-27T13:03:29Z",
      "side": 1,
      "message": "audio_send_stream",
      "range": {
        "startLine": 11,
        "startChar": 57,
        "endLine": 11,
        "endChar": 75
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "057e1e8e_7e46903e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 22
      },
      "lineNbr": 11,
      "author": {
        "id": 7565
      },
      "writtenOn": "2019-01-15T19:52:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c039307a_6964657d",
      "range": {
        "startLine": 11,
        "startChar": 57,
        "endLine": 11,
        "endChar": 75
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bc2a2d31_f461bf25",
        "filename": "/COMMIT_MSG",
        "patchSetId": 22
      },
      "lineNbr": 14,
      "author": {
        "id": 6549
      },
      "writtenOn": "2018-12-27T13:03:29Z",
      "side": 1,
      "message": "audio_send_stream",
      "range": {
        "startLine": 14,
        "startChar": 74,
        "endLine": 14,
        "endChar": 92
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "846e5a1c_aa197da5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 22
      },
      "lineNbr": 14,
      "author": {
        "id": 7565
      },
      "writtenOn": "2019-01-15T19:52:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bc2a2d31_f461bf25",
      "range": {
        "startLine": 14,
        "startChar": 74,
        "endLine": 14,
        "endChar": 92
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "02d566e7_633944f5",
        "filename": "audio/audio_send_stream.cc",
        "patchSetId": 22
      },
      "lineNbr": 136,
      "author": {
        "id": 5845
      },
      "writtenOn": "2019-01-02T13:59:23Z",
      "side": 1,
      "message": "As this key applies to audio only, propose an audio key, e.g. \"WebRTC-Audio-ActualPacketOverheads\"",
      "range": {
        "startLine": 136,
        "startChar": 14,
        "endLine": 136,
        "endChar": 59
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7736b522_41755849",
        "filename": "audio/audio_send_stream.cc",
        "patchSetId": 22
      },
      "lineNbr": 136,
      "author": {
        "id": 7015
      },
      "writtenOn": "2019-01-02T15:37:39Z",
      "side": 1,
      "message": "Apparently, \"WebRTC-SendSideBwe-WithOverhead\" is used in other places.\n\nDo we plan to use \"WebRTC-SendSideBwe-WithOverheadOptionMinMax\" as a replacement of \"WebRTC-SendSideBwe-WithOverhead\" or an addition.\n\nIf the former, other places have to be treated, if the later, it may be better to use \u0026-logic on enabling it. Even better, I would like to create something like\n\nsend_side_bwe_with_overhead_legacy_(\n          send_side_bwe_with_overhead_ \u0026\u0026 !webrtc::field_trial::IsEnabled(\"WebRTC-SendSideBwe-WithOverheadOptionMinMax\")),",
      "range": {
        "startLine": 136,
        "startChar": 34,
        "endLine": 136,
        "endChar": 58
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "850b0504_9333aef6",
        "filename": "audio/audio_send_stream.cc",
        "patchSetId": 22
      },
      "lineNbr": 136,
      "author": {
        "id": 5845
      },
      "writtenOn": "2019-01-07T09:13:24Z",
      "side": 1,
      "message": "It is not a replacement: WebRTC-SendSideBwe-WithOverhead is a bandwidth control global key used in many places. WebRTC-SendSideBwe-WithOverheadOptionMinMax is local to audio (and should be named as such). \nReg. key logics I am fine with the way things are as the \"legacy\" parts are expected to be only temporary and completely deleted as soon as AB test proves it is ok.",
      "parentUuid": "7736b522_41755849",
      "range": {
        "startLine": 136,
        "startChar": 34,
        "endLine": 136,
        "endChar": 58
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0744d8d1_b9b12dec",
        "filename": "audio/audio_send_stream.cc",
        "patchSetId": 22
      },
      "lineNbr": 136,
      "author": {
        "id": 7565
      },
      "writtenOn": "2019-01-15T19:52:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "02d566e7_633944f5",
      "range": {
        "startLine": 136,
        "startChar": 14,
        "endLine": 136,
        "endChar": 59
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b4807616_af4f4a78",
        "filename": "audio/audio_send_stream.cc",
        "patchSetId": 22
      },
      "lineNbr": 136,
      "author": {
        "id": 7565
      },
      "writtenOn": "2019-01-15T19:52:03Z",
      "side": 1,
      "message": "Correct, WebRTC-SendSideBwe-WithOverheadOptionMinMax is local to audio and it makes sense only when WebRTC-SendSideBwe-WithOverhead is enabled.\n\nAdded send_side_bwe_with_overhead_min_max \u003d send_side_bwe_with_overhead_ \u0026\u0026 webrtc::field_trial::IsEnabled(\"WebRTC-SendSideBwe-WithOverheadOptionMinMax\") to make it more clear that MinMax is an option.\n\nEventually I see MinMax option becoming default and field trial going away.",
      "parentUuid": "850b0504_9333aef6",
      "range": {
        "startLine": 136,
        "startChar": 34,
        "endLine": 136,
        "endChar": 58
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5b37813d_94663734",
        "filename": "audio/audio_send_stream.cc",
        "patchSetId": 22
      },
      "lineNbr": 444,
      "author": {
        "id": 7015
      },
      "writtenOn": "2019-01-02T15:37:39Z",
      "side": 1,
      "message": "it is not clear to me what the next step is.",
      "range": {
        "startLine": 438,
        "startChar": 0,
        "endLine": 444,
        "endChar": 73
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "54a4c362_2e7e9eaa",
        "filename": "audio/audio_send_stream.cc",
        "patchSetId": 22
      },
      "lineNbr": 444,
      "author": {
        "id": 7565
      },
      "writtenOn": "2019-01-15T19:52:03Z",
      "side": 1,
      "message": "I will add SetMaxBitrate / SetMinBitrate APIs to encoder in a separate changelist.",
      "parentUuid": "5b37813d_94663734",
      "range": {
        "startLine": 438,
        "startChar": 0,
        "endLine": 444,
        "endChar": 73
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7158acaf_1f5b24c3",
        "filename": "audio/audio_send_stream.cc",
        "patchSetId": 22
      },
      "lineNbr": 448,
      "author": {
        "id": 7015
      },
      "writtenOn": "2019-01-02T15:37:39Z",
      "side": 1,
      "message": "I think the comment belongs to line 458 and should be moved there.",
      "range": {
        "startLine": 447,
        "startChar": 0,
        "endLine": 448,
        "endChar": 80
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "64f002d5_e2ac0c96",
        "filename": "audio/audio_send_stream.cc",
        "patchSetId": 22
      },
      "lineNbr": 448,
      "author": {
        "id": 7565
      },
      "writtenOn": "2019-01-15T19:52:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7158acaf_1f5b24c3",
      "range": {
        "startLine": 447,
        "startChar": 0,
        "endLine": 448,
        "endChar": 80
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "295d19df_6ff1f613",
        "filename": "audio/audio_send_stream.cc",
        "patchSetId": 22
      },
      "lineNbr": 508,
      "author": {
        "id": 6549
      },
      "writtenOn": "2018-12-27T13:03:29Z",
      "side": 1,
      "message": "Remove this-\u003e",
      "range": {
        "startLine": 508,
        "startChar": 35,
        "endLine": 508,
        "endChar": 41
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d45df265_fb9109e9",
        "filename": "audio/audio_send_stream.cc",
        "patchSetId": 22
      },
      "lineNbr": 508,
      "author": {
        "id": 7565
      },
      "writtenOn": "2019-01-15T19:52:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "295d19df_6ff1f613",
      "range": {
        "startLine": 508,
        "startChar": 35,
        "endLine": 508,
        "endChar": 41
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3db5b274_9bf02343",
        "filename": "audio/audio_send_stream.cc",
        "patchSetId": 22
      },
      "lineNbr": 808,
      "author": {
        "id": 6549
      },
      "writtenOn": "2018-12-27T13:03:29Z",
      "side": 1,
      "message": "excessive",
      "range": {
        "startLine": 808,
        "startChar": 32,
        "endLine": 808,
        "endChar": 41
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0f519088_d7dee53d",
        "filename": "audio/audio_send_stream.cc",
        "patchSetId": 22
      },
      "lineNbr": 808,
      "author": {
        "id": 7565
      },
      "writtenOn": "2019-01-15T19:52:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3db5b274_9bf02343",
      "range": {
        "startLine": 808,
        "startChar": 32,
        "endLine": 808,
        "endChar": 41
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e6fef224_af1680cf",
        "filename": "audio/audio_send_stream.cc",
        "patchSetId": 22
      },
      "lineNbr": 812,
      "author": {
        "id": 6549
      },
      "writtenOn": "2018-12-27T13:03:29Z",
      "side": 1,
      "message": "-which",
      "range": {
        "startLine": 812,
        "startChar": 60,
        "endLine": 812,
        "endChar": 65
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "09d5e9aa_f5fb46e4",
        "filename": "audio/audio_send_stream.cc",
        "patchSetId": 22
      },
      "lineNbr": 812,
      "author": {
        "id": 6549
      },
      "writtenOn": "2018-12-27T13:03:29Z",
      "side": 1,
      "message": "option",
      "range": {
        "startLine": 812,
        "startChar": 12,
        "endLine": 812,
        "endChar": 19
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c78bc49_aece5056",
        "filename": "audio/audio_send_stream.cc",
        "patchSetId": 22
      },
      "lineNbr": 812,
      "author": {
        "id": 7565
      },
      "writtenOn": "2019-01-15T19:52:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e6fef224_af1680cf",
      "range": {
        "startLine": 812,
        "startChar": 60,
        "endLine": 812,
        "endChar": 65
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4151cf0b_c7118d0a",
        "filename": "audio/audio_send_stream.cc",
        "patchSetId": 22
      },
      "lineNbr": 812,
      "author": {
        "id": 7565
      },
      "writtenOn": "2019-01-15T19:52:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "09d5e9aa_f5fb46e4",
      "range": {
        "startLine": 812,
        "startChar": 12,
        "endLine": 812,
        "endChar": 19
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "db946852_3b042e56",
        "filename": "audio/audio_send_stream.cc",
        "patchSetId": 22
      },
      "lineNbr": 813,
      "author": {
        "id": 6549
      },
      "writtenOn": "2018-12-27T13:03:29Z",
      "side": 1,
      "message": "I\u0027m not sure I understand this sentence.",
      "range": {
        "startLine": 813,
        "startChar": 6,
        "endLine": 813,
        "endChar": 56
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "923ddf21_ed2e1ccd",
        "filename": "audio/audio_send_stream.cc",
        "patchSetId": 22
      },
      "lineNbr": 813,
      "author": {
        "id": 7565
      },
      "writtenOn": "2019-01-15T19:52:03Z",
      "side": 1,
      "message": "Slightly changed wording.",
      "parentUuid": "db946852_3b042e56",
      "range": {
        "startLine": 813,
        "startChar": 6,
        "endLine": 813,
        "endChar": 56
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "89f0dde3_a8b35d20",
        "filename": "audio/audio_send_stream.cc",
        "patchSetId": 22
      },
      "lineNbr": 814,
      "author": {
        "id": 6549
      },
      "writtenOn": "2018-12-27T13:03:29Z",
      "side": 1,
      "message": "AFAICT this doesn\u0027t contain RTP overhead. We should get that overhead from the transport in a similar way as is done in channel_send.cc here:\nhttps://cs.chromium.org/chromium/src/third_party/webrtc/audio/channel_send.cc?type\u003dcs\u0026g\u003d0\u0026l\u003d1184",
      "range": {
        "startLine": 814,
        "startChar": 33,
        "endLine": 814,
        "endChar": 69
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2559af6c_55f3dbd8",
        "filename": "audio/audio_send_stream.cc",
        "patchSetId": 22
      },
      "lineNbr": 814,
      "author": {
        "id": 7565
      },
      "writtenOn": "2019-01-17T00:12:49Z",
      "side": 1,
      "message": "You are absolutely right (more details in another comment). We also have a problem in media transport interface. which reports combined overhead. I am not sure if we ever need RTP and transport overheads separately if we have combined audio and combined video overheads, but it\u0027s orthogonal discussion.",
      "parentUuid": "89f0dde3_a8b35d20",
      "range": {
        "startLine": 814,
        "startChar": 33,
        "endLine": 814,
        "endChar": 69
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "14e7421e_bd7ff7fe",
        "filename": "audio/audio_send_stream.cc",
        "patchSetId": 22
      },
      "lineNbr": 825,
      "author": {
        "id": 6549
      },
      "writtenOn": "2018-12-27T13:03:29Z",
      "side": 1,
      "message": "underestimates",
      "range": {
        "startLine": 825,
        "startChar": 35,
        "endLine": 825,
        "endChar": 48
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fb4494e0_fae632fc",
        "filename": "audio/audio_send_stream.cc",
        "patchSetId": 22
      },
      "lineNbr": 825,
      "author": {
        "id": 7015
      },
      "writtenOn": "2019-01-02T15:37:39Z",
      "side": 1,
      "message": "why do we need this? for comparability?",
      "range": {
        "startLine": 822,
        "startChar": 3,
        "endLine": 825,
        "endChar": 75
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "83541f7b_4fa72b01",
        "filename": "audio/audio_send_stream.cc",
        "patchSetId": 22
      },
      "lineNbr": 825,
      "author": {
        "id": 7565
      },
      "writtenOn": "2019-01-15T19:52:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "14e7421e_bd7ff7fe",
      "range": {
        "startLine": 825,
        "startChar": 35,
        "endLine": 825,
        "endChar": 48
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "32dc5782_66ba93ac",
        "filename": "audio/audio_send_stream.cc",
        "patchSetId": 22
      },
      "lineNbr": 825,
      "author": {
        "id": 7565
      },
      "writtenOn": "2019-01-15T19:52:03Z",
      "side": 1,
      "message": "Yes this is equivalent to current code without MinMax option. Once we are comfortable with new MinMax option, we can remove old code and remove field trail (making MinMax option as default).",
      "parentUuid": "fb4494e0_fae632fc",
      "range": {
        "startLine": 822,
        "startChar": 3,
        "endLine": 825,
        "endChar": 75
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fdd5f5a4_cbb7eaa1",
        "filename": "audio/audio_send_stream.h",
        "patchSetId": 22
      },
      "lineNbr": 99,
      "author": {
        "id": 6549
      },
      "writtenOn": "2018-12-27T13:03:29Z",
      "side": 1,
      "message": "I think this should be larger when we\u0027re using the transport-wide-seqnum header extension. IIRC it adds another 4 bytes",
      "range": {
        "startLine": 99,
        "startChar": 0,
        "endLine": 99,
        "endChar": 46
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04961c2c_36725637",
        "filename": "audio/audio_send_stream.h",
        "patchSetId": 22
      },
      "lineNbr": 99,
      "author": {
        "id": 7565
      },
      "writtenOn": "2019-01-15T19:52:03Z",
      "side": 1,
      "message": "This is exactly what current implementation uses and it\u0027s used in legacy codepath without new field trial.",
      "parentUuid": "fdd5f5a4_cbb7eaa1",
      "range": {
        "startLine": 99,
        "startChar": 0,
        "endLine": 99,
        "endChar": 46
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a20eb04d_7931a4e6",
        "filename": "audio/audio_send_stream.h",
        "patchSetId": 22
      },
      "lineNbr": 165,
      "author": {
        "id": 6549
      },
      "writtenOn": "2018-12-27T13:03:29Z",
      "side": 1,
      "message": "We add RTP overhead here, but AudioSendStream::SetTransportOverhead doesn\u0027t seem to include RTP overhead. What is correct?\n\nIt however seems to be accounted for in https://cs.chromium.org/chromium/src/third_party/webrtc/audio/channel_send.cc?type\u003dcs\u0026g\u003d0\u0026l\u003d1166 which is also called from AudioSendStream::SetTransportOverhead...",
      "range": {
        "startLine": 165,
        "startChar": 0,
        "endLine": 165,
        "endChar": 24
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b19dfb75_48fae8bd",
        "filename": "audio/audio_send_stream.h",
        "patchSetId": 22
      },
      "lineNbr": 165,
      "author": {
        "id": 7704
      },
      "writtenOn": "2018-12-27T14:26:01Z",
      "side": 1,
      "message": "I treat the current solution as a stop-gap: for example it also skips TURN overhead, when present.\n\nThere are 2 methods: SetTransportOverhead, which is purely transport (IPvX + UDP + Turn) and the \u0027on overhead callback\u0027 (http://google3/third_party/webrtc/files/stable/webrtc/audio/channel_send.cc?l\u003d192\u0026rcl\u003d226534926) which is only about RTP overhead (and is used in the line you pointed to).\n\nIdeally, we should use these two in here, and not rely on hardcoded overheads, but my understanding is that it would be a much larger change.",
      "parentUuid": "a20eb04d_7931a4e6",
      "range": {
        "startLine": 165,
        "startChar": 0,
        "endLine": 165,
        "endChar": 24
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e3265f4d_66eda0e5",
        "filename": "audio/audio_send_stream.h",
        "patchSetId": 22
      },
      "lineNbr": 165,
      "author": {
        "id": 5525
      },
      "writtenOn": "2018-12-27T15:51:02Z",
      "side": 1,
      "message": "I see, and I think that\u0027s fine for now if we document it. It seems a bit odd though to have the default value include RTP, but the value set via SetTransportOverhead does not?",
      "parentUuid": "b19dfb75_48fae8bd",
      "range": {
        "startLine": 165,
        "startChar": 0,
        "endLine": 165,
        "endChar": 24
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "627e3772_b82034c3",
        "filename": "audio/audio_send_stream.h",
        "patchSetId": 22
      },
      "lineNbr": 165,
      "author": {
        "id": 7704
      },
      "writtenOn": "2018-12-27T16:16:06Z",
      "side": 1,
      "message": "Yeah, I agree.\nMaybe we should also add TURN overhead too (if we are aiming for worst-case overhead).",
      "parentUuid": "e3265f4d_66eda0e5",
      "range": {
        "startLine": 165,
        "startChar": 0,
        "endLine": 165,
        "endChar": 24
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "49c8ac34_00a2ee62",
        "filename": "audio/audio_send_stream.h",
        "patchSetId": 22
      },
      "lineNbr": 165,
      "author": {
        "id": 7565
      },
      "writtenOn": "2019-01-17T00:11:03Z",
      "side": 1,
      "message": "I missed part of the overhead, because audio_send_stream is listening to SetTransportOverhead, which does not include RTP overhead. RTP overhead is accounted for in channel_send as correctly pointed out by Stefan. \n\nI am looking how to refactor code so that we have one place which adds both overheads and used in both channel_send and audio_send_stream. Separation of audio code into audio_send_stream and channel_send makes it harder to do...",
      "parentUuid": "627e3772_b82034c3",
      "range": {
        "startLine": 165,
        "startChar": 0,
        "endLine": 165,
        "endChar": 24
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c529dab5_783a019d",
        "filename": "audio/audio_send_stream.h",
        "patchSetId": 22
      },
      "lineNbr": 165,
      "author": {
        "id": 7565
      },
      "writtenOn": "2019-01-17T17:58:06Z",
      "side": 1,
      "message": "I think the right solution is to make AudioSendStream an overhead observer as already suggested in\n\nhttps://cs.chromium.org/chromium/src/third_party/webrtc/audio/channel_send.cc?rcl\u003d83ed89a45f4578ca07efef48e772b9aafb263163\u0026l\u003d1181\n\n// TODO(solenberg): Make AudioSendStream an OverheadObserver instead.\n\nThis will make all overheads available in AudioSendStream and also consolidate AudioNetworkAdaptor logic in AudioSendStream (i.e. updating overhead for AudioNetworkAdaptor will be also in AudioSendStream).\n\nSince it requires a bit of refactoring, I will do it as a separate CL. Once it is done, the fix will be easy.",
      "parentUuid": "49c8ac34_00a2ee62",
      "range": {
        "startLine": 165,
        "startChar": 0,
        "endLine": 165,
        "endChar": 24
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4525bf25_f4905e43",
        "filename": "audio/audio_send_stream.h",
        "patchSetId": 22
      },
      "lineNbr": 165,
      "author": {
        "id": 7565
      },
      "writtenOn": "2019-01-22T23:51:15Z",
      "side": 1,
      "message": "Quick update: Observer refactoring is ready for review\nhttps://webrtc-review.googlesource.com/c/src/+/119121\n\nOnce it is submitted we will have full overhead available in AudioSendStream.",
      "parentUuid": "c529dab5_783a019d",
      "range": {
        "startLine": 165,
        "startChar": 0,
        "endLine": 165,
        "endChar": 24
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "87f6ca8a_48d8cda2",
        "filename": "audio/audio_send_stream_unittest.cc",
        "patchSetId": 22
      },
      "lineNbr": 76,
      "author": {
        "id": 7015
      },
      "writtenOn": "2019-01-02T15:37:39Z",
      "side": 1,
      "message": "120 although this is just a test",
      "range": {
        "startLine": 76,
        "startChar": 33,
        "endLine": 76,
        "endChar": 35
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "743a6a47_cccaacfe",
        "filename": "audio/audio_send_stream_unittest.cc",
        "patchSetId": 22
      },
      "lineNbr": 76,
      "author": {
        "id": 7565
      },
      "writtenOn": "2019-01-15T19:52:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "87f6ca8a_48d8cda2",
      "range": {
        "startLine": 76,
        "startChar": 33,
        "endLine": 76,
        "endChar": 35
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "05fe50b3_c7643fb1",
        "filename": "modules/audio_coding/codecs/opus/audio_encoder_opus.cc",
        "patchSetId": 22
      },
      "lineNbr": 503,
      "author": {
        "id": 7015
      },
      "writtenOn": "2019-01-02T15:37:39Z",
      "side": 1,
      "message": "this clearly changed the logic, but it looks a fixing of the old code.",
      "range": {
        "startLine": 503,
        "startChar": 29,
        "endLine": 503,
        "endChar": 51
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1ac89f47_5aca416e",
        "filename": "modules/audio_coding/codecs/opus/audio_encoder_opus.cc",
        "patchSetId": 22
      },
      "lineNbr": 503,
      "author": {
        "id": 7565
      },
      "writtenOn": "2019-01-15T19:52:03Z",
      "side": 1,
      "message": "Yep the old code did not make sense. The new code relies on correct implementation, so I fixed it. If you prefer to move it to a separate CL, I can, let me know.",
      "parentUuid": "05fe50b3_c7643fb1",
      "range": {
        "startLine": 503,
        "startChar": 29,
        "endLine": 503,
        "endChar": 51
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dc120a3d_e4364e56",
        "filename": "modules/audio_coding/codecs/opus/audio_encoder_opus.cc",
        "patchSetId": 22
      },
      "lineNbr": 504,
      "author": {
        "id": 7015
      },
      "writtenOn": "2019-01-02T15:37:39Z",
      "side": 1,
      "message": "for better efficiency, use index here. Then supported_frame_lengths_ms should better be ordered when created.",
      "range": {
        "startLine": 504,
        "startChar": 15,
        "endLine": 504,
        "endChar": 26
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9ba1d615_ab093f7d",
        "filename": "modules/audio_coding/codecs/opus/audio_encoder_opus.cc",
        "patchSetId": 22
      },
      "lineNbr": 504,
      "author": {
        "id": 7565
      },
      "writtenOn": "2019-01-15T19:52:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dc120a3d_e4364e56",
      "range": {
        "startLine": 504,
        "startChar": 15,
        "endLine": 504,
        "endChar": 26
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "994d029a_4027001f",
        "filename": "modules/audio_coding/codecs/opus/audio_encoder_opus.cc",
        "patchSetId": 22
      },
      "lineNbr": 839,
      "author": {
        "id": 5845
      },
      "writtenOn": "2019-01-02T13:59:23Z",
      "side": 1,
      "message": "target_encode_rate_bps",
      "range": {
        "startLine": 839,
        "startChar": 48,
        "endLine": 839,
        "endChar": 70
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3834bc11_b7fb4d99",
        "filename": "modules/audio_coding/codecs/opus/audio_encoder_opus.cc",
        "patchSetId": 22
      },
      "lineNbr": 839,
      "author": {
        "id": 7015
      },
      "writtenOn": "2019-01-02T15:37:39Z",
      "side": 1,
      "message": "This is an encoder function, so \"encoder\" in the name may not give more value, and the unit should better be kept. So I would suggest\"target_bitrate_bps\" or \"target_bps\" as in the base class:\n\nhttps://cs.chromium.org/chromium/src/third_party/webrtc/api/audio_codecs/audio_encoder.h?sq\u003dpackage:chromium\u0026g\u003d0\u0026l\u003d188\n\nBTW, this function is supposed to be deprecated.",
      "range": {
        "startLine": 839,
        "startChar": 48,
        "endLine": 839,
        "endChar": 70
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42264301_76920d6a",
        "filename": "modules/audio_coding/codecs/opus/audio_encoder_opus.cc",
        "patchSetId": 22
      },
      "lineNbr": 839,
      "author": {
        "id": 7565
      },
      "writtenOn": "2019-01-15T19:52:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3834bc11_b7fb4d99",
      "range": {
        "startLine": 839,
        "startChar": 48,
        "endLine": 839,
        "endChar": 70
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2fc60dd4_75449b6a",
        "filename": "modules/audio_coding/codecs/opus/audio_encoder_opus.cc",
        "patchSetId": 22
      },
      "lineNbr": 839,
      "author": {
        "id": 7565
      },
      "writtenOn": "2019-01-15T19:52:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "994d029a_4027001f",
      "range": {
        "startLine": 839,
        "startChar": 48,
        "endLine": 839,
        "endChar": 70
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "73aac35e_c57fd60e",
        "filename": "modules/audio_coding/codecs/opus/audio_encoder_opus.h",
        "patchSetId": 22
      },
      "lineNbr": 176,
      "author": {
        "id": 5845
      },
      "writtenOn": "2019-01-02T13:59:23Z",
      "side": 1,
      "message": "Convention to append the unit [bps]: target_encode_rate_bps.\n\n(\"bps\" is used widely in WebRTC even if it does not distinguish well between bytes and bits per sec).",
      "range": {
        "startLine": 176,
        "startChar": 28,
        "endLine": 176,
        "endChar": 50
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "05cb12eb_d5af2866",
        "filename": "modules/audio_coding/codecs/opus/audio_encoder_opus.h",
        "patchSetId": 22
      },
      "lineNbr": 176,
      "author": {
        "id": 7565
      },
      "writtenOn": "2019-01-15T19:52:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "73aac35e_c57fd60e",
      "range": {
        "startLine": 176,
        "startChar": 28,
        "endLine": 176,
        "endChar": 50
      },
      "revId": "6ec1ff4b54628f01b2deb4106465cdd89fb0928b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}