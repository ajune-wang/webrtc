{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "5e322c5f_5d7148ba",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 15
      },
      "lineNbr": 0,
      "author": {
        "id": 5091
      },
      "writtenOn": "2023-12-01T10:29:19Z",
      "side": 1,
      "message": "Now added the required unittests, locking down the new behavior, as well.",
      "revId": "a1bbbd7fa235e38259d9332d31e58d98b55efcfa",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fd388dac_95392cc4",
        "filename": "video/frame_cadence_adapter.cc",
        "patchSetId": 15
      },
      "lineNbr": 612,
      "author": {
        "id": 5117
      },
      "writtenOn": "2023-12-01T10:36:33Z",
      "side": 1,
      "message": "To make this all safe regardless of which one is bigger, use max here:\n\n\n    max(frame_delay_, restricted_frame_delay_.value_or(frame_delay_));",
      "range": {
        "startLine": 612,
        "startChar": 26,
        "endLine": 612,
        "endChar": 73
      },
      "revId": "a1bbbd7fa235e38259d9332d31e58d98b55efcfa",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a4529cae_96064ae1",
        "filename": "video/frame_cadence_adapter.cc",
        "patchSetId": 15
      },
      "lineNbr": 612,
      "author": {
        "id": 5091
      },
      "writtenOn": "2023-12-01T10:52:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fd388dac_95392cc4",
      "range": {
        "startLine": 612,
        "startChar": 26,
        "endLine": 612,
        "endChar": 73
      },
      "revId": "a1bbbd7fa235e38259d9332d31e58d98b55efcfa",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ab07419c_edb6818e",
        "filename": "video/frame_cadence_adapter.cc",
        "patchSetId": 15
      },
      "lineNbr": 612,
      "author": {
        "id": 5117
      },
      "writtenOn": "2023-12-01T11:23:54Z",
      "side": 1,
      "message": "This change isn\u0027t included in the latest PS. Please remember to upload it.",
      "parentUuid": "a4529cae_96064ae1",
      "range": {
        "startLine": 612,
        "startChar": 26,
        "endLine": 612,
        "endChar": 73
      },
      "revId": "a1bbbd7fa235e38259d9332d31e58d98b55efcfa",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "de28aa15_2fd495cc",
        "filename": "video/frame_cadence_adapter.cc",
        "patchSetId": 15
      },
      "lineNbr": 612,
      "author": {
        "id": 5091
      },
      "writtenOn": "2023-12-01T11:49:51Z",
      "side": 1,
      "message": "Will fix. Sorry.",
      "parentUuid": "ab07419c_edb6818e",
      "range": {
        "startLine": 612,
        "startChar": 26,
        "endLine": 612,
        "endChar": 73
      },
      "revId": "a1bbbd7fa235e38259d9332d31e58d98b55efcfa",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "04c4336d_3bab8d68",
        "filename": "video/frame_cadence_adapter.cc",
        "patchSetId": 15
      },
      "lineNbr": 796,
      "author": {
        "id": 5117
      },
      "writtenOn": "2023-12-01T10:36:33Z",
      "side": 1,
      "message": "Why only if the new max is higher?\nThere\u0027s no such check in the UpdateVideoSourceRestrictions()",
      "range": {
        "startLine": 795,
        "startChar": 69,
        "endLine": 796,
        "endChar": 24
      },
      "revId": "a1bbbd7fa235e38259d9332d31e58d98b55efcfa",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "10d29fa2_ec41ce3f",
        "filename": "video/frame_cadence_adapter.cc",
        "patchSetId": 15
      },
      "lineNbr": 796,
      "author": {
        "id": 5091
      },
      "writtenOn": "2023-12-01T10:52:31Z",
      "side": 1,
      "message": "Correct. Calls to UpdateVideoSourceRestrictions() only stores the latest restriction. But this part fixes the corner case where a client is restricted to let\u0027s say 10 fps and then changes the constraints for the FCA and instead sets it to 5 fps. In that case, it feels wrong to create a new adapter and claim that it should use a restrcted rate of 10 fps when the new max rate is already lower.",
      "parentUuid": "04c4336d_3bab8d68",
      "range": {
        "startLine": 795,
        "startChar": 69,
        "endLine": 796,
        "endChar": 24
      },
      "revId": "a1bbbd7fa235e38259d9332d31e58d98b55efcfa",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4b4a09f3_0f3df8d4",
        "filename": "video/frame_cadence_adapter.cc",
        "patchSetId": 15
      },
      "lineNbr": 796,
      "author": {
        "id": 5117
      },
      "writtenOn": "2023-12-01T11:23:03Z",
      "side": 1,
      "message": "Since you\u0027ve changed to max(frame_delay, restricted_frame_delay) above, it all checks out now: the zero_hertz_adapter_ is always notified about the latest restriction. It might be more or less than the constraint, but it doesn\u0027t matter.\n\nIt\u0027s a simpler API contract: always inform the adapter about the restriction. If you start spreading logic here and there, it will get tricky in the future.\n\nI would prefer if you\u0027ve reverted this check here. But I won\u0027t block on this. I can see your reasoning, even though I don\u0027t 100% agree with it.",
      "parentUuid": "10d29fa2_ec41ce3f",
      "range": {
        "startLine": 795,
        "startChar": 69,
        "endLine": 796,
        "endChar": 24
      },
      "revId": "a1bbbd7fa235e38259d9332d31e58d98b55efcfa",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3c4499c7_d846cb1c",
        "filename": "video/frame_cadence_adapter.cc",
        "patchSetId": 15
      },
      "lineNbr": 796,
      "author": {
        "id": 5091
      },
      "writtenOn": "2023-12-01T11:49:51Z",
      "side": 1,
      "message": "Got it. Will think again.",
      "parentUuid": "4b4a09f3_0f3df8d4",
      "range": {
        "startLine": 795,
        "startChar": 69,
        "endLine": 796,
        "endChar": 24
      },
      "revId": "a1bbbd7fa235e38259d9332d31e58d98b55efcfa",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2047cfde_ed6a4b52",
        "filename": "video/frame_cadence_adapter_unittest.cc",
        "patchSetId": 15
      },
      "lineNbr": 253,
      "author": {
        "id": 5117
      },
      "writtenOn": "2023-12-01T10:36:33Z",
      "side": 1,
      "message": "Did you forget to delete the debug logging?",
      "range": {
        "startLine": 253,
        "startChar": 4,
        "endLine": 253,
        "endChar": 43
      },
      "revId": "a1bbbd7fa235e38259d9332d31e58d98b55efcfa",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e38730dc_200bbcd6",
        "filename": "video/frame_cadence_adapter_unittest.cc",
        "patchSetId": 15
      },
      "lineNbr": 253,
      "author": {
        "id": 5091
      },
      "writtenOn": "2023-12-01T10:52:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2047cfde_ed6a4b52",
      "range": {
        "startLine": 253,
        "startChar": 4,
        "endLine": 253,
        "endChar": 43
      },
      "revId": "a1bbbd7fa235e38259d9332d31e58d98b55efcfa",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}