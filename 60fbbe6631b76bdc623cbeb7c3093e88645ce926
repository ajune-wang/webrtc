{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "5b5d541d_d38f7b59",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5527
      },
      "writtenOn": "2021-07-19T13:53:04Z",
      "side": 1,
      "message": "Danil, PTAL\nMirko, RSLGTM please :)",
      "revId": "60fbbe6631b76bdc623cbeb7c3093e88645ce926",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "65083dd9_34941a6a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5087
      },
      "writtenOn": "2021-07-19T13:57:13Z",
      "side": 1,
      "message": "LGTM but I am not an owner. :) ",
      "revId": "60fbbe6631b76bdc623cbeb7c3093e88645ce926",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fbb979f6_00467f15",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5527
      },
      "writtenOn": "2021-07-19T14:03:54Z",
      "side": 1,
      "message": "Damn, thought you were, sorry for the noise.",
      "parentUuid": "65083dd9_34941a6a",
      "revId": "60fbbe6631b76bdc623cbeb7c3093e88645ce926",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9138b780_66ca84b9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5527
      },
      "writtenOn": "2021-07-19T14:05:04Z",
      "side": 1,
      "message": "Ilya, PTAL",
      "revId": "60fbbe6631b76bdc623cbeb7c3093e88645ce926",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7f6258cc_67e5dc75",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-07-19T14:14:15Z",
      "side": 1,
      "message": "Philip, you\u0027re an owner of the modules/video_coding/...",
      "parentUuid": "fbb979f6_00467f15",
      "revId": "60fbbe6631b76bdc623cbeb7c3093e88645ce926",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9b6e9b78_d343f09d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5527
      },
      "writtenOn": "2021-07-19T14:50:31Z",
      "side": 1,
      "message": "I don\u0027t need approval from some other owner? Mind blow... (I only worked here for \u003e5 years)",
      "parentUuid": "7f6258cc_67e5dc75",
      "revId": "60fbbe6631b76bdc623cbeb7c3093e88645ce926",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a504c44d_e80045e8",
        "filename": "modules/video_coding/rtp_vp9_ref_finder.cc",
        "patchSetId": 1
      },
      "lineNbr": 88,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-07-19T14:14:15Z",
      "side": 1,
      "message": "May be\nif (frame-\u003eframe_type() \u003d\u003d kVideoFrameKey) {\n  ...UnwrapForward(...);\n} else {\n  ...Unwrap(...);\n}\n\nwhen there are gaps in tl0, there might as well be gaps in rtp sequence number. \nas I understand the bug, frames after gap start with a key frame. That seems a stronger indication tl0 sequence should be \u0027reset\u0027 instead of \u0027check if broken\u0027",
      "range": {
        "startLine": 87,
        "startChar": 6,
        "endLine": 88,
        "endChar": 65
      },
      "revId": "60fbbe6631b76bdc623cbeb7c3093e88645ce926",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b4f0a915_5aa11afa",
        "filename": "modules/video_coding/rtp_vp9_ref_finder.cc",
        "patchSetId": 1
      },
      "lineNbr": 88,
      "author": {
        "id": 5527
      },
      "writtenOn": "2021-07-19T14:50:31Z",
      "side": 1,
      "message": "The bug reported is itself not a good motivation for this change. The motivation for this change is that incoming frames could at first look old (and be discarded), and then all of a sudden look new and continuous (resulting in decoding corruption) after a long period of packet loss.",
      "parentUuid": "a504c44d_e80045e8",
      "range": {
        "startLine": 87,
        "startChar": 6,
        "endLine": 88,
        "endChar": 65
      },
      "revId": "60fbbe6631b76bdc623cbeb7c3093e88645ce926",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "76dd735c_95d79e1a",
        "filename": "modules/video_coding/rtp_vp9_ref_finder.cc",
        "patchSetId": 1
      },
      "lineNbr": 88,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-07-19T15:18:14Z",
      "side": 1,
      "message": "I\u0027m not sure how this change address it then.\nShouldn\u0027t you rely on picture ids to ensure frames become continuous? (without key frame that would require 15bit picture id wrap around)\n\nI think this code is an improvement, but I still do not understand the scenario it improves.",
      "parentUuid": "b4f0a915_5aa11afa",
      "range": {
        "startLine": 87,
        "startChar": 6,
        "endLine": 88,
        "endChar": 65
      },
      "revId": "60fbbe6631b76bdc623cbeb7c3093e88645ce926",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41a91e8e_b600bae9",
        "filename": "modules/video_coding/rtp_vp9_ref_finder.cc",
        "patchSetId": 1
      },
      "lineNbr": 88,
      "author": {
        "id": 5527
      },
      "writtenOn": "2021-07-19T16:45:27Z",
      "side": 1,
      "message": "It improves the situation where after packet loss the TL0 of the newer frames looks old.\n\nI realize the test I added (internally unwrapped tl0 forward) didn\u0027t accurately reflect what I was trying to change (don\u0027t discard newer frames based on TL0), I updated the test.",
      "parentUuid": "76dd735c_95d79e1a",
      "range": {
        "startLine": 87,
        "startChar": 6,
        "endLine": 88,
        "endChar": 65
      },
      "revId": "60fbbe6631b76bdc623cbeb7c3093e88645ce926",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "90ebf05d_64fa3787",
        "filename": "modules/video_coding/rtp_vp9_ref_finder_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 674,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-07-19T14:14:15Z",
      "side": 1,
      "message": "This sequence doesn\u0027t look valid.\nI would expect a key frame after a pause (or pid/tl0pid properly continued)",
      "range": {
        "startLine": 674,
        "startChar": 2,
        "endLine": 674,
        "endChar": 61
      },
      "revId": "60fbbe6631b76bdc623cbeb7c3093e88645ce926",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1bcf7e59_88bc27aa",
        "filename": "modules/video_coding/rtp_vp9_ref_finder_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 674,
      "author": {
        "id": 5527
      },
      "writtenOn": "2021-07-19T14:50:31Z",
      "side": 1,
      "message": "This tests represent packet loss.",
      "parentUuid": "90ebf05d_64fa3787",
      "range": {
        "startLine": 674,
        "startChar": 2,
        "endLine": 674,
        "endChar": 61
      },
      "revId": "60fbbe6631b76bdc623cbeb7c3093e88645ce926",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9cae5a0b_251a4feb",
        "filename": "modules/video_coding/rtp_vp9_ref_finder_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 674,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-07-19T15:18:14Z",
      "side": 1,
      "message": "Can you select sequence numbers (pid, tl0pid, rtp sn) to show that?\nMay be add a comment what packets were lost.\n\nAs it is now I do not understand what loss it represents (and even got confused that it reperesents loss, not filtering by a server that rewrites sequence numbers, but not tl0pid)\n\nside question, what whould happen in this scenario:\nInsert(Frame().Pid(0).SidAndTid(0, 0).Tl0(0).SeqNum(0, 0));\n// loss 256 packets \u003d frames\nInsert(Frame().Pid(257).SidAndTid(0, 0).Tl0(1).SeqNum(257, 257));\n\nhow is it different to \nInsert(Frame().Pid(0).SidAndTid(0, 0).Tl0(0).SeqNum(0, 0));\n// loss 254 packets \u003d frames\nInsert(Frame().Pid(255).SidAndTid(0, 0).Tl0(255).SeqNum(255, 255));",
      "parentUuid": "1bcf7e59_88bc27aa",
      "range": {
        "startLine": 674,
        "startChar": 2,
        "endLine": 674,
        "endChar": 61
      },
      "revId": "60fbbe6631b76bdc623cbeb7c3093e88645ce926",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4efc0058_9760a70a",
        "filename": "modules/video_coding/rtp_vp9_ref_finder_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 674,
      "author": {
        "id": 5527
      },
      "writtenOn": "2021-07-19T16:45:27Z",
      "side": 1,
      "message": "In the first test we can\u0027t detect the wrap, so 257 will use the gof info of 0, and by doing so potentially use the wrong dependency structure. However, the max P_DIFF is only 127 so it can\u0027t point back to 0, so it will not be decoded.\n\nIn the second example we can detect the wrap, and then unwrap TL0 forward to avoid discarding the frame. If 255 was a keyframe we would effectively throw away the restarted stream.",
      "parentUuid": "9cae5a0b_251a4feb",
      "range": {
        "startLine": 674,
        "startChar": 2,
        "endLine": 674,
        "endChar": 61
      },
      "revId": "60fbbe6631b76bdc623cbeb7c3093e88645ce926",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9fba375b_9e9e9ff7",
        "filename": "modules/video_coding/rtp_vp9_ref_finder_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 677,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-07-19T14:14:15Z",
      "side": 1,
      "message": "EXPECT_THAT(frames_, SizeIs(1));\n\ngo/c-readability-advice#expect-vs-assert\ngo/c-readability-advice#expect-that-vs-other-expect-\ngo/c-readability-advice#avoid-yoda-style-comparisons",
      "range": {
        "startLine": 677,
        "startChar": 2,
        "endLine": 677,
        "endChar": 33
      },
      "revId": "60fbbe6631b76bdc623cbeb7c3093e88645ce926",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6f1a17c9_7fbb367a",
        "filename": "modules/video_coding/rtp_vp9_ref_finder_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 677,
      "author": {
        "id": 5527
      },
      "writtenOn": "2021-07-19T14:50:31Z",
      "side": 1,
      "message": "Consistent with style in this file, it is.\n\nEh, updated :)",
      "parentUuid": "9fba375b_9e9e9ff7",
      "range": {
        "startLine": 677,
        "startChar": 2,
        "endLine": 677,
        "endChar": 33
      },
      "revId": "60fbbe6631b76bdc623cbeb7c3093e88645ce926",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8b796a86_b1293a48",
        "filename": "modules/video_coding/rtp_vp9_ref_finder_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 677,
      "author": {
        "id": 5019
      },
      "writtenOn": "2021-07-19T15:18:14Z",
      "side": 1,
      "message": "https://google.github.io/styleguide/cppguide.html#Goals\n\n\"Consistency should not generally be used as a justification to do things in an old style without considering the benefits of the new style, or the tendency of the codebase to converge on newer styles over time.\"",
      "parentUuid": "6f1a17c9_7fbb367a",
      "range": {
        "startLine": 677,
        "startChar": 2,
        "endLine": 677,
        "endChar": 33
      },
      "revId": "60fbbe6631b76bdc623cbeb7c3093e88645ce926",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}