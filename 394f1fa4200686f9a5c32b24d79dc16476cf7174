{
  "comments": [
    {
      "key": {
        "uuid": "3c005cb5_59669916",
        "filename": "rtc_base/BUILD.gn",
        "patchSetId": 3
      },
      "lineNbr": 1040,
      "author": {
        "id": 5234
      },
      "writtenOn": "2019-03-25T16:00:44Z",
      "side": 1,
      "message": "This incantation seems to fix the nacl problem. Doesn\u0027t seem right to have it here, though, since all the problematic includes belong in rtc_Base, which we have a dependency on.",
      "range": {
        "startLine": 1038,
        "startChar": 0,
        "endLine": 1040,
        "endChar": 3
      },
      "revId": "394f1fa4200686f9a5c32b24d79dc16476cf7174",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6ee4b4e_82579fe7",
        "filename": "rtc_base/BUILD.gn",
        "patchSetId": 3
      },
      "lineNbr": 1040,
      "author": {
        "id": 5087
      },
      "writtenOn": "2019-03-25T16:26:32Z",
      "side": 1,
      "message": "Ah, this is interesting! While looking at the component build, I have never thought about these weird deps we have here and there in the codebase.\n\nThanks, there are possibilities that you have just unblocked me on the component build as well. :)\n\nNeed to understand what is going on though, these deps should be somehow deterministic and not randomly break the build.",
      "parentUuid": "3c005cb5_59669916",
      "range": {
        "startLine": 1038,
        "startChar": 0,
        "endLine": 1040,
        "endChar": 3
      },
      "revId": "394f1fa4200686f9a5c32b24d79dc16476cf7174",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3122cc5f_fc6ccbe8",
        "filename": "rtc_base/BUILD.gn",
        "patchSetId": 3
      },
      "lineNbr": 1040,
      "author": {
        "id": 5087
      },
      "writtenOn": "2019-03-26T08:32:21Z",
      "side": 1,
      "message": "I\u0027ve looked a bit more into this, LGTM.\n\nIt looks like some headers were treated differently on nacl (I\u0027ve found this old, and probably unused .dsc file: https://cs.chromium.org/chromium/src/native_client_sdk/src/libraries/nacl_io/library.dsc?rcl\u003d1001cfaab4de5b1fdbc776908cc4113bc953a741\u0026l\u003d231-249), today the trick to find these headers use the -I compiler flag (https://cs.chromium.org/chromium/src/native_client_sdk/src/libraries/nacl_io/BUILD.gn?l\u003d16\u0026rcl\u003debb66ffb22611d7cc1a50711b0c3eb5a609a5a79), which is not global though (https://cs.chromium.org/chromium/src/native_client_sdk/src/libraries/nacl_io/BUILD.gn?rcl\u003debb66ffb22611d7cc1a50711b0c3eb5a609a5a79\u0026l\u003d206). Maybe on line 206 we should use \"all_dependent_configs\" instead of \"public_configs\"? I will investigate.",
      "parentUuid": "b6ee4b4e_82579fe7",
      "range": {
        "startLine": 1038,
        "startChar": 0,
        "endLine": 1040,
        "endChar": 3
      },
      "revId": "394f1fa4200686f9a5c32b24d79dc16476cf7174",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2de77c66_07cceaf2",
        "filename": "rtc_base/BUILD.gn",
        "patchSetId": 3
      },
      "lineNbr": 1040,
      "author": {
        "id": 5234
      },
      "writtenOn": "2019-03-26T08:49:03Z",
      "side": 1,
      "message": "To get a sane build, I\u0027d recommend that -I and -D flags should usually be the same for *all* compilation units.\n\nOnly reasonable exception to this rule are if some -I or -D flag affects *only* a target\u0027s internal files, and *no* header files used directly or indirectly by depending targets. And that condition seems a bit hard to determine, and even harder to maintain.",
      "parentUuid": "3122cc5f_fc6ccbe8",
      "range": {
        "startLine": 1038,
        "startChar": 0,
        "endLine": 1040,
        "endChar": 3
      },
      "revId": "394f1fa4200686f9a5c32b24d79dc16476cf7174",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "584d11b9_20f182e0",
        "filename": "rtc_base/BUILD.gn",
        "patchSetId": 3
      },
      "lineNbr": 1040,
      "author": {
        "id": 5087
      },
      "writtenOn": "2019-03-26T08:50:35Z",
      "side": 1,
      "message": "Yes, \"all_dependent_configs\" should do that, but I am preparing a CL to move these deps into a config applied to all WebRTC targets.",
      "parentUuid": "2de77c66_07cceaf2",
      "range": {
        "startLine": 1038,
        "startChar": 0,
        "endLine": 1040,
        "endChar": 3
      },
      "revId": "394f1fa4200686f9a5c32b24d79dc16476cf7174",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}