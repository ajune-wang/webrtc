{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "592d03c0_4f727f2a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 5142
      },
      "writtenOn": "2023-02-14T10:50:35Z",
      "side": 1,
      "message": "Please take a look, simulcast lovers",
      "revId": "f994843c309be6f64f02c3b0123a526db1cd0107",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3077f57e_bccf08de",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 5117
      },
      "writtenOn": "2023-02-14T12:41:28Z",
      "side": 1,
      "message": "Where is the VP9 SpatialIndex actually put on the wire? That place may incorrectly call SpatialIndex() still.",
      "revId": "f994843c309be6f64f02c3b0123a526db1cd0107",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "810f504b_a00f858e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 5117
      },
      "writtenOn": "2023-02-14T13:59:02Z",
      "side": 1,
      "message": "Did I accidentally resolve this? Please investigate this.",
      "parentUuid": "3077f57e_bccf08de",
      "revId": "f994843c309be6f64f02c3b0123a526db1cd0107",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3a0d60ec_32e72f09",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 5142
      },
      "writtenOn": "2023-02-14T14:10:44Z",
      "side": 1,
      "message": "VP9 does set spatial index[1] which this CL does not change, and PopulateRtpWithCodecSpecifics() continues to `vp9_header.spatial_idx \u003d spatial_index.value_or(kNoSpatialIdx)` in this CL[2].\n\nAre there any other places I should be aware of?\n\n[1] https://source.chromium.org/chromium/chromium/src/+/main:third_party/webrtc/modules/video_coding/codecs/vp9/libvpx_vp9_encoder.cc;l\u003d1736;drc\u003d9b235cd93b42bac70eb473bad60a6efc7a306af9\n\n[2] https://webrtc-review.googlesource.com/c/src/+/293343/8/call/rtp_payload_params.cc#69",
      "parentUuid": "810f504b_a00f858e",
      "revId": "f994843c309be6f64f02c3b0123a526db1cd0107",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8ce43771_5d706254",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 5117
      },
      "writtenOn": "2023-02-14T14:17:30Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "3a0d60ec_32e72f09",
      "revId": "f994843c309be6f64f02c3b0123a526db1cd0107",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "75164ca1_92f8705d",
        "filename": "api/video/encoded_image.h",
        "patchSetId": 6
      },
      "lineNbr": 98,
      "author": {
        "id": 5117
      },
      "writtenOn": "2023-02-14T12:41:28Z",
      "side": 1,
      "message": "nit: rephrase please.\n\ne.g.\nAs to not break old code which doesn\u0027t call SetSimulcastIndex(), GetSpatialLayer() is used here instead.",
      "range": {
        "startLine": 96,
        "startChar": 52,
        "endLine": 98,
        "endChar": 65
      },
      "revId": "f994843c309be6f64f02c3b0123a526db1cd0107",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8f8cc894_322db0e2",
        "filename": "api/video/encoded_image.h",
        "patchSetId": 6
      },
      "lineNbr": 98,
      "author": {
        "id": 5142
      },
      "writtenOn": "2023-02-14T13:54:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "75164ca1_92f8705d",
      "range": {
        "startLine": 96,
        "startChar": 52,
        "endLine": 98,
        "endChar": 65
      },
      "revId": "f994843c309be6f64f02c3b0123a526db1cd0107",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e4107f5e_8edc5a3e",
        "filename": "call/rtp_payload_params.cc",
        "patchSetId": 6
      },
      "lineNbr": 209,
      "author": {
        "id": 5117
      },
      "writtenOn": "2023-02-14T12:41:28Z",
      "side": 1,
      "message": "In some other places I\u0027ve seen AV1 together with VP9 I believe. Please check if it has to be here too.",
      "range": {
        "startLine": 209,
        "startChar": 42,
        "endLine": 209,
        "endChar": 56
      },
      "revId": "f994843c309be6f64f02c3b0123a526db1cd0107",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2929c61b_566160d5",
        "filename": "call/rtp_payload_params.cc",
        "patchSetId": 6
      },
      "lineNbr": 209,
      "author": {
        "id": 18444
      },
      "writtenOn": "2023-02-14T13:00:34Z",
      "side": 1,
      "message": "This should currently include AV1 I think yes.",
      "parentUuid": "e4107f5e_8edc5a3e",
      "range": {
        "startLine": 209,
        "startChar": 42,
        "endLine": 209,
        "endChar": 56
      },
      "revId": "f994843c309be6f64f02c3b0123a526db1cd0107",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "98dd15a1_31851364",
        "filename": "call/rtp_payload_params.cc",
        "patchSetId": 6
      },
      "lineNbr": 209,
      "author": {
        "id": 5142
      },
      "writtenOn": "2023-02-14T13:54:57Z",
      "side": 1,
      "message": "Nice catch. You\u0027re right, PopulateRtpWithCodecSpecifics() covers all cases except for kVideoCodecAV1, which means that in the AV1 case we hit the \"default:\" clause which is to do nothing (not set simulcastIdx). So we need to guard against AV1 too to avoid an accidental change in behavior. Done.",
      "parentUuid": "2929c61b_566160d5",
      "range": {
        "startLine": 209,
        "startChar": 42,
        "endLine": 209,
        "endChar": 56
      },
      "revId": "f994843c309be6f64f02c3b0123a526db1cd0107",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f08e8020_771637fc",
        "filename": "media/engine/simulcast_encoder_adapter_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 469,
      "author": {
        "id": 18444
      },
      "writtenOn": "2023-02-14T13:00:34Z",
      "side": 1,
      "message": "nit: This is old code but last_encoded_image_simulcast_index_ should probably just be an optional rather than using the -1 sentinel.",
      "range": {
        "startLine": 469,
        "startChar": 4,
        "endLine": 469,
        "endChar": 39
      },
      "revId": "f994843c309be6f64f02c3b0123a526db1cd0107",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d8c3ba60_831999c5",
        "filename": "media/engine/simulcast_encoder_adapter_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 469,
      "author": {
        "id": 5142
      },
      "writtenOn": "2023-02-14T13:54:57Z",
      "side": 1,
      "message": "Agreed but prefer not to fix in the same CL because this test uses -1 instead of optional in several places (e.g. for resolutions as well). I can fix in a separate CL",
      "parentUuid": "f08e8020_771637fc",
      "range": {
        "startLine": 469,
        "startChar": 4,
        "endLine": 469,
        "endChar": 39
      },
      "revId": "f994843c309be6f64f02c3b0123a526db1cd0107",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "67dac14b_d16f2fc8",
        "filename": "media/engine/simulcast_encoder_adapter_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 469,
      "author": {
        "id": 5142
      },
      "writtenOn": "2023-02-14T14:05:48Z",
      "side": 1,
      "message": "Separate CL for that:  https://webrtc-review.googlesource.com/c/src/+/293346",
      "parentUuid": "d8c3ba60_831999c5",
      "range": {
        "startLine": 469,
        "startChar": 4,
        "endLine": 469,
        "endChar": 39
      },
      "revId": "f994843c309be6f64f02c3b0123a526db1cd0107",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}