{
  "comments": [
    {
      "key": {
        "uuid": "35ea89f5_58033514",
        "filename": "modules/audio_processing/audio_processing_impl.cc",
        "patchSetId": 8
      },
      "lineNbr": 360,
      "author": {
        "id": 5119
      },
      "writtenOn": "2019-09-16T15:06:54Z",
      "side": 1,
      "message": "I forgot this leftover from previous patch set, but it doesn\u0027t hurt to leave it in.",
      "range": {
        "startLine": 355,
        "startChar": 0,
        "endLine": 360,
        "endChar": 58
      },
      "revId": "4cfd575c784e17e1b13cf9857cdf32a4a2449214",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1d72cf38_4d221de9",
        "filename": "modules/audio_processing/audio_processing_impl.cc",
        "patchSetId": 8
      },
      "lineNbr": 642,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-09-13T06:08:04Z",
      "side": 1,
      "message": "Maybe remove \"This has been demonstrated to work well for AEC in most practical scenarios.\"\n?",
      "range": {
        "startLine": 641,
        "startChar": 67,
        "endLine": 642,
        "endChar": 69
      },
      "revId": "4cfd575c784e17e1b13cf9857cdf32a4a2449214",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0440f480_b9f89dbb",
        "filename": "modules/audio_processing/audio_processing_impl.cc",
        "patchSetId": 8
      },
      "lineNbr": 642,
      "author": {
        "id": 5119
      },
      "writtenOn": "2019-09-16T15:06:54Z",
      "side": 1,
      "message": "I think that the comment is valuable documentation. If someone wants to understand why we downmix like this, this comment will lead a savvy commit history reader to CLs that discuss the approach. Like this:\nhttps://webrtc-codereview.appspot.com/31459004/",
      "parentUuid": "1d72cf38_4d221de9",
      "range": {
        "startLine": 641,
        "startChar": 67,
        "endLine": 642,
        "endChar": 69
      },
      "revId": "4cfd575c784e17e1b13cf9857cdf32a4a2449214",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ed9196ff_cba39645",
        "filename": "modules/audio_processing/audio_processing_impl.cc",
        "patchSetId": 8
      },
      "lineNbr": 644,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-09-13T06:08:04Z",
      "side": 1,
      "message": "Please change this to \n        config_.pipeline.experimental_multichannel_render_analysis || config_.pipeline.experimental_multichannel_echo_control \n\nOtherwise, we will have a parameter combination for which the AEC will likely crash.",
      "range": {
        "startLine": 644,
        "startChar": 8,
        "endLine": 644,
        "endChar": 15
      },
      "revId": "4cfd575c784e17e1b13cf9857cdf32a4a2449214",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "162cef0f_5e4dabc9",
        "filename": "modules/audio_processing/audio_processing_impl.cc",
        "patchSetId": 8
      },
      "lineNbr": 644,
      "author": {
        "id": 5119
      },
      "writtenOn": "2019-09-16T15:06:54Z",
      "side": 1,
      "message": "As discussed offline, the flags control two independent pipeline issues:\n - Render is always downmixed to mono if multiband submodules need to look at the render signal.\n - Capture is always run in mono when a webrtc::EchoControl is used.\n\nI tried to clarify this in the latest patch set.",
      "parentUuid": "ed9196ff_cba39645",
      "range": {
        "startLine": 644,
        "startChar": 8,
        "endLine": 644,
        "endChar": 15
      },
      "revId": "4cfd575c784e17e1b13cf9857cdf32a4a2449214",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a333c81f_35ee2526",
        "filename": "modules/audio_processing/audio_processing_impl.h",
        "patchSetId": 8
      },
      "lineNbr": 374,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-09-13T06:08:04Z",
      "side": 1,
      "message": "Unintentional change?",
      "range": {
        "startLine": 374,
        "startChar": 4,
        "endLine": 374,
        "endChar": 14
      },
      "revId": "4cfd575c784e17e1b13cf9857cdf32a4a2449214",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c6a998a4_9e0020f5",
        "filename": "modules/audio_processing/audio_processing_impl.h",
        "patchSetId": 8
      },
      "lineNbr": 374,
      "author": {
        "id": 5119
      },
      "writtenOn": "2019-09-16T15:06:54Z",
      "side": 1,
      "message": "Yep, fixed.",
      "parentUuid": "a333c81f_35ee2526",
      "range": {
        "startLine": 374,
        "startChar": 4,
        "endLine": 374,
        "endChar": 14
      },
      "revId": "4cfd575c784e17e1b13cf9857cdf32a4a2449214",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3218c2a0_f7587d6c",
        "filename": "modules/audio_processing/test/audioproc_float_impl.cc",
        "patchSetId": 8
      },
      "lineNbr": 214,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-09-13T06:08:04Z",
      "side": 1,
      "message": "I point here is that if we have\nexperimental_multichannel_echo_control set to true while experimental_multichannel_render_analysis, things will not work. \n\nIs it possible to somehow only end up with one parameter? For instance, only have experimental_multichannel_echo_control?",
      "revId": "4cfd575c784e17e1b13cf9857cdf32a4a2449214",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "91c5ed9c_7a19221f",
        "filename": "modules/audio_processing/test/audioproc_float_impl.cc",
        "patchSetId": 8
      },
      "lineNbr": 214,
      "author": {
        "id": 5119
      },
      "writtenOn": "2019-09-16T15:06:54Z",
      "side": 1,
      "message": "I think you are right. I have changed it to one flag but added killswitches. ptal!\n\nThe downmixed render analysis also affects gain control [1], so it is not strictly AEC-only. But merging it into an `experimental_multichannel` parameter sounds reasonable.\n\nI originally wanted to keep them separated in case we need to revert later. But that can be treated internally in APM:\n- do multichannel render if experimental_multichannel \u0026\u0026 [not \u0027render_killswitch\u0027]\n- do multichannel capture if experimental_multichannel \u0026\u0026 [not \u0027capture_killswitch\u0027]\n\n[1] https://cs.chromium.org/chromium/src/third_party/webrtc/modules/audio_processing/audio_processing_impl.cc?l\u003d635\u0026rcl\u003d7af1bb3f90b3c32a64cba3a68661b94ac4898ea1",
      "parentUuid": "3218c2a0_f7587d6c",
      "revId": "4cfd575c784e17e1b13cf9857cdf32a4a2449214",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fb647861_0b11feb7",
        "filename": "modules/audio_processing/test/audioproc_float_impl.cc",
        "patchSetId": 8
      },
      "lineNbr": 214,
      "author": {
        "id": 5119
      },
      "writtenOn": "2019-09-19T15:37:42Z",
      "side": 1,
      "message": "Ack, presumably",
      "parentUuid": "91c5ed9c_7a19221f",
      "revId": "4cfd575c784e17e1b13cf9857cdf32a4a2449214",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}