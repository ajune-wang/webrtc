{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "81c6fefe_a523603d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5634
      },
      "writtenOn": "2020-12-16T23:45:55Z",
      "side": 1,
      "message": "Seems good, but I think the enum thing you found should be changed as well. Let\u0027s go all in.\n",
      "revId": "26cac4d1c37e1731dcb281f468a1f5b50a2d6bb2",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "294ab473_c4775183",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5634
      },
      "writtenOn": "2021-01-06T12:44:41Z",
      "side": 1,
      "message": "Followup...",
      "revId": "26cac4d1c37e1731dcb281f468a1f5b50a2d6bb2",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3f74159a_674e5c01",
        "filename": "api/peer_connection_interface.h",
        "patchSetId": 3
      },
      "lineNbr": 625,
      "author": {
        "id": 7641
      },
      "writtenOn": "2020-12-16T15:34:20Z",
      "side": 1,
      "message": "Please note that this is overridden here:\nhttps://source.chromium.org/chromium/chromium/src/+/master:third_party/blink/renderer/modules/peerconnection/rtc_peer_connection.cc;drc\u003d2565475c8d30c7fc57e307fa2cf1357c2db5a905;l\u003d348\n\nI think that here is where you want to change at first:\nhttps://source.chromium.org/chromium/chromium/src/+/master:third_party/blink/common/features.cc;drc\u003d3397c26de7a55dd3c5b827b149898a89b881f14c;l\u003d223\n\nThis way it\u0027s possible to override from JavaScript.\n\nOnce that has been out for a while we can remove the configuration parameter and always offer extmap-allow-mixed.",
      "range": {
        "startLine": 625,
        "startChar": 4,
        "endLine": 625,
        "endChar": 37
      },
      "revId": "26cac4d1c37e1731dcb281f468a1f5b50a2d6bb2",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "079945cd_ff4cfa75",
        "filename": "api/peer_connection_interface.h",
        "patchSetId": 3
      },
      "lineNbr": 625,
      "author": {
        "id": 13704
      },
      "writtenOn": "2020-12-16T19:05:54Z",
      "side": 1,
      "message": "Thanks for the heads up, I sent out https://crrev.com/c/2596147",
      "parentUuid": "3f74159a_674e5c01",
      "range": {
        "startLine": 625,
        "startChar": 4,
        "endLine": 625,
        "endChar": 37
      },
      "revId": "26cac4d1c37e1731dcb281f468a1f5b50a2d6bb2",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c036615f_921bcd73",
        "filename": "pc/session_description.h",
        "patchSetId": 3
      },
      "lineNbr": 278,
      "author": {
        "id": 13704
      },
      "writtenOn": "2020-12-16T15:15:08Z",
      "side": 1,
      "message": "Not sure if this should be changed to kSession as well?",
      "range": {
        "startLine": 278,
        "startChar": 46,
        "endLine": 278,
        "endChar": 49
      },
      "revId": "26cac4d1c37e1731dcb281f468a1f5b50a2d6bb2",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dd8ed541_13db4b43",
        "filename": "pc/session_description.h",
        "patchSetId": 3
      },
      "lineNbr": 278,
      "author": {
        "id": 5634
      },
      "writtenOn": "2020-12-16T23:45:55Z",
      "side": 1,
      "message": "I think it should be, and the comment above amended.",
      "parentUuid": "c036615f_921bcd73",
      "range": {
        "startLine": 278,
        "startChar": 46,
        "endLine": 278,
        "endChar": 49
      },
      "revId": "26cac4d1c37e1731dcb281f468a1f5b50a2d6bb2",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "27f81c96_2db46f6e",
        "filename": "pc/session_description.h",
        "patchSetId": 3
      },
      "lineNbr": 278,
      "author": {
        "id": 13704
      },
      "writtenOn": "2020-12-17T15:19:05Z",
      "side": 1,
      "message": "There seems to be some logic [1] to not allow downgrading to media level if session level is already set. This makes some test setups not work. For example, in [2] extmap_allow_mixed_enum() would still be kSession.\n\nDo we want to modify this behavior now that signaling this on session level will be the default?\n\n[1] https://source.chromium.org/chromium/chromium/src/+/master:third_party/webrtc/pc/session_description.h;drc\u003d4e8c1159608ef44460edfa8fabb8e705f4490fc7;l\u003d229-233\n[2] https://source.chromium.org/chromium/chromium/src/+/master:third_party/webrtc/pc/session_description_unittest.cc;drc\u003d317a1f09ed232bc16e67f6588ecf1b5deabbf928;l\u003d112",
      "parentUuid": "dd8ed541_13db4b43",
      "range": {
        "startLine": 278,
        "startChar": 46,
        "endLine": 278,
        "endChar": 49
      },
      "revId": "26cac4d1c37e1731dcb281f468a1f5b50a2d6bb2",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a8eeed1c_9d820ed4",
        "filename": "pc/session_description.h",
        "patchSetId": 3
      },
      "lineNbr": 278,
      "author": {
        "id": 7641
      },
      "writtenOn": "2020-12-18T09:55:08Z",
      "side": 1,
      "message": "The two use cases that we should respond to correctly are:\n\nAn offer is given with extmap-allow-mixed on session level \u003d\u003e respond on session level.\nAn offer is given with extmap-allow-mixed on media level \u003d\u003e respond on media level.\n\nIt can very well be that the logic needs to be changed to handle the second case correctly now.\n\nStill, I don\u0027t see any reason why someone would have this on media level instead of session level. ðŸ˜Š",
      "parentUuid": "27f81c96_2db46f6e",
      "range": {
        "startLine": 278,
        "startChar": 46,
        "endLine": 278,
        "endChar": 49
      },
      "revId": "26cac4d1c37e1731dcb281f468a1f5b50a2d6bb2",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6dfd25ad_0b365245",
        "filename": "pc/session_description.h",
        "patchSetId": 3
      },
      "lineNbr": 278,
      "author": {
        "id": 5634
      },
      "writtenOn": "2021-01-06T12:44:41Z",
      "side": 1,
      "message": "The one case where someone would want this on media level is if they have multiple transports (unbundled or multi-bundle) where one of the transports goes to a different system than the other (for instance video to one system and audio to another), and one of them doesn\u0027t handle extmap-allow-mixed.\n\nIt\u0027s an extreme edge case of an edge case; systems like this have been built (think of Duo with a display on a TV and audio on a Jabra), but imagining that only one of them would handle extmap-allow-mixed is a stretch. But formally, it\u0027s allowed.\n\nIf we want to handle this case, we need to add tests for it.",
      "parentUuid": "a8eeed1c_9d820ed4",
      "range": {
        "startLine": 278,
        "startChar": 46,
        "endLine": 278,
        "endChar": 49
      },
      "revId": "26cac4d1c37e1731dcb281f468a1f5b50a2d6bb2",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}