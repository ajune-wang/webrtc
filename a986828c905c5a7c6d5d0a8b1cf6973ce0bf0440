{
  "comments": [
    {
      "key": {
        "uuid": "1602d31a_9249a3ce",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 11,
      "author": {
        "id": 5087
      },
      "writtenOn": "2020-09-21T15:36:23Z",
      "side": 1,
      "message": "If I read the graph correctly rtc::ToHex was counting for 0.87% which is a lot if it was coming from LS_VERBOSE logging.\n\nThe regression is 32 KiB on arm64, I am happy to land as is (unless kwiberg@ has an idea about how to mitigate the call site size) but I would like to propose an aggressive reduction in the amount of logs we have in the codebase (being it RTC_LOG -\u003e RTC_DLOG or just a plain delete of log statements). Somehow we need to mitigate the binary size regression and logging too much is bad for perf as well.\n\nWDYT about something similar to what Chromium does ( https://chromium.googlesource.com/chromium/src/+/master/styleguide/c++/c++.md#logging, \"Remove most logging calls before checking in...\").",
      "range": {
        "startLine": 10,
        "startChar": 25,
        "endLine": 11,
        "endChar": 52
      },
      "revId": "a986828c905c5a7c6d5d0a8b1cf6973ce0bf0440",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8a9bb32b_407affed",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 11,
      "author": {
        "id": 5508
      },
      "writtenOn": "2020-09-21T16:04:49Z",
      "side": 1,
      "message": "+1 on styleguide update. Our logs are way to spammy which reduces usefulness and affects performance.\n\nI\u0027m also in favor of deleting log statements and make more use of DLOG where we\u0027re currently using INFO and VERBOSE. Some warning logs are also spammy and misleading (i.e. not reflecting something unexpected).",
      "parentUuid": "1602d31a_9249a3ce",
      "range": {
        "startLine": 10,
        "startChar": 25,
        "endLine": 11,
        "endChar": 52
      },
      "revId": "a986828c905c5a7c6d5d0a8b1cf6973ce0bf0440",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0df2b3e4_b84f7088",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 11,
      "author": {
        "id": 5126
      },
      "writtenOn": "2020-09-21T20:03:33Z",
      "side": 1,
      "message": "We previously used a clever trick to reduce binary site at the call site for precisely this situation [https://source.chromium.org/chromium/_/webrtc/src.git/+/ee10ea8a4181dcad806ffb583495766da102528e], but apparently we no longer do. The binary size impact of this CL can probably be reduced by employing that trick again.\n\nBriefly, since making a function call with zero arguments takes fewer instructions than making a function call with one argument, and since the number of possible arguments (log severities) is small, and since ~all call sites know the severity statically, we can pass the severity as a template argument instead of as a regular argument and save space that way. The CPU cost of the extra indirection is small, since it\u0027s just a few instructions long and trivially branch predictable.\n\nIf you want, I can try this as a sequel to this CL.",
      "parentUuid": "8a9bb32b_407affed",
      "range": {
        "startLine": 10,
        "startChar": 25,
        "endLine": 11,
        "endChar": 52
      },
      "revId": "a986828c905c5a7c6d5d0a8b1cf6973ce0bf0440",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    }
  ]
}