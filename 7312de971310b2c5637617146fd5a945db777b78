{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "84de49a9_6b6f70ae",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5234
      },
      "writtenOn": "2021-03-09T13:32:50Z",
      "side": 1,
      "message": "PTAL, this way of using the safety flag seems to work. If this works out, we could perhaps do the same for AndroidNetworkMonitor too (earlier attempt failed, possibly because the objects aren\u0027t constructed on the network thread).",
      "revId": "7312de971310b2c5637617146fd5a945db777b78",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ae679f86_dfa9e99c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5508
      },
      "writtenOn": "2021-03-09T17:30:57Z",
      "side": 1,
      "message": "Great - the update to the safety flag is simple but clever. The need for it has come up a few times in the past.",
      "revId": "7312de971310b2c5637617146fd5a945db777b78",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6874bfde_a7b20fce",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5053
      },
      "writtenOn": "2021-03-09T20:45:34Z",
      "side": 1,
      "message": "Are you sure this is necessary? It looks to me like the monitor is always created and started on the same thread: https://source.chromium.org/chromium/chromium/src/+/master:third_party/webrtc/rtc_base/network.cc;l\u003d861?q\u003d%22-%3Ecreatenetworkmonitor%22\u0026ss\u003dchromium%2Fchromium%2Fsrc\n\nIf it\u0027s not, can we figure out why that\u0027s happening? If it\u0027s unavoidable this looks good though.",
      "revId": "7312de971310b2c5637617146fd5a945db777b78",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "974c3ad3_8b62e838",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5520
      },
      "writtenOn": "2021-03-10T09:38:10Z",
      "side": 1,
      "message": "objc bits lgtm.",
      "revId": "7312de971310b2c5637617146fd5a945db777b78",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "98f56001_3dce1bba",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5234
      },
      "writtenOn": "2021-03-11T08:45:24Z",
      "side": 1,
      "message": "I can give it a try without. When I attempted to do something very similar for the android network monitor, tests failed for (to me) mysterious reasons, and you said that maybe it was because the flag was created on a different thread.",
      "parentUuid": "6874bfde_a7b20fce",
      "revId": "7312de971310b2c5637617146fd5a945db777b78",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5d425835_c17befb1",
        "filename": "rtc_base/task_utils/pending_task_safety_flag.h",
        "patchSetId": 3
      },
      "lineNbr": 61,
      "author": {
        "id": 5508
      },
      "writtenOn": "2021-03-09T17:30:57Z",
      "side": 1,
      "message": "I think that this will be useful for several cases. Can you add some documentation that explains when someone might want to use this?",
      "revId": "7312de971310b2c5637617146fd5a945db777b78",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7d43d8ae_2c10e5eb",
        "filename": "sdk/objc/native/src/objc_network_monitor.h",
        "patchSetId": 3
      },
      "lineNbr": 17,
      "author": {
        "id": 5520
      },
      "writtenOn": "2021-03-10T09:38:10Z",
      "side": 1,
      "message": "can we get rid of this include now?",
      "range": {
        "startLine": 17,
        "startChar": 1,
        "endLine": 17,
        "endChar": 35
      },
      "revId": "7312de971310b2c5637617146fd5a945db777b78",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fa695da7_29fdce81",
        "filename": "sdk/objc/native/src/objc_network_monitor.h",
        "patchSetId": 3
      },
      "lineNbr": 17,
      "author": {
        "id": 5234
      },
      "writtenOn": "2021-03-11T08:45:24Z",
      "side": 1,
      "message": "Good catch. Deleted.",
      "parentUuid": "7d43d8ae_2c10e5eb",
      "range": {
        "startLine": 17,
        "startChar": 1,
        "endLine": 17,
        "endChar": 35
      },
      "revId": "7312de971310b2c5637617146fd5a945db777b78",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e5731b5d_70994c9a",
        "filename": "sdk/objc/native/src/objc_network_monitor.mm",
        "patchSetId": 3
      },
      "lineNbr": 39,
      "author": {
        "id": 5234
      },
      "writtenOn": "2021-03-09T13:32:50Z",
      "side": 1,
      "message": "This call should attach the safety flags\u0027s sequence checker to the right thread.",
      "range": {
        "startLine": 39,
        "startChar": 0,
        "endLine": 39,
        "endChar": 27
      },
      "revId": "7312de971310b2c5637617146fd5a945db777b78",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "625a2700_ed87af03",
        "filename": "sdk/objc/native/src/objc_network_monitor.mm",
        "patchSetId": 3
      },
      "lineNbr": 39,
      "author": {
        "id": 5508
      },
      "writtenOn": "2021-03-09T17:30:57Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "e5731b5d_70994c9a",
      "range": {
        "startLine": 39,
        "startChar": 0,
        "endLine": 39,
        "endChar": 27
      },
      "revId": "7312de971310b2c5637617146fd5a945db777b78",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}