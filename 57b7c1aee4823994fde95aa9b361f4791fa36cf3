{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "5f9a9317_9faa1268",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 17719
      },
      "writtenOn": "2022-10-19T11:06:31Z",
      "side": 1,
      "message": "Thank you Per!",
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a83cc8f0_c92066aa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 5122
      },
      "writtenOn": "2022-10-19T14:08:28Z",
      "side": 1,
      "message": "Thanks Hanna!",
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3b9bdf4d_e4810c0e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 17719
      },
      "writtenOn": "2022-10-19T15:18:20Z",
      "side": 1,
      "message": "Thanks Alessio!",
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fbe0545d_055d50f3",
        "filename": "modules/audio_processing/agc2/input_volume_controller.cc",
        "patchSetId": 7
      },
      "lineNbr": 183,
      "author": {
        "id": 5122
      },
      "writtenOn": "2022-10-21T14:07:32Z",
      "side": 1,
      "message": "IIUC this is not removed even if `RecommendedInputVolumeEstimator::agc_` and `RecommendedInputVolumeEstimator::UpdateCompressor()` are removed in this CL because we now want the input volume controller to know if a digital adaptive gain is applied. When not applied, then `max_digital_gain_db` and `min_digital_gain_db` are ignored. Right?\n\nIf so, I would rename `disable_digital_adaptive` to e.g., `digital_adaptive_follows` since (i) in `UpdateGain()` we currently have `if (!disable_digital_adaptive_) {` (so, no need to negate) and (ii) the name better reflects the new meaning this param has.",
      "range": {
        "startLine": 183,
        "startChar": 6,
        "endLine": 183,
        "endChar": 58
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "60b14c1c_15835cab",
        "filename": "modules/audio_processing/agc2/input_volume_controller.cc",
        "patchSetId": 7
      },
      "lineNbr": 183,
      "author": {
        "id": 17719
      },
      "writtenOn": "2022-10-25T13:14:16Z",
      "side": 1,
      "message": "I\u0027ve renamed the config parameter but kept the class members for now. Let\u0027s change the negation in a separate CL (I\u0027ve added TODOs in both classes).",
      "parentUuid": "fbe0545d_055d50f3",
      "range": {
        "startLine": 183,
        "startChar": 6,
        "endLine": 183,
        "endChar": 58
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "db3665cd_01028d2e",
        "filename": "modules/audio_processing/agc2/input_volume_controller.cc",
        "patchSetId": 7
      },
      "lineNbr": 183,
      "author": {
        "id": 5122
      },
      "writtenOn": "2022-10-26T10:42:47Z",
      "side": 1,
      "message": "as discussed offline, `disable_digital_adaptive_` is not needed anymore if we change parametrization of the input volume controller",
      "parentUuid": "60b14c1c_15835cab",
      "range": {
        "startLine": 183,
        "startChar": 6,
        "endLine": 183,
        "endChar": 58
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "11344adb_3a0278d1",
        "filename": "modules/audio_processing/agc2/input_volume_controller.cc",
        "patchSetId": 7
      },
      "lineNbr": 192,
      "author": {
        "id": 5122
      },
      "writtenOn": "2022-10-21T14:07:32Z",
      "side": 1,
      "message": "We shouldn\u0027t use 30, but a larger value, 90 is fine.\n\nThat\u0027s because it\u0027s better to decouple input volume controller and digital adaptive controller settings. I would expect that with the new input volume controller, it\u0027ll be possible to increase the max digital adaptive gain to 50 (to possibly reduce the number of adaptations); so, no need to add any constraints here.",
      "range": {
        "startLine": 190,
        "startChar": 0,
        "endLine": 192,
        "endChar": 41
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7c24781e_a16b23c3",
        "filename": "modules/audio_processing/agc2/input_volume_controller.cc",
        "patchSetId": 7
      },
      "lineNbr": 192,
      "author": {
        "id": 17719
      },
      "writtenOn": "2022-10-25T13:14:16Z",
      "side": 1,
      "message": "I\u0027ve removed the checks for min/max.",
      "parentUuid": "11344adb_3a0278d1",
      "range": {
        "startLine": 190,
        "startChar": 0,
        "endLine": 192,
        "endChar": 41
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "21825984_8b6bbf20",
        "filename": "modules/audio_processing/agc2/input_volume_controller.cc",
        "patchSetId": 7
      },
      "lineNbr": 192,
      "author": {
        "id": 5122
      },
      "writtenOn": "2022-10-26T10:42:47Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "7c24781e_a16b23c3",
      "range": {
        "startLine": 190,
        "startChar": 0,
        "endLine": 192,
        "endChar": 41
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bd8a8981_08908d18",
        "filename": "modules/audio_processing/agc2/input_volume_controller.cc",
        "patchSetId": 7
      },
      "lineNbr": 389,
      "author": {
        "id": 5122
      },
      "writtenOn": "2022-10-19T14:08:28Z",
      "side": 1,
      "message": "nit: this can be removed since I\u0027m about to complete the AGC implementation agnostic metrics to use for experimentation",
      "range": {
        "startLine": 388,
        "startChar": 0,
        "endLine": 389,
        "endChar": 50
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3efa2d7f_b90d7478",
        "filename": "modules/audio_processing/agc2/input_volume_controller.cc",
        "patchSetId": 7
      },
      "lineNbr": 389,
      "author": {
        "id": 17719
      },
      "writtenOn": "2022-10-25T13:14:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bd8a8981_08908d18",
      "range": {
        "startLine": 388,
        "startChar": 0,
        "endLine": 389,
        "endChar": 50
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "df6d9c96_584fbe03",
        "filename": "modules/audio_processing/agc2/input_volume_controller.h",
        "patchSetId": 7
      },
      "lineNbr": 53,
      "author": {
        "id": 5122
      },
      "writtenOn": "2022-10-19T14:08:28Z",
      "side": 1,
      "message": "remove (see my next comment); feel free to do that in a separate CL",
      "range": {
        "startLine": 52,
        "startChar": 0,
        "endLine": 53,
        "endChar": 42
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cf726993_c15bf850",
        "filename": "modules/audio_processing/agc2/input_volume_controller.h",
        "patchSetId": 7
      },
      "lineNbr": 53,
      "author": {
        "id": 17719
      },
      "writtenOn": "2022-10-19T15:18:20Z",
      "side": 1,
      "message": "We shouldn\u0027t add any changes that require large refactoring of the unit tests in this CL. We can do this in a later CL, see the TODO below.",
      "parentUuid": "df6d9c96_584fbe03",
      "range": {
        "startLine": 52,
        "startChar": 0,
        "endLine": 53,
        "endChar": 42
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f365d6f3_21c9feed",
        "filename": "modules/audio_processing/agc2/input_volume_controller.h",
        "patchSetId": 7
      },
      "lineNbr": 53,
      "author": {
        "id": 5122
      },
      "writtenOn": "2022-10-21T14:07:32Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "cf726993_c15bf850",
      "range": {
        "startLine": 52,
        "startChar": 0,
        "endLine": 53,
        "endChar": 42
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fa76453e_3469327c",
        "filename": "modules/audio_processing/agc2/input_volume_controller.h",
        "patchSetId": 7
      },
      "lineNbr": 61,
      "author": {
        "id": 5122
      },
      "writtenOn": "2022-10-19T14:08:28Z",
      "side": 1,
      "message": "also pass the applied input volume, in this way we remove set_stream_analog_level() and we make this class ready for the changes I\u0027m adding in https://webrtc-review.googlesource.com/c/src/+/279780",
      "range": {
        "startLine": 61,
        "startChar": 2,
        "endLine": 61,
        "endChar": 58
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a8434bf1_48a44027",
        "filename": "modules/audio_processing/agc2/input_volume_controller.h",
        "patchSetId": 7
      },
      "lineNbr": 61,
      "author": {
        "id": 17719
      },
      "writtenOn": "2022-10-19T15:18:20Z",
      "side": 1,
      "message": "ditto",
      "parentUuid": "fa76453e_3469327c",
      "range": {
        "startLine": 61,
        "startChar": 2,
        "endLine": 61,
        "endChar": 58
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f6018546_aac90042",
        "filename": "modules/audio_processing/agc2/input_volume_controller.h",
        "patchSetId": 7
      },
      "lineNbr": 61,
      "author": {
        "id": 5122
      },
      "writtenOn": "2022-10-21T14:07:32Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "a8434bf1_48a44027",
      "range": {
        "startLine": 61,
        "startChar": 2,
        "endLine": 61,
        "endChar": 58
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "45bc7897_3da6b11e",
        "filename": "modules/audio_processing/agc2/input_volume_controller.h",
        "patchSetId": 7
      },
      "lineNbr": 67,
      "author": {
        "id": 5122
      },
      "writtenOn": "2022-10-19T14:08:28Z",
      "side": 1,
      "message": "return the recommended input volume, in this way we remove recommended_analog_level() and we make this class ready for the changes I\u0027m adding in https://webrtc-review.googlesource.com/c/src/+/279780",
      "range": {
        "startLine": 67,
        "startChar": 2,
        "endLine": 67,
        "endChar": 6
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d8cf4a40_6a5c5536",
        "filename": "modules/audio_processing/agc2/input_volume_controller.h",
        "patchSetId": 7
      },
      "lineNbr": 67,
      "author": {
        "id": 17719
      },
      "writtenOn": "2022-10-19T15:18:20Z",
      "side": 1,
      "message": "Same here, we shouldn\u0027t add changes that require large refactoring of the unit tests (and removing the two helper functions will). We can do this in a later CL, see the TODO below.",
      "parentUuid": "45bc7897_3da6b11e",
      "range": {
        "startLine": 67,
        "startChar": 2,
        "endLine": 67,
        "endChar": 6
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9768e5fc_bb679ffc",
        "filename": "modules/audio_processing/agc2/input_volume_controller.h",
        "patchSetId": 7
      },
      "lineNbr": 67,
      "author": {
        "id": 5122
      },
      "writtenOn": "2022-10-21T14:07:32Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "d8cf4a40_6a5c5536",
      "range": {
        "startLine": 67,
        "startChar": 2,
        "endLine": 67,
        "endChar": 6
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "026beb73_e1614b9c",
        "filename": "modules/audio_processing/agc2/input_volume_controller.h",
        "patchSetId": 7
      },
      "lineNbr": 77,
      "author": {
        "id": 5122
      },
      "writtenOn": "2022-10-19T14:08:28Z",
      "side": 1,
      "message": "remove (see my previous comment); feel free to do that in a separate CL",
      "range": {
        "startLine": 71,
        "startChar": 0,
        "endLine": 77,
        "endChar": 76
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7be312ed_0163366a",
        "filename": "modules/audio_processing/agc2/input_volume_controller.h",
        "patchSetId": 7
      },
      "lineNbr": 77,
      "author": {
        "id": 17719
      },
      "writtenOn": "2022-10-19T15:18:20Z",
      "side": 1,
      "message": "ditto",
      "parentUuid": "026beb73_e1614b9c",
      "range": {
        "startLine": 71,
        "startChar": 0,
        "endLine": 77,
        "endChar": 76
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a62fd59e_113fc131",
        "filename": "modules/audio_processing/agc2/input_volume_controller.h",
        "patchSetId": 7
      },
      "lineNbr": 77,
      "author": {
        "id": 5122
      },
      "writtenOn": "2022-10-21T14:07:32Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "7be312ed_0163366a",
      "range": {
        "startLine": 71,
        "startChar": 0,
        "endLine": 77,
        "endChar": 76
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "62bee95b_825ede15",
        "filename": "modules/audio_processing/agc2/input_volume_controller.h",
        "patchSetId": 7
      },
      "lineNbr": 172,
      "author": {
        "id": 5122
      },
      "writtenOn": "2022-10-19T14:08:28Z",
      "side": 1,
      "message": "what about\n- renaming to MonoInputVolumeController\n- moving to a separate target with its unit tests",
      "range": {
        "startLine": 172,
        "startChar": 6,
        "endLine": 172,
        "endChar": 37
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ec6eb1ac_0f9805d3",
        "filename": "modules/audio_processing/agc2/input_volume_controller.h",
        "patchSetId": 7
      },
      "lineNbr": 172,
      "author": {
        "id": 17719
      },
      "writtenOn": "2022-10-19T15:18:20Z",
      "side": 1,
      "message": "Renaming sounds good.\n\nFor the same reason as above, I\u0027d avoid any large-scale refactoring that affects the tests in this CL and add the new targets and unit tests later in a separate CL.",
      "parentUuid": "62bee95b_825ede15",
      "range": {
        "startLine": 172,
        "startChar": 6,
        "endLine": 172,
        "endChar": 37
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c8c3d258_4bb13297",
        "filename": "modules/audio_processing/agc2/input_volume_controller.h",
        "patchSetId": 7
      },
      "lineNbr": 172,
      "author": {
        "id": 5122
      },
      "writtenOn": "2022-10-21T14:07:32Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "ec6eb1ac_0f9805d3",
      "range": {
        "startLine": 172,
        "startChar": 6,
        "endLine": 172,
        "endChar": 37
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3b9cd281_3e79db5f",
        "filename": "modules/audio_processing/agc2/input_volume_controller.h",
        "patchSetId": 7
      },
      "lineNbr": 179,
      "author": {
        "id": 5122
      },
      "writtenOn": "2022-10-19T14:08:28Z",
      "side": 1,
      "message": "One alternative approach we discussed offline is to set a target level (for the input volume controller) instead of passing min/max digital gain that can be applied.\n\nGainController2 will then set the input controller target level taking into account whether the adaptive digital controller is used.\n\nI would tell that setting a target level is easier when it comes to writing the unit tests and better clarifies how the different collaborate by only reading the GainController2 implementation. Also, if we keep the current option, then I\u0027d guess that the unit tests must know the target level hardcoded in input_volume_controller.cc and compute the expected target level based on the min/max digital gain that is passed.\n\nWDYT?",
      "range": {
        "startLine": 178,
        "startChar": 33,
        "endLine": 179,
        "endChar": 59
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d315d53d_10387d39",
        "filename": "modules/audio_processing/agc2/input_volume_controller.h",
        "patchSetId": 7
      },
      "lineNbr": 179,
      "author": {
        "id": 17719
      },
      "writtenOn": "2022-10-19T15:18:20Z",
      "side": 1,
      "message": "Using a target level differs from using min/max digital gain. Here the min/max are used to define a slack range in the RMS error: if the error is within this range, no input volume adjustments are done. If we pass a target, we need to take care of calculating that range elsewhere and pass a zero-error speech level to Process and UpdateGain.\n\nAgain, for the same reason as above :) I\u0027d suggest we implement this with minimum refactoring of the unit tests and revisit later if needed.",
      "parentUuid": "3b9cd281_3e79db5f",
      "range": {
        "startLine": 178,
        "startChar": 33,
        "endLine": 179,
        "endChar": 59
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fa732e1c_3d8f1683",
        "filename": "modules/audio_processing/agc2/input_volume_controller.h",
        "patchSetId": 7
      },
      "lineNbr": 179,
      "author": {
        "id": 5122
      },
      "writtenOn": "2022-10-21T14:07:32Z",
      "side": 1,
      "message": "Good point on the need of a slack, which is essential to avoid too many input volume changes. Still, I wonder what formulation / parametrization makes it easier to test the input volume controller and decouple it from the digital adaptive one. As this CL removes the digital adaptive part inherited from `AgcManagerDirect`, I recommend that we discuss this aspect now and address it in this CL. Let me kick it off 😊\n\nEssentially, the behavior we want is that the input volume controller doesn\u0027t change the volume if the estimated speech level (L) falls in the range [T - M, T] where T is the input volume controller targer level (-18 dBFS) and M the maximum digital adaptive gain (30 dBFS), right? In this way, there\u0027s no need for stepping back if the current input volume produces levels above T-M, because we know that the adaptive digital controller will reduce its gain if needed.\n\nIn summary:\n\nCase 1: L \u003c T-M \u003d\u003e increase input volume\nCase 2: T-M \u003c\u003d L \u003c\u003d T \u003d\u003e do not change the input volume\nCase 3: L \u003e T \u003d\u003e reduce the input volume\n\nIf that\u0027s correct, I would parametrize the input volume controller with a range [A, B] and let `GainController2` \"coordinate\" all the controllers by setting A\u003dT-M and B\u003dT. Advantages:\n- no hard-coded target level in input_volume_controller.cc\n- easier to test the behavior: for example, one could write a test that verifies that fewer adaptations take place when the range is wider\n- `GainController2` is responsible for the coupling between input volume controller and adaptive digital controller (separation of concerns)\n\nWDYT?",
      "parentUuid": "d315d53d_10387d39",
      "range": {
        "startLine": 178,
        "startChar": 33,
        "endLine": 179,
        "endChar": 59
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "baca44d7_4e1a2016",
        "filename": "modules/audio_processing/agc2/input_volume_controller.h",
        "patchSetId": 7
      },
      "lineNbr": 179,
      "author": {
        "id": 17719
      },
      "writtenOn": "2022-10-25T13:14:16Z",
      "side": 1,
      "message": "This looks like a pure refactoring change. I suggest we revisit this in a later CL.",
      "parentUuid": "fa732e1c_3d8f1683",
      "range": {
        "startLine": 178,
        "startChar": 33,
        "endLine": 179,
        "endChar": 59
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dbb59d30_06c955c6",
        "filename": "modules/audio_processing/agc2/input_volume_controller.h",
        "patchSetId": 7
      },
      "lineNbr": 179,
      "author": {
        "id": 5122
      },
      "writtenOn": "2022-10-26T10:42:47Z",
      "side": 1,
      "message": "We agreed offline on adding this change in this CL since (i) the digital adaptive part inherited from `AgcManagerDirect` is being removed here and (ii) this CL does introduce a new logic around the target level for the input volume controller.\n\nMy recommendation is to replace `Config::max_digital_gain_db`, `Config::min_digital_gain_db` and `kOverrideTargetSpeechLevelDbfs` with two parameters named `min_target_speech_level_dbfs` and `max_target_speech_level_dbfs`. As clarified offline, it\u0027s just a different formulation of the same adaptation problem which will make it easier to test `InputVolumeController`.",
      "parentUuid": "baca44d7_4e1a2016",
      "range": {
        "startLine": 178,
        "startChar": 33,
        "endLine": 179,
        "endChar": 59
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9e66c721_44437288",
        "filename": "modules/audio_processing/agc2/input_volume_controller.h",
        "patchSetId": 7
      },
      "lineNbr": 191,
      "author": {
        "id": 5122
      },
      "writtenOn": "2022-10-19T14:08:28Z",
      "side": 1,
      "message": "good if this can be removed (see my comment on `InputVolumeController::set_stream_analog_level`), but feel free to do that in a separate CL",
      "range": {
        "startLine": 188,
        "startChar": 0,
        "endLine": 191,
        "endChar": 0
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ecbf721d_ba286bff",
        "filename": "modules/audio_processing/agc2/input_volume_controller.h",
        "patchSetId": 7
      },
      "lineNbr": 191,
      "author": {
        "id": 17719
      },
      "writtenOn": "2022-10-19T15:18:20Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "9e66c721_44437288",
      "range": {
        "startLine": 188,
        "startChar": 0,
        "endLine": 191,
        "endChar": 0
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "738000ad_79ce6df9",
        "filename": "modules/audio_processing/agc2/input_volume_controller.h",
        "patchSetId": 7
      },
      "lineNbr": 203,
      "author": {
        "id": 5122
      },
      "writtenOn": "2022-10-19T14:08:28Z",
      "side": 1,
      "message": "good if this can be removed (see my comment on `InputVolumeController::recommended_analog_level`), but feel free to do that in a separate CL",
      "range": {
        "startLine": 202,
        "startChar": 0,
        "endLine": 203,
        "endChar": 76
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2f46dcfe_3d8119e6",
        "filename": "modules/audio_processing/agc2/input_volume_controller.h",
        "patchSetId": 7
      },
      "lineNbr": 203,
      "author": {
        "id": 17719
      },
      "writtenOn": "2022-10-19T15:18:20Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "738000ad_79ce6df9",
      "range": {
        "startLine": 202,
        "startChar": 0,
        "endLine": 203,
        "endChar": 76
      },
      "revId": "57b7c1aee4823994fde95aa9b361f4791fa36cf3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}