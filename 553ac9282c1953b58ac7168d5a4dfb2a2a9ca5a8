{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "96e9abe2_c6c7555c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 5634
      },
      "writtenOn": "2024-10-14T07:16:18Z",
      "side": 1,
      "message": "Can you add an unit test for this?",
      "revId": "553ac9282c1953b58ac7168d5a4dfb2a2a9ca5a8",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5711a621_70822470",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 20334
      },
      "writtenOn": "2024-10-15T06:49:49Z",
      "side": 1,
      "message": "@hta@webrtc.org thanks for the review. Sure will add test case for this change soon.",
      "parentUuid": "96e9abe2_c6c7555c",
      "revId": "553ac9282c1953b58ac7168d5a4dfb2a2a9ca5a8",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cba28e03_f86f4ac3",
        "filename": "modules/congestion_controller/receive_side_congestion_controller.cc",
        "patchSetId": 4
      },
      "lineNbr": 131,
      "author": {
        "id": 5578
      },
      "writtenOn": "2024-10-14T07:45:03Z",
      "side": 1,
      "message": "Doent this mean that receive side BWE will also be enabled? Why would we want to do that?",
      "range": {
        "startLine": 131,
        "startChar": 4,
        "endLine": 131,
        "endChar": 8
      },
      "revId": "553ac9282c1953b58ac7168d5a4dfb2a2a9ca5a8",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4a388d4b_9075cde3",
        "filename": "modules/congestion_controller/receive_side_congestion_controller.cc",
        "patchSetId": 4
      },
      "lineNbr": 131,
      "author": {
        "id": 17589
      },
      "writtenOn": "2024-10-14T23:57:17Z",
      "side": 1,
      "message": "Idea is to use both transport-cc and L4S (RFC8888) feedback. Continue to send `transport_sequence_number` to trigger transport-cc feedback. This helps transition to new feedback in phased manner, consume L4S feedback for only L4S supported networks, experiencing congestion and legacy feedback for all other cases. In the above case, it will not trigger RBE. \nEventually we can choose between RFC8888 and transport-cc through SDP.",
      "parentUuid": "cba28e03_f86f4ac3",
      "range": {
        "startLine": 131,
        "startChar": 4,
        "endLine": 131,
        "endChar": 8
      },
      "revId": "553ac9282c1953b58ac7168d5a4dfb2a2a9ca5a8",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eb0a8835_1eac90dc",
        "filename": "modules/congestion_controller/receive_side_congestion_controller.cc",
        "patchSetId": 4
      },
      "lineNbr": 131,
      "author": {
        "id": 5578
      },
      "writtenOn": "2024-10-15T07:18:20Z",
      "side": 1,
      "message": "In what case can you not use RFC8888 even if ECN information is not present?  \nI would have expected that we should send either RFC888 or feedback using transport sequence numbers and it must be controlled via SDP (or field trial flags until it has been implemented). I hope to add support to WebRTC to also receive RFC888 feedback soon. \n \nWhat I am afraid of is that if a remote end dont send transport sequence number, and the flag send_rfc_8888_congestion_feedback_  is set the client will start sending RTCP REMB messages that the remote end will have to use as an upper limit.",
      "parentUuid": "4a388d4b_9075cde3",
      "range": {
        "startLine": 131,
        "startChar": 4,
        "endLine": 131,
        "endChar": 8
      },
      "revId": "553ac9282c1953b58ac7168d5a4dfb2a2a9ca5a8",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "abe207b4_0c4bf927",
        "filename": "modules/congestion_controller/receive_side_congestion_controller.cc",
        "patchSetId": 4
      },
      "lineNbr": 131,
      "author": {
        "id": 5634
      },
      "writtenOn": "2024-10-15T13:00:51Z",
      "side": 1,
      "message": "Using RFC 8888 should definitely not trigger sending of REMB. I\u0027d suggest an unit test checking that it doesn\u0027t if there\u0027s any doubt.\n\nDuring RFC 8888 finalization, I asked @holmer about whether 8888 had all the info we needed for transport-cc algorithm to work, and he said \"yes\". So we should only need one of them. (note: Claim not verified....)",
      "parentUuid": "eb0a8835_1eac90dc",
      "range": {
        "startLine": 131,
        "startChar": 4,
        "endLine": 131,
        "endChar": 8
      },
      "revId": "553ac9282c1953b58ac7168d5a4dfb2a2a9ca5a8",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "edaead16_c56d9375",
        "filename": "modules/congestion_controller/receive_side_congestion_controller.cc",
        "patchSetId": 4
      },
      "lineNbr": 131,
      "author": {
        "id": 17589
      },
      "writtenOn": "2024-10-15T21:40:45Z",
      "side": 1,
      "message": "We should be able to use RFC8888 info, it has almost all details as transport-cc. But our sender side algos are heavily dependent on transport-cc, we want to keep them unchanged for some time.\nWe are being cautious with new format. We understand the concern raised wrt REMB, our expectation is also it should not be triggered.\nAnother option would be to move only transport-cc code inside RFC8888 check. That way if transport sequence number is not present it would not trigger transport-cc and send only RFC8888 feedback.",
      "parentUuid": "abe207b4_0c4bf927",
      "range": {
        "startLine": 131,
        "startChar": 4,
        "endLine": 131,
        "endChar": 8
      },
      "revId": "553ac9282c1953b58ac7168d5a4dfb2a2a9ca5a8",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "43d24d1b_108bdcbb",
        "filename": "modules/congestion_controller/receive_side_congestion_controller.cc",
        "patchSetId": 4
      },
      "lineNbr": 131,
      "author": {
        "id": 5578
      },
      "writtenOn": "2024-10-16T06:57:25Z",
      "side": 1,
      "message": "OK by me if I understand correctly:\nIf RFC8888 has been negotiated, send feedback according to RFC8888\nIf transport sequence numbers on incoming packets are present - also send feedback according to the old feedback format. (regardless of negotiation for now?)\n\nIf RFC8888 has not  been negotiated, keep old logic. \n\n```\nbool has_transport_sequence_number \u003d\n      packet.HasExtension\u003cTransportSequenceNumber\u003e() ||\n      packet.HasExtension\u003cTransportSequenceNumberV2\u003e();\n\nif (send_rfc8888_congestion_feedback_) {\n    RTC_DCHECK_RUN_ON(\u0026sequence_checker_);\n    congestion_control_feedback_generator_.OnReceivedPacket(packet);\n    // and a comment here why with a todo to remove? \n    if (has_transport_sequence_number) {\n      transport_sequence_number_feedback_generator_.OnReceivedPacket(packet);\n    }\n    return\n}\n```",
      "parentUuid": "edaead16_c56d9375",
      "range": {
        "startLine": 131,
        "startChar": 4,
        "endLine": 131,
        "endChar": 8
      },
      "revId": "553ac9282c1953b58ac7168d5a4dfb2a2a9ca5a8",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "658e2b2f_e9289f42",
        "filename": "modules/congestion_controller/receive_side_congestion_controller.cc",
        "patchSetId": 4
      },
      "lineNbr": 131,
      "author": {
        "id": 17589
      },
      "writtenOn": "2024-10-16T17:49:01Z",
      "side": 1,
      "message": "Correct, this gives enough flexibility. We will follow up code update according to this discussion.",
      "parentUuid": "43d24d1b_108bdcbb",
      "range": {
        "startLine": 131,
        "startChar": 4,
        "endLine": 131,
        "endChar": 8
      },
      "revId": "553ac9282c1953b58ac7168d5a4dfb2a2a9ca5a8",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "44282ec7_cad6507f",
        "filename": "modules/congestion_controller/receive_side_congestion_controller.cc",
        "patchSetId": 4
      },
      "lineNbr": 131,
      "author": {
        "id": 20334
      },
      "writtenOn": "2024-10-18T06:45:23Z",
      "side": 1,
      "message": "@perkj@webrtc.org, @hta@webrtc.org Thanks for the feedback. Updated the patch.",
      "parentUuid": "658e2b2f_e9289f42",
      "range": {
        "startLine": 131,
        "startChar": 4,
        "endLine": 131,
        "endChar": 8
      },
      "revId": "553ac9282c1953b58ac7168d5a4dfb2a2a9ca5a8",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bf6f56cb_c439e27e",
        "filename": "modules/congestion_controller/receive_side_congestion_controller.cc",
        "patchSetId": 4
      },
      "lineNbr": 149,
      "author": {
        "id": 5578
      },
      "writtenOn": "2024-10-16T06:57:25Z",
      "side": 1,
      "message": "probably just move the min time check in here too and return.",
      "range": {
        "startLine": 149,
        "startChar": 24,
        "endLine": 149,
        "endChar": 62
      },
      "revId": "553ac9282c1953b58ac7168d5a4dfb2a2a9ca5a8",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc81a104_efa40dc6",
        "filename": "modules/congestion_controller/receive_side_congestion_controller.cc",
        "patchSetId": 4
      },
      "lineNbr": 149,
      "author": {
        "id": 17589
      },
      "writtenOn": "2024-10-16T17:49:01Z",
      "side": 1,
      "message": "Yes, makes sense.",
      "parentUuid": "bf6f56cb_c439e27e",
      "range": {
        "startLine": 149,
        "startChar": 24,
        "endLine": 149,
        "endChar": 62
      },
      "revId": "553ac9282c1953b58ac7168d5a4dfb2a2a9ca5a8",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "02df5446_6a004a3b",
        "filename": "modules/congestion_controller/receive_side_congestion_controller.cc",
        "patchSetId": 4
      },
      "lineNbr": 149,
      "author": {
        "id": 20334
      },
      "writtenOn": "2024-10-18T06:45:23Z",
      "side": 1,
      "message": "Updated.",
      "parentUuid": "dc81a104_efa40dc6",
      "range": {
        "startLine": 149,
        "startChar": 24,
        "endLine": 149,
        "endChar": 62
      },
      "revId": "553ac9282c1953b58ac7168d5a4dfb2a2a9ca5a8",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}