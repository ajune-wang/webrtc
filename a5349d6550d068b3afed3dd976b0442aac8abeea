{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "a21333a3_c4ef18f4",
        "filename": "rtc_base/system/no_cfi_icall.h",
        "patchSetId": 2
      },
      "lineNbr": 25,
      "author": {
        "id": 5087
      },
      "writtenOn": "2022-07-01T08:39:01Z",
      "side": 1,
      "message": "I think it is also good to wrap it into a \"#if !defined(DISABLE_CFI_ICALL)\n\" (like it is done https://source.chromium.org/chromium/chromium/src/+/main:base/compiler_specific.h;l\u003d173;drc\u003d64c67dd9c7e4d3b15e3f058b402f0c622dc9f2eb). This avoids the redefinition (e.g. if it is defined to something else, redefining can break the build).\n\nAlso https://source.chromium.org/chromium/chromium/src/+/main:base/compiler_specific.h;l\u003d181-183;drc\u003d64c67dd9c7e4d3b15e3f058b402f0c622dc9f2eb (define empty) is a good thing to do.",
      "range": {
        "startLine": 20,
        "startChar": 0,
        "endLine": 25,
        "endChar": 30
      },
      "revId": "a5349d6550d068b3afed3dd976b0442aac8abeea",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "418a526c_daac5e4a",
        "filename": "rtc_base/system/no_cfi_icall.h",
        "patchSetId": 2
      },
      "lineNbr": 25,
      "author": {
        "id": 9405
      },
      "writtenOn": "2022-07-01T08:52:25Z",
      "side": 1,
      "message": "If we wrap this with `#if !defined(DISABLE_CFI_ICALL)` then `!defined(WEBRTC_CHROMIUM_BUILD)` seems unnecessary.\n\nHere\u0027s the final version:\n```\n#if !defined(DISABLE_CFI_ICALL)\n#if defined(WEBRTC_WIN)\n// Windows also needs __declspec(guard(nocf)).\n#define DISABLE_CFI_ICALL RTC_NO_SANITIZE(\"cfi-icall\") __declspec(guard(nocf))\n#else\n#define DISABLE_CFI_ICALL RTC_NO_SANITIZE(\"cfi-icall\")\n#endif  // defined(WEBRTC_WIN)\n#endif  // !defined(DISABLE_CFI_ICALL)\n#if !defined(DISABLE_CFI_ICALL)\n#define DISABLE_CFI_ICALL\n#endif\n```",
      "parentUuid": "a21333a3_c4ef18f4",
      "range": {
        "startLine": 20,
        "startChar": 0,
        "endLine": 25,
        "endChar": 30
      },
      "revId": "a5349d6550d068b3afed3dd976b0442aac8abeea",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5b0033c0_8f7ea607",
        "filename": "rtc_base/system/no_cfi_icall.h",
        "patchSetId": 2
      },
      "lineNbr": 25,
      "author": {
        "id": 5087
      },
      "writtenOn": "2022-07-01T08:56:13Z",
      "side": 1,
      "message": "I think we still need it (to wrap all this) because since this is in the WebRTC repo, I want another check before we start using it (e.g. have a CL where the WEBRTC_CHROMIUM_BUILD gets removed with a good CL desc, since this is a Chromium only thing).",
      "parentUuid": "418a526c_daac5e4a",
      "range": {
        "startLine": 20,
        "startChar": 0,
        "endLine": 25,
        "endChar": 30
      },
      "revId": "a5349d6550d068b3afed3dd976b0442aac8abeea",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "52e87283_b14c4d6f",
        "filename": "rtc_base/system/no_cfi_icall.h",
        "patchSetId": 2
      },
      "lineNbr": 25,
      "author": {
        "id": 9405
      },
      "writtenOn": "2022-07-01T09:03:59Z",
      "side": 1,
      "message": "Understand. Done.",
      "parentUuid": "5b0033c0_8f7ea607",
      "range": {
        "startLine": 20,
        "startChar": 0,
        "endLine": 25,
        "endChar": 30
      },
      "revId": "a5349d6550d068b3afed3dd976b0442aac8abeea",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}