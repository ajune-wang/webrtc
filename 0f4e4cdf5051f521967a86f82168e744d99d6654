{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "e3d9e677_84928b4e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 5508
      },
      "writtenOn": "2021-02-08T09:20:25Z",
      "side": 1,
      "message": "FYI - a couple of follow up CLs that build on this one:\nhttps://webrtc-review.googlesource.com/c/src/+/206062\nhttps://webrtc-review.googlesource.com/c/src/+/206063",
      "revId": "0f4e4cdf5051f521967a86f82168e744d99d6654",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5d89a86a_c9c57521",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 5634
      },
      "writtenOn": "2021-02-08T11:00:44Z",
      "side": 1,
      "message": "Clarifying my commentary.\n",
      "revId": "0f4e4cdf5051f521967a86f82168e744d99d6654",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "852ac41c_b7cf4944",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 5634
      },
      "writtenOn": "2021-02-08T12:09:59Z",
      "side": 1,
      "message": "I\u0027m approving this.\n",
      "revId": "0f4e4cdf5051f521967a86f82168e744d99d6654",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c1ac8250_1bc5a4d9",
        "filename": "pc/peer_connection_integrationtest.cc",
        "patchSetId": 16
      },
      "lineNbr": 5950,
      "author": {
        "id": 5634
      },
      "writtenOn": "2021-02-08T12:09:59Z",
      "side": 1,
      "message": "Does ASSERT_EQ_WAIT in an invoke do the right thing if it fails?\nI recall having problems with ASSERT in a function, even, but that may have been long ago.",
      "revId": "0f4e4cdf5051f521967a86f82168e744d99d6654",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8476bc6f_4f1b0543",
        "filename": "pc/peer_connection_integrationtest.cc",
        "patchSetId": 16
      },
      "lineNbr": 5950,
      "author": {
        "id": 5508
      },
      "writtenOn": "2021-02-08T12:56:54Z",
      "side": 1,
      "message": "The ASSERT_EQ_WAIT macro is kind of a loop+sleep mechanism that retries an expression for a given timeout and running due tasks on the current thread in the meantime (it\u0027s a bit of a hack). In this case it does the \"right\" thing in terms of it does what it used to do, but this isn\u0027t the ideal way to test this imho.\n\nDespite the name, it\u0027s not related to the ASSERT() macro (not gtest\u0027s ASSERT) that maps to CRTs assert(). That method internally calls abort() which isn\u0027t debugger friendly (or helpful for collecting stack dumps).",
      "parentUuid": "c1ac8250_1bc5a4d9",
      "revId": "0f4e4cdf5051f521967a86f82168e744d99d6654",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6905de90_cd7e3cd0",
        "filename": "pc/peer_connection_integrationtest.cc",
        "patchSetId": 16
      },
      "lineNbr": 5950,
      "author": {
        "id": 5634
      },
      "writtenOn": "2021-02-08T14:08:50Z",
      "side": 1,
      "message": "What I was wondering about was whether it would actually fail the test if the test never became true, given that the ASSERT happens in a lambda that is executed on a different thread.\n\ngtest ASSERT_ seems to manage well with working inside functions, but I haven\u0027t tried it inside  invoked lambdas.",
      "parentUuid": "8476bc6f_4f1b0543",
      "revId": "0f4e4cdf5051f521967a86f82168e744d99d6654",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "88777885_2a8f4e57",
        "filename": "pc/peer_connection_integrationtest.cc",
        "patchSetId": 16
      },
      "lineNbr": 5950,
      "author": {
        "id": 5508
      },
      "writtenOn": "2021-02-08T14:19:39Z",
      "side": 1,
      "message": "You\u0027re right to be concerned. In this case, although the macro is declared in a header whose name is \"gunit.h\", there are very proprietary things going on:\n\nhttps://source.chromium.org/chromium/chromium/src/+/master:third_party/webrtc/rtc_base/gunit.h;drc\u003d0c626afcf387d16ba0ea35871690a0ca5bd11962;l\u003d30\n\nIn this case, it works OK because both contexts run with a valid rtc::Thread instance. It\u0027s not exactly clear though that the macro needs that.",
      "parentUuid": "6905de90_cd7e3cd0",
      "revId": "0f4e4cdf5051f521967a86f82168e744d99d6654",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b576a7b1_fd68ae24",
        "filename": "pc/sctp_transport.h",
        "patchSetId": 16
      },
      "lineNbr": 55,
      "author": {
        "id": 5634
      },
      "writtenOn": "2021-02-08T12:09:59Z",
      "side": 1,
      "message": "The reason this is possible now is because the QuicTransport implementation in Blink is removed. Perhaps we can make these functions private?",
      "revId": "0f4e4cdf5051f521967a86f82168e744d99d6654",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "308aadfc_d230286d",
        "filename": "pc/sctp_transport.h",
        "patchSetId": 16
      },
      "lineNbr": 55,
      "author": {
        "id": 5508
      },
      "writtenOn": "2021-02-08T12:56:54Z",
      "side": 1,
      "message": "turns out that internal() is still required by the tests at least.",
      "parentUuid": "b576a7b1_fd68ae24",
      "revId": "0f4e4cdf5051f521967a86f82168e744d99d6654",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}