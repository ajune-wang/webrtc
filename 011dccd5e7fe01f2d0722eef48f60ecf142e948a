{
  "comments": [
    {
      "key": {
        "uuid": "652744b1_f30b0d90",
        "filename": "modules/audio_processing/BUILD.gn",
        "patchSetId": 15
      },
      "lineNbr": 80,
      "author": {
        "id": 5087
      },
      "writtenOn": "2019-03-05T13:54:13Z",
      "side": 1,
      "message": "We can probably remove this one.",
      "range": {
        "startLine": 79,
        "startChar": 2,
        "endLine": 80,
        "endChar": 0
      },
      "revId": "011dccd5e7fe01f2d0722eef48f60ecf142e948a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7fb156db_edfff3ac",
        "filename": "modules/audio_processing/audio_processing_unittest.cc",
        "patchSetId": 15
      },
      "lineNbr": 1432,
      "author": {
        "id": 5087
      },
      "writtenOn": "2019-03-05T13:54:13Z",
      "side": 1,
      "message": "Nit: If this is part of webrtc:10366, I suggest you write \"TODO(bugs.webrtc.org/10366)\" and (if you are not planning to work on this right away) you can use \"Next action\" on the bug tracker to get a ping to switch to AEC3 later in time.",
      "range": {
        "startLine": 1432,
        "startChar": 2,
        "endLine": 1432,
        "endChar": 50
      },
      "revId": "011dccd5e7fe01f2d0722eef48f60ecf142e948a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "960bc685_8102141b",
        "filename": "modules/audio_processing/audio_processing_unittest.cc",
        "patchSetId": 15
      },
      "lineNbr": 2695,
      "author": {
        "id": 5119
      },
      "writtenOn": "2019-03-05T14:07:10Z",
      "side": 1,
      "message": "This looks upside-down, should we not equate use_legacy_aec with use_AEC2?",
      "range": {
        "startLine": 2695,
        "startChar": 0,
        "endLine": 2695,
        "endChar": 55
      },
      "revId": "011dccd5e7fe01f2d0722eef48f60ecf142e948a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "344874f1_d0a477b1",
        "filename": "modules/audio_processing/audio_processing_unittest.cc",
        "patchSetId": 15
      },
      "lineNbr": 2695,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-03-05T15:27:55Z",
      "side": 1,
      "message": "You are right! Good find! I\u0027ll fix.",
      "parentUuid": "960bc685_8102141b",
      "range": {
        "startLine": 2695,
        "startChar": 0,
        "endLine": 2695,
        "endChar": 55
      },
      "revId": "011dccd5e7fe01f2d0722eef48f60ecf142e948a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "265f6f71_053ea842",
        "filename": "modules/audio_processing/audio_processing_unittest.cc",
        "patchSetId": 15
      },
      "lineNbr": 2695,
      "author": {
        "id": 5119
      },
      "writtenOn": "2019-03-05T16:42:51Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "344874f1_d0a477b1",
      "range": {
        "startLine": 2695,
        "startChar": 0,
        "endLine": 2695,
        "endChar": 55
      },
      "revId": "011dccd5e7fe01f2d0722eef48f60ecf142e948a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "38038b7c_6fed0041",
        "filename": "modules/audio_processing/test/audio_processing_simulator.cc",
        "patchSetId": 15
      },
      "lineNbr": 375,
      "author": {
        "id": 5119
      },
      "writtenOn": "2019-03-05T14:07:10Z",
      "side": 1,
      "message": "As hinted by the flag descriptions in audioproc_float_impl.cc, shouldn\u0027t use_legacy_aec be separate from use_aec? Like this:\n\nbool use_legacy_aec \u003d settings_.use_legacy_aec \u0026\u0026 *settings_.use_legacy_aec;\nRTC_CHECK(!use_aec || !use_legacy_aec);",
      "range": {
        "startLine": 373,
        "startChar": 0,
        "endLine": 375,
        "endChar": 57
      },
      "revId": "011dccd5e7fe01f2d0722eef48f60ecf142e948a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c5ec7a1a_d68e48c0",
        "filename": "modules/audio_processing/test/audio_processing_simulator.cc",
        "patchSetId": 15
      },
      "lineNbr": 375,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-03-05T15:27:55Z",
      "side": 1,
      "message": "I was more thinking of it as a way to activate the usage of the legacy aec, when the AEC is used. Something similar to a mode of operation. \nI have always found it weird in the past that to run aec3 one should specify -aec 0 and -aec3 1\nI think it would be more natural is -aec specifies the aec effect on/off and the other flags specify aspects of that aec effect.\n\nWe could change that though. WDYT",
      "parentUuid": "38038b7c_6fed0041",
      "range": {
        "startLine": 373,
        "startChar": 0,
        "endLine": 375,
        "endChar": 57
      },
      "revId": "011dccd5e7fe01f2d0722eef48f60ecf142e948a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8028d90a_1a47a3e2",
        "filename": "modules/audio_processing/test/audio_processing_simulator.cc",
        "patchSetId": 15
      },
      "lineNbr": 375,
      "author": {
        "id": 5119
      },
      "writtenOn": "2019-03-05T16:42:51Z",
      "side": 1,
      "message": "Got it, I like your version better. I misinterpreted the flag docstrings, that\u0027s all. Thanks!",
      "parentUuid": "c5ec7a1a_d68e48c0",
      "range": {
        "startLine": 373,
        "startChar": 0,
        "endLine": 375,
        "endChar": 57
      },
      "revId": "011dccd5e7fe01f2d0722eef48f60ecf142e948a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e850cae6_5f85d566",
        "filename": "modules/audio_processing/test/audio_processing_simulator.cc",
        "patchSetId": 15
      },
      "lineNbr": 383,
      "author": {
        "id": 5119
      },
      "writtenOn": "2019-03-05T14:07:10Z",
      "side": 1,
      "message": "Isn\u0027t this just |use_aec|?",
      "range": {
        "startLine": 383,
        "startChar": 6,
        "endLine": 383,
        "endChar": 45
      },
      "revId": "011dccd5e7fe01f2d0722eef48f60ecf142e948a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "23d31d7a_4fbed3ba",
        "filename": "modules/audio_processing/test/audio_processing_simulator.cc",
        "patchSetId": 15
      },
      "lineNbr": 383,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-03-05T15:27:55Z",
      "side": 1,
      "message": "No, there are now two ways of activating aec3, either by just setting the aec enabled setting (in which case AEC3 factory method is not needed)  or by both using the aec enabled and parameter file setting, in which case a factory is needed. \nI wanted to make sure that the test program used both variants.",
      "parentUuid": "e850cae6_5f85d566",
      "range": {
        "startLine": 383,
        "startChar": 6,
        "endLine": 383,
        "endChar": 45
      },
      "revId": "011dccd5e7fe01f2d0722eef48f60ecf142e948a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "515ee8fd_73782235",
        "filename": "modules/audio_processing/test/audio_processing_simulator.cc",
        "patchSetId": 15
      },
      "lineNbr": 383,
      "author": {
        "id": 5119
      },
      "writtenOn": "2019-03-05T16:42:51Z",
      "side": 1,
      "message": "Oh, I was just saying that this expression, (settings_.use_aec \u0026\u0026 *settings_.use_aec), inside the if statement is assigned to the local bool |use_aec| on line 375. So writing if(use_aec) makes the code easier on the brain to parse.",
      "parentUuid": "23d31d7a_4fbed3ba",
      "range": {
        "startLine": 383,
        "startChar": 6,
        "endLine": 383,
        "endChar": 45
      },
      "revId": "011dccd5e7fe01f2d0722eef48f60ecf142e948a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "63bf55b5_b4b989fe",
        "filename": "modules/audio_processing/test/audio_processing_simulator.cc",
        "patchSetId": 15
      },
      "lineNbr": 385,
      "author": {
        "id": 5119
      },
      "writtenOn": "2019-03-05T14:07:10Z",
      "side": 1,
      "message": "It is impossible to enable aec2 without hitting this: |use_aec| is a necessary condition for |use_legacy_aec| to be true.\n\nIf intentional, how about changing the condition to:\nif(use_aec \u0026\u0026 !use_legacy_aec) { ... }",
      "range": {
        "startLine": 384,
        "startChar": 0,
        "endLine": 385,
        "endChar": 64
      },
      "revId": "011dccd5e7fe01f2d0722eef48f60ecf142e948a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9c7242a0_9a33422d",
        "filename": "modules/audio_processing/test/audio_processing_simulator.cc",
        "patchSetId": 15
      },
      "lineNbr": 385,
      "author": {
        "id": 5125
      },
      "writtenOn": "2019-03-05T15:27:55Z",
      "side": 1,
      "message": "No, if use_legacy_aec is on, but no aec3 parameter file is specified then this will not be hit.",
      "parentUuid": "63bf55b5_b4b989fe",
      "range": {
        "startLine": 384,
        "startChar": 0,
        "endLine": 385,
        "endChar": 64
      },
      "revId": "011dccd5e7fe01f2d0722eef48f60ecf142e948a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "57df6916_fadb2ca9",
        "filename": "modules/audio_processing/test/audio_processing_simulator.cc",
        "patchSetId": 15
      },
      "lineNbr": 385,
      "author": {
        "id": 5119
      },
      "writtenOn": "2019-03-05T16:42:51Z",
      "side": 1,
      "message": "I am confused :/\nIsn\u0027t the check for an aec3 param file not until two lines further down?\n\n387    if (settings_.aec_settings_filename) {",
      "parentUuid": "9c7242a0_9a33422d",
      "range": {
        "startLine": 384,
        "startChar": 0,
        "endLine": 385,
        "endChar": 64
      },
      "revId": "011dccd5e7fe01f2d0722eef48f60ecf142e948a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    }
  ]
}