{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "fdd25887_dafd3f65",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 5508
      },
      "writtenOn": "2021-05-14T16:33:13Z",
      "side": 1,
      "message": "Artem - can you take a look?",
      "revId": "09b1342ffb889196f0b1efe7bf872a730182fd62",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "23e09b6c_5998fb8c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 9515
      },
      "writtenOn": "2021-05-18T09:50:51Z",
      "side": 1,
      "message": "Friendly ping - land it or strand it?",
      "revId": "09b1342ffb889196f0b1efe7bf872a730182fd62",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "502e0382_3ded896e",
        "filename": "rtc_base/thread.cc",
        "patchSetId": 7
      },
      "lineNbr": 914,
      "author": {
        "id": 5508
      },
      "writtenOn": "2021-05-21T06:30:39Z",
      "side": 1,
      "message": "nit: Since there\u0027s no SendTask, suggest just \"Send\".\nAlternatively, if this is meant to be used for Invoke(), then the method could be called CheckThreadPoliciesBeforeInvoke().\n\nActually, since the current thread will be implicitly used, what about:\n\nCheckInvokePoliciesForCurrentThread()?\n\nThat also implies that it\u0027s OK to use the function wherever, not only before Send.",
      "revId": "09b1342ffb889196f0b1efe7bf872a730182fd62",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "149b25af_608e7803",
        "filename": "rtc_base/thread.cc",
        "patchSetId": 7
      },
      "lineNbr": 920,
      "author": {
        "id": 5508
      },
      "writtenOn": "2021-05-21T06:30:39Z",
      "side": 1,
      "message": "Since the function is used now independently of Send/Invoke, then this counter can\u0027t be inside this function. The functionality needs to somehow continue to be a part of the actual operation, not only checking the policies.",
      "revId": "09b1342ffb889196f0b1efe7bf872a730182fd62",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f991079e_548b85c7",
        "filename": "rtc_base/thread.cc",
        "patchSetId": 7
      },
      "lineNbr": 920,
      "author": {
        "id": 9515
      },
      "writtenOn": "2021-05-21T07:53:32Z",
      "side": 1,
      "message": "But it can technically be in this function. Right now there are no checks at all performed in Chromium. As long as the function is called once before the x-thread interaction the right things will happen. I realize it isn\u0027t 100% clean since clients overriding Send can choose to not call it or call it thrice.\n\nIf you don\u0027t like this, an alternative is to make a three-step affair where we\n1. invent say virtual SendToOtherThread which does the right thing here in rtc::Thread, and call it from Send. Chromium continues to override Send.\n2. Chromium changes to override SendInternal instead.\n3. Thread::Send is de-virtualized (modulo other overriders).\n\nWdyt?",
      "parentUuid": "149b25af_608e7803",
      "revId": "09b1342ffb889196f0b1efe7bf872a730182fd62",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fb4012b5_8b3ff8a4",
        "filename": "rtc_base/thread.h",
        "patchSetId": 7
      },
      "lineNbr": 554,
      "author": {
        "id": 5508
      },
      "writtenOn": "2021-05-21T06:30:39Z",
      "side": 1,
      "message": "can you improve the docs a bit? Explain what the function does, why it\u0027s needed and if there\u0027s specific context that\u0027s assumed (e.g. before Send()), give a brief usage example.",
      "revId": "09b1342ffb889196f0b1efe7bf872a730182fd62",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}