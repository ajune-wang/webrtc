{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "4f70d1f6_7ebc2694",
        "filename": "system_wrappers/source/field_trial.cc",
        "patchSetId": 3
      },
      "lineNbr": 40,
      "author": {
        "id": 13704
      },
      "writtenOn": "2023-10-03T10:21:36Z",
      "side": 1,
      "message": "What are you trying to achieve here? This should only be written once so why would there ever be concurrent writes to it? If that\u0027s the case it sounds like a bug at the callsite and not in WebRTC.\n\nBtw, there\u0027s an effort to get rid of this global string altogether [1], would that help your use case?\n\n[1] https://crbug.com/webrtc/10335",
      "revId": "67f6fbf6c58e87e90664b8e3d2018226df9a389e",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "535f171f_943ad188",
        "filename": "system_wrappers/source/field_trial.cc",
        "patchSetId": 3
      },
      "lineNbr": 40,
      "author": {
        "id": 12234
      },
      "writtenOn": "2023-10-03T13:19:04Z",
      "side": 1,
      "message": "Definitely could help my use case.\nCould you point me to the code that falls back to the global field trial string when \u0027FieldTrialsView\u0027 is not used ?",
      "parentUuid": "4f70d1f6_7ebc2694",
      "revId": "67f6fbf6c58e87e90664b8e3d2018226df9a389e",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b8c5e44_95f1e43b",
        "filename": "system_wrappers/source/field_trial.cc",
        "patchSetId": 3
      },
      "lineNbr": 40,
      "author": {
        "id": 13704
      },
      "writtenOn": "2023-10-03T14:07:51Z",
      "side": 1,
      "message": "Some field trials are always looked up in the global string through `field_trial::FindFullName`. Here you would need to propagate down a `FieldTrialsView` to be used instead.\n\nI think the main implementation of `FieldTrialsView` is `FieldTrials`. Depending on how it\u0027s constructed it may fall back to the global string instead of using its private map, see the implementation of `FieldTrials::GetValue` for details.",
      "parentUuid": "535f171f_943ad188",
      "revId": "67f6fbf6c58e87e90664b8e3d2018226df9a389e",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1581f693_624cba9d",
        "filename": "system_wrappers/source/field_trial.cc",
        "patchSetId": 3
      },
      "lineNbr": 40,
      "author": {
        "id": 12234
      },
      "writtenOn": "2023-10-03T14:10:28Z",
      "side": 1,
      "message": "I see the uses_global_ boolean makes the trick.\nThanks, I\u0027ll abandon this CL then.",
      "parentUuid": "6b8c5e44_95f1e43b",
      "revId": "67f6fbf6c58e87e90664b8e3d2018226df9a389e",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}