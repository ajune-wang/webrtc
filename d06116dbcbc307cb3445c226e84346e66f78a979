{
  "comments": [
    {
      "key": {
        "uuid": "5c9b3e2c_848c9a24",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 5053
      },
      "writtenOn": "2020-08-26T22:16:34Z",
      "side": 1,
      "message": "I\u0027m good with this approach; might want to check with Harald as well.",
      "revId": "d06116dbcbc307cb3445c226e84346e66f78a979",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0b4413f9_4153f772",
        "filename": "media/engine/webrtc_video_engine.cc",
        "patchSetId": 8
      },
      "lineNbr": 1509,
      "author": {
        "id": 5053
      },
      "writtenOn": "2020-08-26T22:16:34Z",
      "side": 1,
      "message": "I\u0027m still not clear on how there could be multiple default streams. Doesn\u0027t DefaultUnsignaledSsrcHandler prevents that? https://source.chromium.org/chromium/chromium/src/+/master:third_party/webrtc/media/engine/webrtc_video_engine.cc;l\u003d529;drc\u003dc70af83bc44f6829277cdc3621e7015d6e0d7530;bpv\u003d0;bpt\u003d0",
      "revId": "d06116dbcbc307cb3445c226e84346e66f78a979",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8cf7e0fd_cee6385e",
        "filename": "media/engine/webrtc_video_engine.cc",
        "patchSetId": 8
      },
      "lineNbr": 1509,
      "author": {
        "id": 5524
      },
      "writtenOn": "2020-08-27T15:09:34Z",
      "side": 1,
      "message": "It seems there is one such instance per WebRtcVideoChannel...\nhttps://source.chromium.org/chromium/chromium/src/+/master:third_party/webrtc/media/engine/webrtc_video_engine.h;drc\u003d3cb11f65d275e83b68fc2c8b707db37177f9a701;bpv\u003d1;bpt\u003d1;l\u003d576",
      "parentUuid": "0b4413f9_4153f772",
      "revId": "d06116dbcbc307cb3445c226e84346e66f78a979",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cd38a7d8_bd1e9cb0",
        "filename": "media/engine/webrtc_video_engine.cc",
        "patchSetId": 8
      },
      "lineNbr": 1509,
      "author": {
        "id": 5053
      },
      "writtenOn": "2020-08-27T22:42:07Z",
      "side": 1,
      "message": "Nevermind, I was confused because based on the description I thought https://webrtc-review.googlesource.com/c/src/+/172622 was changing from \"delete one stream\" to \"delete all streams\", so I was confused how this would make a difference if there is only one to begin with.\n\nBut it looks like before that CL *none* of the default streams were being deleted.",
      "parentUuid": "8cf7e0fd_cee6385e",
      "revId": "d06116dbcbc307cb3445c226e84346e66f78a979",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "23842398_c59dcc56",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 8
      },
      "lineNbr": 5904,
      "author": {
        "id": 5053
      },
      "writtenOn": "2020-08-26T22:16:34Z",
      "side": 1,
      "message": "Surprised I didn\u0027t notice this earlier, but we should only be doing this for the remote description, right? It\u0027s possible you could set a local offer with two video m\u003d sections but the answer could reject the second one.",
      "revId": "d06116dbcbc307cb3445c226e84346e66f78a979",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0ac00894_906f31ef",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 8
      },
      "lineNbr": 5904,
      "author": {
        "id": 5524
      },
      "writtenOn": "2020-08-27T15:09:34Z",
      "side": 1,
      "message": "Good catch, thanks!",
      "parentUuid": "23842398_c59dcc56",
      "revId": "d06116dbcbc307cb3445c226e84346e66f78a979",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0b33112c_963b4e52",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 8
      },
      "lineNbr": 5938,
      "author": {
        "id": 5053
      },
      "writtenOn": "2020-08-26T22:16:34Z",
      "side": 1,
      "message": "nit: This adds more worker thread invokes; would be nice if it could piggyback on SetRemoteContent. Unless that ends up being too difficult for whatever reason.",
      "revId": "d06116dbcbc307cb3445c226e84346e66f78a979",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "52e5eb3a_7cdfed76",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 8
      },
      "lineNbr": 5938,
      "author": {
        "id": 5524
      },
      "writtenOn": "2020-08-27T15:09:34Z",
      "side": 1,
      "message": "The transceiver instances are already created at this time, and I\u0027m not convinced that we guarantee that any default stream created is set on the first entry in transceivers_. If it\u0027s not we might still end up with a collision if we try to disable up update on a per channel basis.\n\nAlso this should only happen when the numbers of transceivers pass up or down past the 1 per type limit, so should be fairly uncommon.",
      "parentUuid": "0b33112c_963b4e52",
      "revId": "d06116dbcbc307cb3445c226e84346e66f78a979",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d8290fb8_8ebb87f8",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 8
      },
      "lineNbr": 5938,
      "author": {
        "id": 5053
      },
      "writtenOn": "2020-08-27T22:42:07Z",
      "side": 1,
      "message": "Ack; there is definitely some corner case where doing it one-by-one doesn\u0027t work, for example if the second transceiver had the default stream due to the first being send only, and then switching to send/receive.",
      "parentUuid": "52e5eb3a_7cdfed76",
      "revId": "d06116dbcbc307cb3445c226e84346e66f78a979",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a6e1163_68ee8e86",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 8
      },
      "lineNbr": 5947,
      "author": {
        "id": 5053
      },
      "writtenOn": "2020-08-26T22:16:34Z",
      "side": 1,
      "message": "This should also apply to any subsequently created channels.",
      "revId": "d06116dbcbc307cb3445c226e84346e66f78a979",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "897cc241_22cf2d64",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 8
      },
      "lineNbr": 5947,
      "author": {
        "id": 5524
      },
      "writtenOn": "2020-08-27T15:09:34Z",
      "side": 1,
      "message": "Ah, yes. I also assigned to allow_unsignalled_audio instead of allow_unsignalled_audio_ ...",
      "parentUuid": "5a6e1163_68ee8e86",
      "revId": "d06116dbcbc307cb3445c226e84346e66f78a979",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}