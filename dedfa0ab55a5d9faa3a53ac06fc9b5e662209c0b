{
  "comments": [
    {
      "key": {
        "uuid": "edd6b5a4_2ed29e0e",
        "filename": "modules/rtp_rtcp/source/rtp_packet_to_send.h",
        "patchSetId": 1
      },
      "lineNbr": 53,
      "author": {
        "id": 5019
      },
      "writtenOn": "2019-06-14T12:41:33Z",
      "side": 1,
      "message": "may be that indicates it shouldn\u0027t be called \u0027retransmitted_number\u0027 since it set on regular transmission.\nSuggestion ideas:\noriginal_(rtp_)sequence_number\nmedia_(rtp_)sequence_number",
      "range": {
        "startLine": 53,
        "startChar": 48,
        "endLine": 53,
        "endChar": 79
      },
      "revId": "dedfa0ab55a5d9faa3a53ac06fc9b5e662209c0b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b7b77807_247aac1a",
        "filename": "modules/rtp_rtcp/source/rtp_packet_to_send.h",
        "patchSetId": 1
      },
      "lineNbr": 53,
      "author": {
        "id": 5524
      },
      "writtenOn": "2019-06-14T14:16:25Z",
      "side": 1,
      "message": "I originally called it original_sequence_number but though it wasn\u0027t clear what exactly that meant. If the packet is FEC for instance could be assumed that it covers that.\nAlso thought about media_sequence_number but it\u0027s strange too when it\u0027s a non-RTX retransmission because it\u0027s still a media packet, with sequence_number() and media_sequence_number() being equal.\nThis way the use-case is more clear imo. But if you feel strongly about it I can rename it original_sequence_number.",
      "parentUuid": "edd6b5a4_2ed29e0e",
      "range": {
        "startLine": 53,
        "startChar": 48,
        "endLine": 53,
        "endChar": 79
      },
      "revId": "dedfa0ab55a5d9faa3a53ac06fc9b5e662209c0b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aaef8bce_c5eb46d9",
        "filename": "modules/rtp_rtcp/source/rtp_sender.cc",
        "patchSetId": 1
      },
      "lineNbr": 578,
      "author": {
        "id": 5019
      },
      "writtenOn": "2019-06-14T12:41:33Z",
      "side": 1,
      "message": "or\n**packet;",
      "range": {
        "startLine": 578,
        "startChar": 36,
        "endLine": 578,
        "endChar": 50
      },
      "revId": "dedfa0ab55a5d9faa3a53ac06fc9b5e662209c0b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9b4f6a96_55678919",
        "filename": "modules/rtp_rtcp/source/rtp_sender.cc",
        "patchSetId": 1
      },
      "lineNbr": 578,
      "author": {
        "id": 5524
      },
      "writtenOn": "2019-06-14T14:16:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "aaef8bce_c5eb46d9",
      "range": {
        "startLine": 578,
        "startChar": 36,
        "endLine": 578,
        "endChar": 50
      },
      "revId": "dedfa0ab55a5d9faa3a53ac06fc9b5e662209c0b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aef9f1cb_b93ccabb",
        "filename": "modules/rtp_rtcp/source/rtp_sender.cc",
        "patchSetId": 1
      },
      "lineNbr": 611,
      "author": {
        "id": 5019
      },
      "writtenOn": "2019-06-14T12:41:33Z",
      "side": 1,
      "message": "what about ulpfec?",
      "range": {
        "startLine": 611,
        "startChar": 27,
        "endLine": 611,
        "endChar": 40
      },
      "revId": "dedfa0ab55a5d9faa3a53ac06fc9b5e662209c0b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "074e469d_34bb26a4",
        "filename": "modules/rtp_rtcp/source/rtp_sender.cc",
        "patchSetId": 1
      },
      "lineNbr": 611,
      "author": {
        "id": 5524
      },
      "writtenOn": "2019-06-14T14:16:25Z",
      "side": 1,
      "message": "Ah, right - that\u0027s on the media ssrc. Added check + test.",
      "parentUuid": "aef9f1cb_b93ccabb",
      "range": {
        "startLine": 611,
        "startChar": 27,
        "endLine": 611,
        "endChar": 40
      },
      "revId": "dedfa0ab55a5d9faa3a53ac06fc9b5e662209c0b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da286b30_3d1a2e04",
        "filename": "modules/rtp_rtcp/source/rtp_sender.cc",
        "patchSetId": 1
      },
      "lineNbr": 618,
      "author": {
        "id": 5019
      },
      "writtenOn": "2019-06-14T12:41:33Z",
      "side": 1,
      "message": "I\u0027m confused: this bug is marked as fixed,\nbut from comment it feels like it is not (I mean just VideoTimingExtension).",
      "range": {
        "startLine": 618,
        "startChar": 9,
        "endLine": 618,
        "endChar": 20
      },
      "revId": "dedfa0ab55a5d9faa3a53ac06fc9b5e662209c0b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "deace5f3_7da54b6b",
        "filename": "modules/rtp_rtcp/source/rtp_sender.cc",
        "patchSetId": 1
      },
      "lineNbr": 618,
      "author": {
        "id": 5524
      },
      "writtenOn": "2019-06-14T14:16:25Z",
      "side": 1,
      "message": "+ilnik@ to comment.\nThis is just copied over from https://webrtc-review.googlesource.com/c/src/+/142165/1/modules/rtp_rtcp/source/rtp_sender.cc#707",
      "parentUuid": "da286b30_3d1a2e04",
      "range": {
        "startLine": 618,
        "startChar": 9,
        "endLine": 618,
        "endChar": 20
      },
      "revId": "dedfa0ab55a5d9faa3a53ac06fc9b5e662209c0b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d7c05df8_1378b63a",
        "filename": "modules/rtp_rtcp/source/rtp_sender.cc",
        "patchSetId": 1
      },
      "lineNbr": 644,
      "author": {
        "id": 5019
      },
      "writtenOn": "2019-06-14T12:41:33Z",
      "side": 1,
      "message": "may be combine to reduce scope of the packet_id variable:\nif (auto packet_id \u003d packet_to_send.GetExtension\u003c...\u003e()) {\n  options.packet_id \u003d *packet_id\n}",
      "range": {
        "startLine": 643,
        "startChar": 2,
        "endLine": 644,
        "endChar": 18
      },
      "revId": "dedfa0ab55a5d9faa3a53ac06fc9b5e662209c0b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "601f58ab_90c5cf6d",
        "filename": "modules/rtp_rtcp/source/rtp_sender.cc",
        "patchSetId": 1
      },
      "lineNbr": 644,
      "author": {
        "id": 5524
      },
      "writtenOn": "2019-06-14T14:16:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d7c05df8_1378b63a",
      "range": {
        "startLine": 643,
        "startChar": 2,
        "endLine": 644,
        "endChar": 18
      },
      "revId": "dedfa0ab55a5d9faa3a53ac06fc9b5e662209c0b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "169f396d_c6cf387c",
        "filename": "modules/rtp_rtcp/source/rtp_sender.cc",
        "patchSetId": 1
      },
      "lineNbr": 652,
      "author": {
        "id": 5019
      },
      "writtenOn": "2019-06-14T12:41:33Z",
      "side": 1,
      "message": "there is block above that grabs this critical section.\nmay be read force_part_of_allocation_ there.",
      "revId": "dedfa0ab55a5d9faa3a53ac06fc9b5e662209c0b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2575b0b0_154f0523",
        "filename": "modules/rtp_rtcp/source/rtp_sender.cc",
        "patchSetId": 1
      },
      "lineNbr": 652,
      "author": {
        "id": 5524
      },
      "writtenOn": "2019-06-14T14:16:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "169f396d_c6cf387c",
      "revId": "dedfa0ab55a5d9faa3a53ac06fc9b5e662209c0b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "89d8dd6c_414ee30b",
        "filename": "modules/rtp_rtcp/source/rtp_sender.cc",
        "patchSetId": 1
      },
      "lineNbr": 673,
      "author": {
        "id": 5019
      },
      "writtenOn": "2019-06-14T12:41:33Z",
      "side": 1,
      "message": "do you need to set retrasnmitted_sequence_number before putting the packet into the history?",
      "revId": "dedfa0ab55a5d9faa3a53ac06fc9b5e662209c0b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7470c43f_9c5e9338",
        "filename": "modules/rtp_rtcp/source/rtp_sender.cc",
        "patchSetId": 1
      },
      "lineNbr": 673,
      "author": {
        "id": 5524
      },
      "writtenOn": "2019-06-14T14:16:25Z",
      "side": 1,
      "message": "No. That property is intended to be set with the new pacer code-path when we _get_ a packet from history (in ReSendPacket()). It will then immediately be encapsulated in RTX and moved to the pacer queue. Therefore, when it\u0027s to send, we need the original sequence number back to mark that media packet as no longer being pending.\n\nI intend to add that code in a follow-up where the pre-pacer part is wired up.",
      "parentUuid": "89d8dd6c_414ee30b",
      "revId": "dedfa0ab55a5d9faa3a53ac06fc9b5e662209c0b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2c038916_61a0183a",
        "filename": "modules/rtp_rtcp/source/rtp_sender.cc",
        "patchSetId": 1
      },
      "lineNbr": 681,
      "author": {
        "id": 5019
      },
      "writtenOn": "2019-06-14T12:41:33Z",
      "side": 1,
      "message": "this looks like bug-prone code:\nat this point *packet is moved into packet_history_\nand thus you need guarantees it is not destroyed\nand not modified by some other component on a different thread.\n\nMay it is better to UpdateRtpStats before updating the packet_history_",
      "range": {
        "startLine": 681,
        "startChar": 19,
        "endLine": 681,
        "endChar": 33
      },
      "revId": "dedfa0ab55a5d9faa3a53ac06fc9b5e662209c0b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c6db5ae2_75d2f9df",
        "filename": "modules/rtp_rtcp/source/rtp_sender.cc",
        "patchSetId": 1
      },
      "lineNbr": 681,
      "author": {
        "id": 5524
      },
      "writtenOn": "2019-06-14T14:16:25Z",
      "side": 1,
      "message": "We probably also need to put packet in history before sending, in case there\u0027s a retransmission request which is faster then us putting the thing in the history, so let\u0027s just put a copy in there instead.",
      "parentUuid": "2c038916_61a0183a",
      "range": {
        "startLine": 681,
        "startChar": 19,
        "endLine": 681,
        "endChar": 33
      },
      "revId": "dedfa0ab55a5d9faa3a53ac06fc9b5e662209c0b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d2face01_d836112a",
        "filename": "modules/rtp_rtcp/source/rtp_sender.cc",
        "patchSetId": 1
      },
      "lineNbr": 688,
      "author": {
        "id": 5019
      },
      "writtenOn": "2019-06-14T12:41:33Z",
      "side": 1,
      "message": "even if !send_success ?\nmay be add a comment why is that.",
      "range": {
        "startLine": 688,
        "startChar": 9,
        "endLine": 688,
        "endChar": 13
      },
      "revId": "dedfa0ab55a5d9faa3a53ac06fc9b5e662209c0b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "893f2ed0_8fb4c0f9",
        "filename": "modules/rtp_rtcp/source/rtp_sender.cc",
        "patchSetId": 1
      },
      "lineNbr": 688,
      "author": {
        "id": 5524
      },
      "writtenOn": "2019-06-14T14:16:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d2face01_d836112a",
      "range": {
        "startLine": 688,
        "startChar": 9,
        "endLine": 688,
        "endChar": 13
      },
      "revId": "dedfa0ab55a5d9faa3a53ac06fc9b5e662209c0b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1ec2d1ef_c6f64852",
        "filename": "modules/rtp_rtcp/source/rtp_sender_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 1843,
      "author": {
        "id": 5019
      },
      "writtenOn": "2019-06-14T12:41:33Z",
      "side": 1,
      "message": "you set ssrc and next line completely overwrite the packet.\ndid you plan to SetSsrc after you recreate the packet?",
      "revId": "dedfa0ab55a5d9faa3a53ac06fc9b5e662209c0b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e3bda361_875f0644",
        "filename": "modules/rtp_rtcp/source/rtp_sender_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 1843,
      "author": {
        "id": 5524
      },
      "writtenOn": "2019-06-14T14:16:25Z",
      "side": 1,
      "message": "Yes, thanks for catching.\nA noop in this case since BuildRtpPacket() already assigns the media ssrc, I just wanted to be clear.",
      "parentUuid": "1ec2d1ef_c6f64852",
      "revId": "dedfa0ab55a5d9faa3a53ac06fc9b5e662209c0b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "67c6420b_d9e94b5c",
        "filename": "modules/rtp_rtcp/source/rtp_sender_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 1848,
      "author": {
        "id": 5019
      },
      "writtenOn": "2019-06-14T12:41:33Z",
      "side": 1,
      "message": "what developer suppose to do if due to refactoring this particular expectation fails?\n\nif it should work with audio - make a dedicated test.\nif it doesn\u0027t matter if it works with audio - do not add this expectation.",
      "range": {
        "startLine": 1848,
        "startChar": 27,
        "endLine": 1848,
        "endChar": 39
      },
      "revId": "dedfa0ab55a5d9faa3a53ac06fc9b5e662209c0b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42ee4c14_4556c12d",
        "filename": "modules/rtp_rtcp/source/rtp_sender_unittest.cc",
        "patchSetId": 1
      },
      "lineNbr": 1848,
      "author": {
        "id": 5524
      },
      "writtenOn": "2019-06-14T14:16:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "67c6420b_d9e94b5c",
      "range": {
        "startLine": 1848,
        "startChar": 27,
        "endLine": 1848,
        "endChar": 39
      },
      "revId": "dedfa0ab55a5d9faa3a53ac06fc9b5e662209c0b",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}