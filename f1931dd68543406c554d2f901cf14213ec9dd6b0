{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "92465bf8_ad01c138",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5053
      },
      "writtenOn": "2020-10-28T02:18:04Z",
      "side": 1,
      "message": "PTAL.\n\nI\u0027ll work on implementing a mock usrsctp interface after this, like I keep mentioning, so we can have test coverage for things like this.\n\nAny suggestions on how to go about that? My first thought would be to introduce a \"UsrsctpApi\" interface, with a static global default implementation which could be overwritten by a test. It would be convenient if we could just pass this interface into the SctpTransport constructor rather than have a global instance, but currently there are static methods that call usrsctp APIs themselves, so they need something static to refer to.",
      "revId": "f1931dd68543406c554d2f901cf14213ec9dd6b0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dccc485b_4aba9cad",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5087
      },
      "writtenOn": "2020-10-28T13:43:48Z",
      "side": 1,
      "message": "This should have been caught by MSan, are we missing a test?",
      "revId": "f1931dd68543406c554d2f901cf14213ec9dd6b0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4472308d_6c3116b9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5053
      },
      "writtenOn": "2020-10-28T18:56:30Z",
      "side": 1,
      "message": "We don\u0027t have test coverage for the usrsctp callbacks being invoked after transport closure, because that\u0027s only happening due to races that can\u0027t be repeatably reproduced. That\u0027s why adding a mock usrsctp interface should be a priority, see the comment above.",
      "parentUuid": "dccc485b_4aba9cad",
      "revId": "f1931dd68543406c554d2f901cf14213ec9dd6b0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ae53e569_0e9117f0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5087
      },
      "writtenOn": "2020-10-28T18:59:02Z",
      "side": 1,
      "message": "Got it, thanks.",
      "parentUuid": "4472308d_6c3116b9",
      "revId": "f1931dd68543406c554d2f901cf14213ec9dd6b0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}