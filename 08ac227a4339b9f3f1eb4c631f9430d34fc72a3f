{
  "comments": [
    {
      "key": {
        "uuid": "2ae2f783_aaf0bd79",
        "filename": "api/stats/rtcstats_objects.h",
        "patchSetId": 3
      },
      "lineNbr": 436,
      "author": {
        "id": 5077
      },
      "writtenOn": "2019-04-15T14:33:40Z",
      "side": 1,
      "message": "unsigned long long in spec.",
      "revId": "08ac227a4339b9f3f1eb4c631f9430d34fc72a3f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "29fded9d_8de13597",
        "filename": "api/stats/rtcstats_objects.h",
        "patchSetId": 3
      },
      "lineNbr": 436,
      "author": {
        "id": 5142
      },
      "writtenOn": "2019-04-15T15:50:32Z",
      "side": 1,
      "message": "Other counters use \"unsigned long\" (uint32_t) for packet counters and \"unsigned long long\" (uint64_t) for byte counters. Retransmitted packets deviating from this was not intentional (I filed this the other day: https://github.com/w3c/webrtc-stats/issues/425)... however, I\u0027m not sure that this pattern was intentional in the first place. Perhaps all counters should be \"unsigned long long\" (uint64_t), just like this one?\n\nI think uint64_t makes more sense, and it is what the spec currently says for these.\n\nI updated the CL to use uint64_t. If the spec changes it we can revisit later, both types are \u0027numbers\u0027 in JavaScript.",
      "parentUuid": "2ae2f783_aaf0bd79",
      "revId": "08ac227a4339b9f3f1eb4c631f9430d34fc72a3f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dde47e18_86ba8b7f",
        "filename": "audio/channel_send.cc",
        "patchSetId": 3
      },
      "lineNbr": 1084,
      "author": {
        "id": 5142
      },
      "writtenOn": "2019-04-10T07:43:04Z",
      "side": 1,
      "message": "I have a question. We have \"rtp_stats\" which includes both \"transmitted\" and \"retransmitted\".\nBut then we have \"rtx_stats\" as well. Is \"retransmitted\" ever applicable to RTX?\n\nPer-spec, if the RTX stream is a separate SSRC, this should belong to a separate RTC[In/Out]boundRtpStreamStats object. I wonder if there is follow-up work needed to properly represent RTX streams in stats?\n\nSometimes I think we make invalid assumptions in these layers. Somewhat related but a different issue: for example, if you have simulcast with 3 streams รก 30 fps, this gets reported as 90 fps.",
      "revId": "08ac227a4339b9f3f1eb4c631f9430d34fc72a3f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d893c222_8d947559",
        "filename": "audio/channel_send.cc",
        "patchSetId": 3
      },
      "lineNbr": 1084,
      "author": {
        "id": 5492
      },
      "writtenOn": "2019-04-10T13:07:57Z",
      "side": 1,
      "message": "\"retransmitted\" is set when packets are re-sent over RTX: https://cs.chromium.org/chromium/src/third_party/webrtc/modules/rtp_rtcp/source/rtp_sender.cc?g\u003d0\u0026l\u003d479\n\nstats.retransmitted_bytes_sent should perhaps only include retransmitted payload_bytes from the rtx_stats (if the rtx stream should be included) since padding packets could be sent over rtx but are not retransmissions: https://cs.chromium.org/chromium/src/third_party/webrtc/modules/rtp_rtcp/source/rtp_sender.cc?g\u003d0\u0026l\u003d419 (as change in webrtc_video_engine.cc)?\n\n\nOnly frames with different timestamps are accounted for when calculating the fps: https://cs.chromium.org/chromium/src/third_party/webrtc/video/send_statistics_proxy.cc?g\u003d0\u0026l\u003d969. So framerate should be 30 fps in this case.",
      "parentUuid": "dde47e18_86ba8b7f",
      "revId": "08ac227a4339b9f3f1eb4c631f9430d34fc72a3f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "85b5c6c7_4edca9f5",
        "filename": "audio/channel_send.cc",
        "patchSetId": 3
      },
      "lineNbr": 1084,
      "author": {
        "id": 5142
      },
      "writtenOn": "2019-04-15T15:50:32Z",
      "side": 1,
      "message": "This is my understanding of retransmissions, please correct me if I\u0027m wrong:\n1. You may have an \"RTX stream\" which has its own SSRC. The packets sent over this stream are retransmissions for other RTP streams (other SSRCs).\n2. You may otherwise handle retransmissions over the same RTP stream (same SSRC) as the original packets.\n\nThe retransmitted stats added in this CL should only reflect 2).\n\nIf packets are retransmitted due to 1), this should result in a separate \"outbound-rtp\" stats objects with its own bytesSent and packetsSent counters. Unless you retransmitt packets over the RTX stream that were already sent on the RTX stream, the retransmitted counters on the RTX stream would not be applicable. So probably the RTX stream would have its own CallSendStatistics.\n\nThis CL currently uses both \"rtp_stats.retransmitted\" and \"rtx_stats.transmitted\". Should it only use \"rtp_stats.retransmitted\"?",
      "parentUuid": "d893c222_8d947559",
      "revId": "08ac227a4339b9f3f1eb4c631f9430d34fc72a3f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9f49be88_c30e12a8",
        "filename": "audio/channel_send.cc",
        "patchSetId": 3
      },
      "lineNbr": 1084,
      "author": {
        "id": 5492
      },
      "writtenOn": "2019-04-16T08:00:18Z",
      "side": 1,
      "message": "I think so if the retransmit stats should only reflect 2) above.",
      "parentUuid": "85b5c6c7_4edca9f5",
      "revId": "08ac227a4339b9f3f1eb4c631f9430d34fc72a3f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "03d716f1_15167668",
        "filename": "audio/channel_send.cc",
        "patchSetId": 3
      },
      "lineNbr": 1084,
      "author": {
        "id": 5142
      },
      "writtenOn": "2019-04-16T11:53:31Z",
      "side": 1,
      "message": "OK. I updated the CL and filed https://crbug.com/webrtc/10555.",
      "parentUuid": "9f49be88_c30e12a8",
      "revId": "08ac227a4339b9f3f1eb4c631f9430d34fc72a3f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "41b67840_cf81798c",
        "filename": "audio/channel_send.h",
        "patchSetId": 3
      },
      "lineNbr": 42,
      "author": {
        "id": 5077
      },
      "writtenOn": "2019-04-15T14:33:40Z",
      "side": 1,
      "message": "This is unsigned long long in spec - should it be uint64_t instead?",
      "revId": "08ac227a4339b9f3f1eb4c631f9430d34fc72a3f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "69f41762_d3f485be",
        "filename": "audio/channel_send.h",
        "patchSetId": 3
      },
      "lineNbr": 42,
      "author": {
        "id": 5142
      },
      "writtenOn": "2019-04-15T15:50:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "41b67840_cf81798c",
      "revId": "08ac227a4339b9f3f1eb4c631f9430d34fc72a3f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7b2ed51e_e78389eb",
        "filename": "call/audio_send_stream.h",
        "patchSetId": 3
      },
      "lineNbr": 49,
      "author": {
        "id": 5077
      },
      "writtenOn": "2019-04-15T14:33:40Z",
      "side": 1,
      "message": "uint64_t",
      "revId": "08ac227a4339b9f3f1eb4c631f9430d34fc72a3f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a4a7baa1_a4de9eff",
        "filename": "call/audio_send_stream.h",
        "patchSetId": 3
      },
      "lineNbr": 49,
      "author": {
        "id": 5142
      },
      "writtenOn": "2019-04-15T15:50:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7b2ed51e_e78389eb",
      "revId": "08ac227a4339b9f3f1eb4c631f9430d34fc72a3f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "125afb3b_a9decc46",
        "filename": "media/base/media_channel.h",
        "patchSetId": 3
      },
      "lineNbr": 394,
      "author": {
        "id": 5077
      },
      "writtenOn": "2019-04-15T14:33:40Z",
      "side": 1,
      "message": "uint64_t?",
      "range": {
        "startLine": 394,
        "startChar": 39,
        "endLine": 394,
        "endChar": 40
      },
      "revId": "08ac227a4339b9f3f1eb4c631f9430d34fc72a3f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f9f2cb52_a758cd04",
        "filename": "media/base/media_channel.h",
        "patchSetId": 3
      },
      "lineNbr": 394,
      "author": {
        "id": 5142
      },
      "writtenOn": "2019-04-15T15:50:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "125afb3b_a9decc46",
      "range": {
        "startLine": 394,
        "startChar": 39,
        "endLine": 394,
        "endChar": 40
      },
      "revId": "08ac227a4339b9f3f1eb4c631f9430d34fc72a3f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}