{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "477467ae_043ab96b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 5524
      },
      "writtenOn": "2020-12-03T18:25:12Z",
      "side": 1,
      "message": "Should be fixed now, ptal",
      "revId": "2dc1cfb62bb03a942ab6eadf6bf640a75ece4ab4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "30b76b34_e83885f2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 5825
      },
      "writtenOn": "2020-12-04T09:11:43Z",
      "side": 1,
      "message": "A bit scared to approve such a large change without properÂ unit test coverage.",
      "revId": "2dc1cfb62bb03a942ab6eadf6bf640a75ece4ab4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f12681ec_13763134",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 5524
      },
      "writtenOn": "2020-12-04T13:14:38Z",
      "side": 1,
      "message": "I hear you. It\u0027s just very difficult to do unit testing right now.\nI\u0027ve actually started moving the libvpx functions to and interface similar to vp8 in order to be able to do proper testing.",
      "parentUuid": "30b76b34_e83885f2",
      "revId": "2dc1cfb62bb03a942ab6eadf6bf640a75ece4ab4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "316988cd_79278307",
        "filename": "modules/video_coding/codecs/vp9/vp9_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 808,
      "author": {
        "id": 6680
      },
      "writtenOn": "2020-12-03T20:04:19Z",
      "side": 1,
      "message": "In the case where use_svc_ is true and performance_flags_.use_per_layer_speed is false, won\u0027t skipping the assignment of svc_params_.speed_per_layer[] values be problematic (i.e., the call to vpx_codec_control(encoder_, VP9E_SET_SVC_PARAMETERS, \u0026svc_params_); at line 827 may contain svc_params_ values have not been assigned)?\n\nAlso in this use_svc_ is true and performance_flags_.use_per_layer_speed is false case, the conditions at lines 825 and 829 will both be true, which will result in 2 vpx_codec_control() calls.  Is this what you intended?",
      "revId": "2dc1cfb62bb03a942ab6eadf6bf640a75ece4ab4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e84eab46_d1e1e041",
        "filename": "modules/video_coding/codecs/vp9/vp9_impl.cc",
        "patchSetId": 4
      },
      "lineNbr": 808,
      "author": {
        "id": 5524
      },
      "writtenOn": "2020-12-04T13:14:38Z",
      "side": 1,
      "message": "\u003e In the case where use_svc_ is true and performance_flags_.use_per_layer_speed is false, won\u0027t skipping the assignment of svc_params_.speed_per_layer[] values be problematic (i.e., the call to vpx_codec_control(encoder_, VP9E_SET_SVC_PARAMETERS, \u0026svc_params_); at line 827 may contain svc_params_ values have not been assigned)?\n\nThat should be fine. Those fields were not populated prior to my change anyway.\nThe one question is what happens if we first configure svc, release and reinit with non-svc?\nI guess there is a chance the per-layer speed setting could stick around and override.\nI\u0027ll add a reset of the entire svc_prams_ struct on InitEncode(), that seems like a safe\nthing to do regardless.\n\n\u003e Also in this use_svc_ is true and performance_flags_.use_per_layer_speed is false case, the conditions at lines 825 and 829 will both be true, which will result in 2 vpx_codec_control() calls.  Is this what you intended?\n\nYes, that is how it worked prio to this change. See line 845 before patchset 0. We just use\nthe value from performance_flags_by_spatial_index_ instead of cpu_used_.",
      "parentUuid": "316988cd_79278307",
      "revId": "2dc1cfb62bb03a942ab6eadf6bf640a75ece4ab4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}