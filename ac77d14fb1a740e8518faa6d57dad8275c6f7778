{
  "comments": [
    {
      "key": {
        "uuid": "ddac2682_f7502cb4",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 4
      },
      "lineNbr": 2653,
      "author": {
        "id": 5142
      },
      "writtenOn": "2019-09-25T13:42:16Z",
      "side": 1,
      "message": "or kHaveRemoteOffer?",
      "revId": "ac77d14fb1a740e8518faa6d57dad8275c6f7778",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b53751e5_35d96373",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 4
      },
      "lineNbr": 2653,
      "author": {
        "id": 9279
      },
      "writtenOn": "2019-09-29T21:52:10Z",
      "side": 1,
      "message": "As far as I understood in that case no rollback is needed as you can apply several SRD in a row. Haven\u0027t tested this scenario though.",
      "parentUuid": "ddac2682_f7502cb4",
      "revId": "ac77d14fb1a740e8518faa6d57dad8275c6f7778",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "86d009fa_7e849ef3",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 4
      },
      "lineNbr": 2663,
      "author": {
        "id": 5142
      },
      "writtenOn": "2019-09-25T13:42:16Z",
      "side": 1,
      "message": "nit: Since this is exposed to JS where the attribute is called signalingState, how about \"Called in the wrong signalingState: ...\"",
      "revId": "ac77d14fb1a740e8518faa6d57dad8275c6f7778",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8b0688c5_0a69d147",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 4
      },
      "lineNbr": 2663,
      "author": {
        "id": 9279
      },
      "writtenOn": "2019-09-29T21:52:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "86d009fa_7e849ef3",
      "revId": "ac77d14fb1a740e8518faa6d57dad8275c6f7778",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "53f38bcb_ae2e4c71",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 4
      },
      "lineNbr": 3424,
      "author": {
        "id": 5142
      },
      "writtenOn": "2019-09-25T13:42:16Z",
      "side": 1,
      "message": "Considering mline_index is optional, do we need magical value -1 or can we use absl::nullopt?",
      "revId": "ac77d14fb1a740e8518faa6d57dad8275c6f7778",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca103dfc_380a9c66",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 4
      },
      "lineNbr": 3424,
      "author": {
        "id": 9279
      },
      "writtenOn": "2019-09-29T21:52:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "53f38bcb_ae2e4c71",
      "revId": "ac77d14fb1a740e8518faa6d57dad8275c6f7778",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f15fcdb4_592dd81e",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 4
      },
      "lineNbr": 7783,
      "author": {
        "id": 5142
      },
      "writtenOn": "2019-09-25T13:42:16Z",
      "side": 1,
      "message": "If this is a UP-only feature, DCHECK IsUnifiedPlan()",
      "revId": "ac77d14fb1a740e8518faa6d57dad8275c6f7778",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "27a6ba3c_138af689",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 4
      },
      "lineNbr": 7783,
      "author": {
        "id": 9279
      },
      "writtenOn": "2019-09-29T21:52:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f15fcdb4_592dd81e",
      "revId": "ac77d14fb1a740e8518faa6d57dad8275c6f7778",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e4d3a2d_edd632f4",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 4
      },
      "lineNbr": 7785,
      "author": {
        "id": 5142
      },
      "writtenOn": "2019-09-25T13:42:16Z",
      "side": 1,
      "message": "Prefer explicit names to abbreviations:\n\nfor (auto\u0026 transceiver_stable_state_pair : transceiver_stable_state_by_transceivers_) {\n  auto\u0026 transceiver \u003d transceiver_stable_state_pair.first();\n  auto\u0026 transceiver_stable_state \u003d transceiver_stable_state_pair.second();\n  ...",
      "revId": "ac77d14fb1a740e8518faa6d57dad8275c6f7778",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0d034fe1_3c48ceec",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 4
      },
      "lineNbr": 7785,
      "author": {
        "id": 9279
      },
      "writtenOn": "2019-09-29T21:52:10Z",
      "side": 1,
      "message": "Generally agree, but it doesn\u0027t play well with 80 char lines",
      "parentUuid": "4e4d3a2d_edd632f4",
      "revId": "ac77d14fb1a740e8518faa6d57dad8275c6f7778",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7d6cd372_38e4307a",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 4
      },
      "lineNbr": 7787,
      "author": {
        "id": 5142
      },
      "writtenOn": "2019-09-25T13:42:16Z",
      "side": 1,
      "message": "You usually don\u0027t see IsCurrent() outside of DCHECKs, is there a thread difference between test code and real code or why did you add this?\n\nIn any case, can you remove the if and always do an Invoke? If we\u0027re on the same thread I believe the code will get invoked in-place anyway.",
      "revId": "ac77d14fb1a740e8518faa6d57dad8275c6f7778",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76c06009_eb1bb529",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 4
      },
      "lineNbr": 7787,
      "author": {
        "id": 9279
      },
      "writtenOn": "2019-09-29T21:52:10Z",
      "side": 1,
      "message": "If Invoke from already correct thread is no-op then IsCurrent() is redundant indeed.",
      "parentUuid": "7d6cd372_38e4307a",
      "revId": "ac77d14fb1a740e8518faa6d57dad8275c6f7778",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da2afcea_a2186c36",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 4
      },
      "lineNbr": 7798,
      "author": {
        "id": 5142
      },
      "writtenOn": "2019-09-25T13:42:16Z",
      "side": 1,
      "message": "We use static_cast\u003csize_t\u003e() for casting, but I would like us to avoid magical values. Either nullopt or a separate boolean to indicate the meaning.",
      "revId": "ac77d14fb1a740e8518faa6d57dad8275c6f7778",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad1ec3c3_88e02f18",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 4
      },
      "lineNbr": 7798,
      "author": {
        "id": 9279
      },
      "writtenOn": "2019-09-29T21:52:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "da2afcea_a2186c36",
      "revId": "ac77d14fb1a740e8518faa6d57dad8275c6f7778",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9d2699a9_fb1f3583",
        "filename": "pc/peer_connection.h",
        "patchSetId": 4
      },
      "lineNbr": 397,
      "author": {
        "id": 5142
      },
      "writtenOn": "2019-09-25T13:42:16Z",
      "side": 1,
      "message": "Is rollback supported only in Unified Plan or in both Plan B and Unified Plan?\nIt\u0027s OK to only ship it in Unified Plan if that is less work, we\u0027ve shipped things only in UP before in order not to have to maintain more complexity.\n\nI\u0027d like a comment on this, and if not supported in Plan B that we fail the operation, and that we test this. If supported in both modes we should have testing for both modes. INSTANTIATE_TEST_SUITE_P can be used for that, e.g. https://cs.chromium.org/chromium/src/third_party/webrtc/pc/peer_connection_integrationtest.cc?q\u003dpeer_connection_integrationtest.cc\u0026sq\u003dpackage:chromium\u0026dr\u0026l\u003d5597",
      "revId": "ac77d14fb1a740e8518faa6d57dad8275c6f7778",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1c3ffd1f_fbab7c41",
        "filename": "pc/peer_connection.h",
        "patchSetId": 4
      },
      "lineNbr": 397,
      "author": {
        "id": 9279
      },
      "writtenOn": "2019-09-29T21:52:10Z",
      "side": 1,
      "message": "Rollback is supported only in Unified Plan",
      "parentUuid": "9d2699a9_fb1f3583",
      "revId": "ac77d14fb1a740e8518faa6d57dad8275c6f7778",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f580b18a_80a11d32",
        "filename": "pc/peer_connection.h",
        "patchSetId": 4
      },
      "lineNbr": 1316,
      "author": {
        "id": 5142
      },
      "writtenOn": "2019-09-25T13:42:16Z",
      "side": 1,
      "message": "Can you add more documentation about the lifetime of these states? When is this map empty / not empty?\n\nI suggest naming it transceiver_stable_state_by_transceivers_",
      "revId": "ac77d14fb1a740e8518faa6d57dad8275c6f7778",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9ae3afa4_be0715c1",
        "filename": "pc/peer_connection.h",
        "patchSetId": 4
      },
      "lineNbr": 1316,
      "author": {
        "id": 9279
      },
      "writtenOn": "2019-09-29T21:52:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f580b18a_80a11d32",
      "revId": "ac77d14fb1a740e8518faa6d57dad8275c6f7778",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e084b006_18528c63",
        "filename": "pc/peer_connection_integrationtest.cc",
        "patchSetId": 4
      },
      "lineNbr": 5541,
      "author": {
        "id": 5142
      },
      "writtenOn": "2019-09-25T13:42:16Z",
      "side": 1,
      "message": "I would like to see more extensive test coverage in the C++ layer, including equivalents of all the tests that you added to WPT in https://chromium-review.googlesource.com/c/chromium/src/+/1790443, and that these are exercised in both Unified Plan and Plan B, or that they are exercised only in Unified Plan and that we test that \"rollback\" throws in Plan B.",
      "revId": "ac77d14fb1a740e8518faa6d57dad8275c6f7778",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d3f435d0_45ee7a34",
        "filename": "pc/peer_connection_integrationtest.cc",
        "patchSetId": 4
      },
      "lineNbr": 5541,
      "author": {
        "id": 9279
      },
      "writtenOn": "2019-09-29T21:52:10Z",
      "side": 1,
      "message": "I will add some more but native tests tend to be quite verbose compared to wpt. Please have a look if I am on right track on adding native tests",
      "parentUuid": "e084b006_18528c63",
      "revId": "ac77d14fb1a740e8518faa6d57dad8275c6f7778",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    }
  ]
}