{
  "comments": [
    {
      "key": {
        "uuid": "d81dcfc5_0952f107",
        "filename": "logging/rtc_event_log/rtc_event_log2.proto",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 5742
      },
      "writtenOn": "2017-10-12T23:45:25Z",
      "side": 1,
      "message": "One thing that worries me is the reliance on order.\nI know why we want to do it, but I believe comments should stress the importance of the ordering of each repeated field in this log.",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 13,
        "endChar": 21
      },
      "revId": "73b3c325c3e8b69c151a807c5bf997a6afe6c0ed",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8f190fdb_a73d1f5f",
        "filename": "logging/rtc_event_log/rtc_event_log2.proto",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 5150
      },
      "writtenOn": "2017-10-26T14:25:58Z",
      "side": 1,
      "message": "Could you clarify this?",
      "parentUuid": "d81dcfc5_0952f107",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 13,
        "endChar": 21
      },
      "revId": "73b3c325c3e8b69c151a807c5bf997a6afe6c0ed",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1c1154ce_210a77fe",
        "filename": "logging/rtc_event_log/rtc_event_log2.proto",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 5789
      },
      "writtenOn": "2017-10-30T09:16:19Z",
      "side": 1,
      "message": "If we have micros, there will be more information about the order of events, compared to what we would get using millis. If we switch to millis, we will have to preserve the order of events (because shuffling them would destroy that information). Is that correct?",
      "parentUuid": "8f190fdb_a73d1f5f",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 13,
        "endChar": 21
      },
      "revId": "73b3c325c3e8b69c151a807c5bf997a6afe6c0ed",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "de3da3b9_2f276706",
        "filename": "logging/rtc_event_log/rtc_event_log2.proto",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 5150
      },
      "writtenOn": "2017-10-30T09:51:38Z",
      "side": 1,
      "message": "We will lose even more of the order with the new format though. See my response to your other comment below.\n\nFwiw, we don\u0027t always have microsecond resolution right now. The Windows clock in particular only has millisecond accuracy, so we are essentially just wasting 10 bits trying to store a microsecond timestamp. This is imo the primary reason for changing to milliseconds.",
      "parentUuid": "1c1154ce_210a77fe",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 13,
        "endChar": 21
      },
      "revId": "73b3c325c3e8b69c151a807c5bf997a6afe6c0ed",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "93cc7abc_cb98f0a9",
        "filename": "logging/rtc_event_log/rtc_event_log2.proto",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 5789
      },
      "writtenOn": "2017-10-30T09:52:22Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "de3da3b9_2f276706",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 13,
        "endChar": 21
      },
      "revId": "73b3c325c3e8b69c151a807c5bf997a6afe6c0ed",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4831917a_ad991d66",
        "filename": "logging/rtc_event_log/rtc_event_log2.proto",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 5742
      },
      "writtenOn": "2017-10-12T23:45:25Z",
      "side": 1,
      "message": "this",
      "range": {
        "startLine": 16,
        "startChar": 49,
        "endLine": 16,
        "endChar": 52
      },
      "revId": "73b3c325c3e8b69c151a807c5bf997a6afe6c0ed",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2c311f27_e320e678",
        "filename": "logging/rtc_event_log/rtc_event_log2.proto",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 5150
      },
      "writtenOn": "2017-10-26T14:25:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4831917a_ad991d66",
      "range": {
        "startLine": 16,
        "startChar": 49,
        "endLine": 16,
        "endChar": 52
      },
      "revId": "73b3c325c3e8b69c151a807c5bf997a6afe6c0ed",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8772ef02_45510d2a",
        "filename": "logging/rtc_event_log/rtc_event_log2.proto",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 5742
      },
      "writtenOn": "2017-10-12T23:45:25Z",
      "side": 1,
      "message": "Logs can be decoded into structs as long as for each event type, the corresponding subsequence of batches (i.e. batches with the oneof value of that type) has correct order. No matter how that subsequence of batches is interspersed among batches of other types of events.\n\nHowever,decoding could be made simpler if sequences of batches were written alongside sequences of event types. The drawback of that would be some more constant overhead to the EventStream. Do we care about that, or are we ok with it being amortized over the repeated fields within?\n\n// Example pairing.\nmessage IncomingRtpPackets {\n repeated IncomingRtpPacket incoming_rtp_packets \u003d 1;\n repeated Batch batches \u003d 2;\n}",
      "range": {
        "startLine": 29,
        "startChar": 0,
        "endLine": 29,
        "endChar": 30
      },
      "revId": "73b3c325c3e8b69c151a807c5bf997a6afe6c0ed",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e58b8b10_51835283",
        "filename": "logging/rtc_event_log/rtc_event_log2.proto",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 5150
      },
      "writtenOn": "2017-10-26T14:25:58Z",
      "side": 1,
      "message": "Done as discussed offline.",
      "parentUuid": "8772ef02_45510d2a",
      "range": {
        "startLine": 29,
        "startChar": 0,
        "endLine": 29,
        "endChar": 30
      },
      "revId": "73b3c325c3e8b69c151a807c5bf997a6afe6c0ed",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "20db076c_c5b7e62c",
        "filename": "logging/rtc_event_log/rtc_event_log2.proto",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 5789
      },
      "writtenOn": "2017-10-30T09:16:19Z",
      "side": 1,
      "message": "Resolved.",
      "parentUuid": "e58b8b10_51835283",
      "range": {
        "startLine": 29,
        "startChar": 0,
        "endLine": 29,
        "endChar": 30
      },
      "revId": "73b3c325c3e8b69c151a807c5bf997a6afe6c0ed",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fad7795e_428c1348",
        "filename": "logging/rtc_event_log/rtc_event_log2.proto",
        "patchSetId": 1
      },
      "lineNbr": 98,
      "author": {
        "id": 5742
      },
      "writtenOn": "2017-10-12T23:45:25Z",
      "side": 1,
      "message": "Since we already depend on ordering of several repeated fields, I\u0027m okay with ms if WebRTC people are.",
      "range": {
        "startLine": 98,
        "startChar": 61,
        "endLine": 98,
        "endChar": 63
      },
      "revId": "73b3c325c3e8b69c151a807c5bf997a6afe6c0ed",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "30e16255_21f3b062",
        "filename": "logging/rtc_event_log/rtc_event_log2.proto",
        "patchSetId": 1
      },
      "lineNbr": 98,
      "author": {
        "id": 5150
      },
      "writtenOn": "2017-10-26T14:25:58Z",
      "side": 1,
      "message": "Note that we won\u0027t be able to recover the exact order between events. For example, we might log an RTCP the same millisecond that we log a BWE reduction. We won\u0027t be able to tell which happened first, but will have to rely on heuristics like \"if the RTCP contained lots of loss then it is probably the cause of the BWE reduction\". \n\nThis can even happen between events of the same event type since we are planning to encode RTP packets for different SSRCs as separate batches.",
      "parentUuid": "fad7795e_428c1348",
      "range": {
        "startLine": 98,
        "startChar": 61,
        "endLine": 98,
        "endChar": 63
      },
      "revId": "73b3c325c3e8b69c151a807c5bf997a6afe6c0ed",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d21f76e1_3410e545",
        "filename": "logging/rtc_event_log/rtc_event_log2.proto",
        "patchSetId": 1
      },
      "lineNbr": 98,
      "author": {
        "id": 5789
      },
      "writtenOn": "2017-10-30T09:52:22Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "30e16255_21f3b062",
      "range": {
        "startLine": 98,
        "startChar": 61,
        "endLine": 98,
        "endChar": 63
      },
      "revId": "73b3c325c3e8b69c151a807c5bf997a6afe6c0ed",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "88330483_45e5d3f0",
        "filename": "logging/rtc_event_log/rtc_event_log2.proto",
        "patchSetId": 1
      },
      "lineNbr": 124,
      "author": {
        "id": 5742
      },
      "writtenOn": "2017-10-12T23:45:25Z",
      "side": 1,
      "message": "uint32?",
      "range": {
        "startLine": 124,
        "startChar": 11,
        "endLine": 124,
        "endChar": 16
      },
      "revId": "73b3c325c3e8b69c151a807c5bf997a6afe6c0ed",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3fe74908_18bce756",
        "filename": "logging/rtc_event_log/rtc_event_log2.proto",
        "patchSetId": 1
      },
      "lineNbr": 124,
      "author": {
        "id": 5150
      },
      "writtenOn": "2017-10-26T14:25:58Z",
      "side": 1,
      "message": "I\u0027ve changes this and a few other places but it is not entirely trivial. The C style guide prefers signed and the actual C-code uses a mixture of signed an unsigned. Regardless of what we chose, we might end up with a bunch of implicit casts.",
      "parentUuid": "88330483_45e5d3f0",
      "range": {
        "startLine": 124,
        "startChar": 11,
        "endLine": 124,
        "endChar": 16
      },
      "revId": "73b3c325c3e8b69c151a807c5bf997a6afe6c0ed",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f06d4fb3_46da9802",
        "filename": "logging/rtc_event_log/rtc_event_log2.proto",
        "patchSetId": 1
      },
      "lineNbr": 124,
      "author": {
        "id": 5789
      },
      "writtenOn": "2017-10-30T09:16:19Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "3fe74908_18bce756",
      "range": {
        "startLine": 124,
        "startChar": 11,
        "endLine": 124,
        "endChar": 16
      },
      "revId": "73b3c325c3e8b69c151a807c5bf997a6afe6c0ed",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}