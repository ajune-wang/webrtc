{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "f4ab00a1_e07754aa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 14134
      },
      "writtenOn": "2022-08-31T21:06:22Z",
      "side": 1,
      "message": "OK, still LGTM.   alcooper@, did you want to review this?",
      "revId": "c8a16425d6cbd0daf7f44911e8710dac1d2fadab",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b7900ba9_ef3bca64",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 18474
      },
      "writtenOn": "2022-08-31T21:26:23Z",
      "side": 1,
      "message": "Skimmed through this, mainly defferring to your review; but a couple of spots did catch my eye that I think need the RTC_NO_SANITIZE(\"cfi-icall\") decoration.",
      "parentUuid": "f4ab00a1_e07754aa",
      "revId": "c8a16425d6cbd0daf7f44911e8710dac1d2fadab",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "09ff1041_4be423cb",
        "filename": "common_video/linux/portal/pipewire_utils.cc",
        "patchSetId": 9
      },
      "lineNbr": 32,
      "author": {
        "id": 18474
      },
      "writtenOn": "2022-08-31T21:26:23Z",
      "side": 1,
      "message": "I believe InitializeStubs requires adding:\n`RTC_NO_SANITIZE(\"cfi-icall\")`\nTo this method (above it).\n\nThis maybe currently avoids errors since the method that currently calls it is decorated as such (and it looks like it makes other lock, etc. calls that need it), but I think for correctness we should decorate this method.",
      "revId": "c8a16425d6cbd0daf7f44911e8710dac1d2fadab",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "00d8ad64_f91a283e",
        "filename": "common_video/linux/portal/pipewire_utils.cc",
        "patchSetId": 9
      },
      "lineNbr": 32,
      "author": {
        "id": 9816
      },
      "writtenOn": "2022-09-01T07:02:34Z",
      "side": 1,
      "message": "I was unaware of that. I\u0027m not sure if I understand this fully. When exactly is this needed? For the InitializeStubs() called here? In that case, I should probably remove it from SharedScreenCastStreamPrivate::StartScreenCastStream() since it\u0027s no longer needed there.",
      "parentUuid": "09ff1041_4be423cb",
      "revId": "c8a16425d6cbd0daf7f44911e8710dac1d2fadab",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "90e1c2d9_17d9baf0",
        "filename": "common_video/linux/portal/pipewire_utils.cc",
        "patchSetId": 9
      },
      "lineNbr": 32,
      "author": {
        "id": 8046
      },
      "writtenOn": "2022-09-01T07:07:50Z",
      "side": 1,
      "message": "We used to have issues (crashes) because of this, because Chrome has some strict checks when it comes to dlopening so we had to put these checks in various places where we do either dlopen, or where functions gets inlined etc. You will not be able to reproduce this when Chromium is built with \"is_official\u003dfalse\". See https://webrtc-review.googlesource.com/c/src/+/261300 for example.",
      "parentUuid": "00d8ad64_f91a283e",
      "revId": "c8a16425d6cbd0daf7f44911e8710dac1d2fadab",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "30112cdd_d79ac77d",
        "filename": "common_video/linux/portal/pipewire_utils.cc",
        "patchSetId": 9
      },
      "lineNbr": 53,
      "author": {
        "id": 18474
      },
      "writtenOn": "2022-08-31T21:26:23Z",
      "side": 1,
      "message": "I am not sure, but *think* these may qualify as indirect calls as well (IIRC from the usage in shared_screencast_stream).\n\nNote that similar to the above, the callers may already be decorated as such and that\u0027s why we avoid issues; but I think for correctness they should be decorated.",
      "revId": "c8a16425d6cbd0daf7f44911e8710dac1d2fadab",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b5c036de_0a2bec1a",
        "filename": "common_video/linux/portal/pipewire_utils.cc",
        "patchSetId": 9
      },
      "lineNbr": 53,
      "author": {
        "id": 9816
      },
      "writtenOn": "2022-09-01T07:02:34Z",
      "side": 1,
      "message": "From what I can tell, the stub for pw_thread_loop_lock() is generated with DISABLE_CFI_ICALL so I don\u0027t think it\u0027s necessary to add it again. Or am I missing something here?\n\nEither way, I\u0027m just moving this code around and I\u0027d like to avoid unrelated changes.",
      "parentUuid": "30112cdd_d79ac77d",
      "revId": "c8a16425d6cbd0daf7f44911e8710dac1d2fadab",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}