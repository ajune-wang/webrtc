{
  "comments": [
    {
      "key": {
        "uuid": "6acc77eb_63ffad4f",
        "filename": "modules/congestion_controller/rtp/include/send_side_congestion_controller.h",
        "patchSetId": 1
      },
      "lineNbr": 82,
      "author": {
        "id": 5234
      },
      "writtenOn": "2018-04-27T09:49:52Z",
      "side": 1,
      "message": "\"_with_feedback\" is unexpectedly specific. If intended, deserves a comment. And no \"_\" suffix on arguments.",
      "range": {
        "startLine": 82,
        "startChar": 10,
        "endLine": 82,
        "endChar": 43
      },
      "revId": "b733804b47b87c1477f35d3d8db853096f915c7f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "240d98b8_0c115ace",
        "filename": "modules/congestion_controller/rtp/include/send_side_congestion_controller.h",
        "patchSetId": 1
      },
      "lineNbr": 82,
      "author": {
        "id": 5531
      },
      "writtenOn": "2018-04-27T10:36:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6acc77eb_63ffad4f",
      "range": {
        "startLine": 82,
        "startChar": 10,
        "endLine": 82,
        "endChar": 43
      },
      "revId": "b733804b47b87c1477f35d3d8db853096f915c7f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8bdcbe26_60d4813a",
        "filename": "modules/congestion_controller/rtp/send_side_congestion_controller.cc",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 5234
      },
      "writtenOn": "2018-04-27T09:49:52Z",
      "side": 1,
      "message": "So BBR experiment overrides application injection? Is that right?\n\nI would expect the application to get what it asks for, and then do its own experiment to be able to switch between application specific controller and webrtc\u0027s bbr.",
      "range": {
        "startLine": 56,
        "startChar": 6,
        "endLine": 56,
        "endChar": 58
      },
      "revId": "b733804b47b87c1477f35d3d8db853096f915c7f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "378ada82_af16a88d",
        "filename": "modules/congestion_controller/rtp/send_side_congestion_controller.cc",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 5531
      },
      "writtenOn": "2018-04-27T10:36:01Z",
      "side": 1,
      "message": "The experiment itself is set either with the \"BBR\" as argument or with \"Injected\" as argument. so it\u0027s not possible to enable both at once.\n\nI guess this could be better expressed in the interface but returning an enum, but that seems like more work than benefit.",
      "parentUuid": "8bdcbe26_60d4813a",
      "range": {
        "startLine": 56,
        "startChar": 6,
        "endLine": 56,
        "endChar": 58
      },
      "revId": "b733804b47b87c1477f35d3d8db853096f915c7f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "22d3b865_64b1f9de",
        "filename": "modules/congestion_controller/rtp/send_side_congestion_controller.cc",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 5234
      },
      "writtenOn": "2018-04-27T12:12:53Z",
      "side": 1,
      "message": "Why would you need to pass a BBR factory as an argument, for the experiment?",
      "parentUuid": "378ada82_af16a88d",
      "range": {
        "startLine": 56,
        "startChar": 6,
        "endLine": 56,
        "endChar": 58
      },
      "revId": "b733804b47b87c1477f35d3d8db853096f915c7f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e673a703_07ae2169",
        "filename": "modules/congestion_controller/rtp/send_side_congestion_controller.cc",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 5531
      },
      "writtenOn": "2018-04-27T12:34:16Z",
      "side": 1,
      "message": "Not sure what you are asking. The BBR factory is created here if the field trial flag is set to enable BBR. If the field trial flag is set to enable the injected factory, the injected factory is used. If the field trial is not set, GoogCC is used.\n\nThis means that the field trial can be used to choose between different controllers even after the PeerConnectionFactory has been created with an injected NetworkControllerFactory.",
      "parentUuid": "22d3b865_64b1f9de",
      "range": {
        "startLine": 56,
        "startChar": 6,
        "endLine": 56,
        "endChar": 58
      },
      "revId": "b733804b47b87c1477f35d3d8db853096f915c7f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4d7936f0_b563c2a7",
        "filename": "modules/congestion_controller/rtp/send_side_congestion_controller.cc",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 5234
      },
      "writtenOn": "2018-04-27T14:02:22Z",
      "side": 1,
      "message": "Sorry, I missed the fact that the experiment setting also tri-state. \n\nTo summarize offline discussion: I think this way of doing it is reasonable, but please consider if we could move out ownership of the BBR factory, so that the controller for feedback case is *always* injected. Experiment setup would also move out a bit then, possibly all the way to PeerConnectionFactory, if CreatePeerConnection is a good time to check experment settings.\n\nIt would be nice to handle it consistently, and avoid an organization where an object is sometimes injected, sometimes created and owned internally.",
      "parentUuid": "e673a703_07ae2169",
      "range": {
        "startLine": 56,
        "startChar": 6,
        "endLine": 56,
        "endChar": 58
      },
      "revId": "b733804b47b87c1477f35d3d8db853096f915c7f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e7fff9b9_582b1412",
        "filename": "modules/congestion_controller/rtp/send_side_congestion_controller.cc",
        "patchSetId": 1
      },
      "lineNbr": 339,
      "author": {
        "id": 5234
      },
      "writtenOn": "2018-04-27T12:12:53Z",
      "side": 1,
      "message": "I\u0027d expect this to be\n\ncontroller_factory_with_feedback_(\n   controller_factory_with_feedback \n      ? std::move(controller_factory_with_feedback)\n      : GetFeedbackFactoryBasedOnExperiment())\n\nI.e., if some factory is injected, use that, period. Otherwise, select a default factory based on experiment settings, which will either be a newly created BBR factory, or null.",
      "range": {
        "startLine": 338,
        "startChar": 6,
        "endLine": 339,
        "endChar": 56
      },
      "revId": "b733804b47b87c1477f35d3d8db853096f915c7f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3a25410b_599594f2",
        "filename": "modules/congestion_controller/rtp/send_side_congestion_controller.cc",
        "patchSetId": 1
      },
      "lineNbr": 339,
      "author": {
        "id": 5531
      },
      "writtenOn": "2018-04-27T12:34:16Z",
      "side": 1,
      "message": "The we can\u0027t toggle between BBR and Injected using experiments without recreating the PeerConnectionFactory, which might be done less often than one per call. This way, the parameters for creating the PCF doesn\u0027t affect what configuration is used here.",
      "parentUuid": "e7fff9b9_582b1412",
      "range": {
        "startLine": 338,
        "startChar": 6,
        "endLine": 339,
        "endChar": 56
      },
      "revId": "b733804b47b87c1477f35d3d8db853096f915c7f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    }
  ]
}