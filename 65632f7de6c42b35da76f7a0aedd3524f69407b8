{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "64fa41e0_31959de1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 5142
      },
      "writtenOn": "2023-01-24T12:21:10Z",
      "side": 1,
      "message": "Adding Harald as a second reviewer",
      "revId": "65632f7de6c42b35da76f7a0aedd3524f69407b8",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "df0c3a05_cf4c72ff",
        "filename": "pc/peer_connection_svc_integrationtest.cc",
        "patchSetId": 4
      },
      "lineNbr": 259,
      "author": {
        "id": 5142
      },
      "writtenOn": "2023-01-24T12:21:10Z",
      "side": 1,
      "message": "How does a *callee* transceiver affect this test when it is the *caller* creating the offer, i.e. it is only the caller\u0027s transceiver that is given a mid. The callee transceiver needs to be negotiated in a callee O/A, so it shouldn\u0027t matter if this transceiver was created before or after the caller O/A.",
      "revId": "65632f7de6c42b35da76f7a0aedd3524f69407b8",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9cfe0d7d_7c14bceb",
        "filename": "pc/peer_connection_svc_integrationtest.cc",
        "patchSetId": 4
      },
      "lineNbr": 259,
      "author": {
        "id": 5142
      },
      "writtenOn": "2023-01-24T12:23:58Z",
      "side": 1,
      "message": "Note: It would have been different if the callee transceiver was created via AddTrack() because such transceivers do get attached to m\u003d lines on offer, but in this case AddTransceiver() is used, which has to be negotiated separately.",
      "parentUuid": "df0c3a05_cf4c72ff",
      "revId": "65632f7de6c42b35da76f7a0aedd3524f69407b8",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8ec86c0f_642abd3c",
        "filename": "pc/peer_connection_svc_integrationtest.cc",
        "patchSetId": 4
      },
      "lineNbr": 259,
      "author": {
        "id": 7036
      },
      "writtenOn": "2023-01-24T14:09:25Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "9cfe0d7d_7c14bceb",
      "revId": "65632f7de6c42b35da76f7a0aedd3524f69407b8",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bf54acd7_e5eb072b",
        "filename": "pc/peer_connection_svc_integrationtest.cc",
        "patchSetId": 4
      },
      "lineNbr": 274,
      "author": {
        "id": 5142
      },
      "writtenOn": "2023-01-24T12:21:10Z",
      "side": 1,
      "message": "Why is fallback happening? It looks to me like the callee is accepting the SDP answer without modifications.\n\nThe callee could affect codec preferences by doing GetTransceivers() to obtain the transceiver that was created by the SDP offer and calling SetCodecPreferences() on that transceiver, but in this case it is only setting the codec preferences on the callee transceiver which isn\u0027t up for negotiation yet (as per previous comment).",
      "revId": "65632f7de6c42b35da76f7a0aedd3524f69407b8",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b2d27fff_4ac4f119",
        "filename": "pc/peer_connection_svc_integrationtest.cc",
        "patchSetId": 4
      },
      "lineNbr": 274,
      "author": {
        "id": 5142
      },
      "writtenOn": "2023-01-24T12:27:47Z",
      "side": 1,
      "message": "For clarification, I expect that between callee.setRemoteDescription(offer); and callee.setLocalDescription(/* answer */) there exists two transceivers:\n[0] The AddTransceiver-transceiver, currently not up for negotiation, and\n[1] The SDP offer-transceiver, which has the mid, and whose codec preferences should affect the sender\u0027s transceiver.sender.getParameters().",
      "parentUuid": "bf54acd7_e5eb072b",
      "revId": "65632f7de6c42b35da76f7a0aedd3524f69407b8",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f80cb7d8_6bbc492c",
        "filename": "pc/peer_connection_svc_integrationtest.cc",
        "patchSetId": 4
      },
      "lineNbr": 274,
      "author": {
        "id": 7036
      },
      "writtenOn": "2023-01-24T14:09:25Z",
      "side": 1,
      "message": "The fallback was happening because in the offer, VP8 was the first codec of the list, which is what ends up being used by the sender.\nChanged the test to explicitly use VP9 only first, and renegotiate to VP8 only, which triggers the fallback.",
      "parentUuid": "b2d27fff_4ac4f119",
      "revId": "65632f7de6c42b35da76f7a0aedd3524f69407b8",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}