{
  "comments": [
    {
      "key": {
        "uuid": "549935e6_262907a1",
        "filename": "rtc_base/protobuf_utils.h",
        "patchSetId": 15
      },
      "lineNbr": 18,
      "author": {
        "id": 5027
      },
      "writtenOn": "2020-01-28T10:09:14Z",
      "side": 1,
      "message": "GN doesn\u0027t understand that the headers are behind an ifdef, so we need the nocgncheck. TBH I\u0027m not sure why my CL is triggering this problem, but this fix makes sense.",
      "range": {
        "startLine": 18,
        "startChar": 68,
        "endLine": 18,
        "endChar": 80
      },
      "revId": "b9e76e36c65bb061bc9ec305d0097a7ca415a9d9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3b0f4eff_a0f86366",
        "filename": "rtc_base/protobuf_utils.h",
        "patchSetId": 15
      },
      "lineNbr": 18,
      "author": {
        "id": 5087
      },
      "writtenOn": "2020-01-28T10:57:12Z",
      "side": 1,
      "message": "I haven\u0027t looked too deeply but I suspect it is because now you are using this header also when \"rtc_enable_protobuf\" is false?\n\nSee: https://cs.chromium.org/chromium/src/third_party/webrtc/rtc_base/BUILD.gn?l\u003d32\u0026rcl\u003dccbe95fd8a9e12dc519904b9d16c41590c2a16b6",
      "parentUuid": "549935e6_262907a1",
      "range": {
        "startLine": 18,
        "startChar": 68,
        "endLine": 18,
        "endChar": 80
      },
      "revId": "b9e76e36c65bb061bc9ec305d0097a7ca415a9d9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0965ebbb_c618b0c2",
        "filename": "rtc_base/protobuf_utils.h",
        "patchSetId": 15
      },
      "lineNbr": 18,
      "author": {
        "id": 5027
      },
      "writtenOn": "2020-01-29T07:06:10Z",
      "side": 1,
      "message": "Yeah, this use of the proto will not be suppressed by rtc_enable_protobuf. Maybe it should be (but in that case perf upload will not work).\n\nI think that makes sense to do. I should not depend on proto if rtc_enable_protobuf is off and either take all perf tests out of the GN tree in that case (probably better?) or DCHECK them at the start. Either way, I should not break mozilla or others who don\u0027t want protobuf. I doubt they run our perf tests anyway.",
      "parentUuid": "3b0f4eff_a0f86366",
      "range": {
        "startLine": 18,
        "startChar": 68,
        "endLine": 18,
        "endChar": 80
      },
      "revId": "b9e76e36c65bb061bc9ec305d0097a7ca415a9d9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d6fd5715_a69a84a9",
        "filename": "rtc_base/protobuf_utils.h",
        "patchSetId": 15
      },
      "lineNbr": 18,
      "author": {
        "id": 5087
      },
      "writtenOn": "2020-01-29T07:54:18Z",
      "side": 1,
      "message": "\u003e Yeah, this use of the proto will not be suppressed by rtc_enable_protobuf. Maybe it should be (but in that case perf upload will not work).\n\u003e \n\u003e I think that makes sense to do. I should not depend on proto if rtc_enable_protobuf is off and either take all perf tests out of the GN tree in that case (probably better?) or DCHECK them at the start.\n\nYes, I guess linking the presence of perf tests to the presence of proto is the best way to solve this.",
      "parentUuid": "0965ebbb_c618b0c2",
      "range": {
        "startLine": 18,
        "startChar": 68,
        "endLine": 18,
        "endChar": 80
      },
      "revId": "b9e76e36c65bb061bc9ec305d0097a7ca415a9d9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c48ea36d_f0cf03b2",
        "filename": "rtc_base/protobuf_utils.h",
        "patchSetId": 15
      },
      "lineNbr": 18,
      "author": {
        "id": 5027
      },
      "writtenOn": "2020-01-30T10:45:20Z",
      "side": 1,
      "message": "I\u0027ve put everything behind rtc_enable_protobuf now, but I still get this error. I think it\u0027s a GN bug or something very subtle is going on. This error should show up whenever this file is used and rtc_enable_protobuf is false (because the deps don\u0027t get added in that case). You\u0027d think this file is never used in master, but it is:\n\ngn path out/noprb/ :default //rtc_base:protobuf_utils\n//:default --[private]--\u003e\n//:webrtc_perf_tests --[private]--\u003e\n//modules/audio_processing:audio_processing_perf_tests --[private]--\u003e\n//rtc_base:protobuf_utils\n\nThe structure is the same in my patch.",
      "parentUuid": "d6fd5715_a69a84a9",
      "range": {
        "startLine": 18,
        "startChar": 68,
        "endLine": 18,
        "endChar": 80
      },
      "revId": "b9e76e36c65bb061bc9ec305d0097a7ca415a9d9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}