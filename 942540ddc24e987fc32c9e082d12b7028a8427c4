{
  "comments": [
    {
      "key": {
        "uuid": "09708423_b9638d90",
        "filename": "modules/audio_coding/neteq/neteq_impl.h",
        "patchSetId": 14
      },
      "lineNbr": 107,
      "author": {
        "id": 5525
      },
      "writtenOn": "2019-07-01T08:58:38Z",
      "side": 1,
      "message": "Suggest making this const",
      "range": {
        "startLine": 107,
        "startChar": 0,
        "endLine": 107,
        "endChar": 17
      },
      "revId": "942540ddc24e987fc32c9e082d12b7028a8427c4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3b0cdb5e_f4fb8cb9",
        "filename": "modules/audio_coding/neteq/neteq_impl.h",
        "patchSetId": 14
      },
      "lineNbr": 107,
      "author": {
        "id": 8392
      },
      "writtenOn": "2019-07-01T09:39:17Z",
      "side": 1,
      "message": "Minyue brought up the same suggestion. I believe that the intent of this `Dependencies` struct is to make the member variables overridable (i.e. \"They can all be replaced by the user before sending the struct to the NetEqImpl constructor.\").\n\nBut since you both brought it up, then let\u0027s change it to a `const`. It doesn\u0027t anyway make too much sense that a caller would pass in one `Clock` only to immediately replace it with another.",
      "parentUuid": "09708423_b9638d90",
      "range": {
        "startLine": 107,
        "startChar": 0,
        "endLine": 107,
        "endChar": 17
      },
      "revId": "942540ddc24e987fc32c9e082d12b7028a8427c4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8f69f772_a1287650",
        "filename": "modules/audio_coding/neteq/neteq_impl.h",
        "patchSetId": 14
      },
      "lineNbr": 349,
      "author": {
        "id": 5525
      },
      "writtenOn": "2019-07-01T08:58:38Z",
      "side": 1,
      "message": "Should have to be protected by crit_sect_ if it\u0027s const, right?\n\nI wonder if the same is true for many of the other const members in here?",
      "range": {
        "startLine": 349,
        "startChar": 0,
        "endLine": 349,
        "endChar": 49
      },
      "revId": "942540ddc24e987fc32c9e082d12b7028a8427c4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9199c542_db81a8f4",
        "filename": "modules/audio_coding/neteq/neteq_impl.h",
        "patchSetId": 14
      },
      "lineNbr": 349,
      "author": {
        "id": 8392
      },
      "writtenOn": "2019-07-01T09:39:17Z",
      "side": 1,
      "message": "Note that it\u0027s the pointer that\u0027s const and not the pointee.\n\nI believe that the intent is to consider everything in this class under the protection of the critical section. `Clock`, `const bool`, and some of the others could do without. But being selective of which member variables to protect requires extra thought and may introduce extra risks since constness alone doesn\u0027t guarantee the thread safety of a class.\n\nI think that it\u0027s best to leave things as-is here.",
      "parentUuid": "8f69f772_a1287650",
      "range": {
        "startLine": 349,
        "startChar": 0,
        "endLine": 349,
        "endChar": 49
      },
      "revId": "942540ddc24e987fc32c9e082d12b7028a8427c4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2764d1a7_bb759ce7",
        "filename": "modules/audio_coding/neteq/neteq_impl.h",
        "patchSetId": 14
      },
      "lineNbr": 349,
      "author": {
        "id": 5525
      },
      "writtenOn": "2019-07-01T10:29:52Z",
      "side": 1,
      "message": "OK, to me it seems unlikely that the clock would need to be protected by a lock though. I doubt there\u0027s any example where that is done in webrtc. I think the methods of Clock could basically be seen as const.",
      "parentUuid": "9199c542_db81a8f4",
      "range": {
        "startLine": 349,
        "startChar": 0,
        "endLine": 349,
        "endChar": 49
      },
      "revId": "942540ddc24e987fc32c9e082d12b7028a8427c4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "56e5f706_0b56b3f2",
        "filename": "modules/audio_coding/neteq/neteq_impl.h",
        "patchSetId": 14
      },
      "lineNbr": 349,
      "author": {
        "id": 8392
      },
      "writtenOn": "2019-07-01T11:04:43Z",
      "side": 1,
      "message": "I\u0027ve removed the `RTC_GUARDED_BY` from `clock_`. It does make sense for code snippets to perhaps do a clock readout for log-writing purposes (or other similar reasons) while outside the clock.",
      "parentUuid": "2764d1a7_bb759ce7",
      "range": {
        "startLine": 349,
        "startChar": 0,
        "endLine": 349,
        "endChar": 49
      },
      "revId": "942540ddc24e987fc32c9e082d12b7028a8427c4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d975238a_7367622c",
        "filename": "modules/audio_coding/neteq/neteq_impl.h",
        "patchSetId": 14
      },
      "lineNbr": 349,
      "author": {
        "id": 5525
      },
      "writtenOn": "2019-07-01T15:15:20Z",
      "side": 1,
      "message": "You haven\u0027t uploaded yet it seems",
      "parentUuid": "56e5f706_0b56b3f2",
      "range": {
        "startLine": 349,
        "startChar": 0,
        "endLine": 349,
        "endChar": 49
      },
      "revId": "942540ddc24e987fc32c9e082d12b7028a8427c4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e747f590_d5a2c82b",
        "filename": "modules/audio_coding/neteq/neteq_impl.h",
        "patchSetId": 14
      },
      "lineNbr": 349,
      "author": {
        "id": 8392
      },
      "writtenOn": "2019-07-01T15:17:46Z",
      "side": 1,
      "message": "My mistake. I didn\u0027t notice that the upload returned an error. Thanks for pointing it out!",
      "parentUuid": "d975238a_7367622c",
      "range": {
        "startLine": 349,
        "startChar": 0,
        "endLine": 349,
        "endChar": 49
      },
      "revId": "942540ddc24e987fc32c9e082d12b7028a8427c4",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}