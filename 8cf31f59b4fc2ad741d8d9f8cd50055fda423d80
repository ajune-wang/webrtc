{
  "comments": [
    {
      "key": {
        "uuid": "0836c912_04688a93",
        "filename": "rtc_base/operations_chain.h",
        "patchSetId": 3
      },
      "lineNbr": 41,
      "author": {
        "id": 5126
      },
      "writtenOn": "2019-10-09T13:16:14Z",
      "side": 1,
      "message": "Not needed in an abstract base class.",
      "range": {
        "startLine": 40,
        "startChar": 1,
        "endLine": 41,
        "endChar": 42
      },
      "revId": "8cf31f59b4fc2ad741d8d9f8cd50055fda423d80",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f9413f47_d1bac854",
        "filename": "rtc_base/operations_chain.h",
        "patchSetId": 3
      },
      "lineNbr": 65,
      "author": {
        "id": 5126
      },
      "writtenOn": "2019-10-09T13:16:14Z",
      "side": 1,
      "message": "Use the actual callback type here instead? I.e., have that type too be a template argument?",
      "range": {
        "startLine": 65,
        "startChar": 3,
        "endLine": 65,
        "endChar": 23
      },
      "revId": "8cf31f59b4fc2ad741d8d9f8cd50055fda423d80",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "44d6196c_a20ff322",
        "filename": "rtc_base/operations_chain.h",
        "patchSetId": 3
      },
      "lineNbr": 66,
      "author": {
        "id": 5126
      },
      "writtenOn": "2019-10-09T13:16:14Z",
      "side": 1,
      "message": "#ifdef this variable away unless RTC_DCHECK_IS_ON?",
      "revId": "8cf31f59b4fc2ad741d8d9f8cd50055fda423d80",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6411d095_ede825ef",
        "filename": "rtc_base/operations_chain.h",
        "patchSetId": 3
      },
      "lineNbr": 97,
      "author": {
        "id": 5142
      },
      "writtenOn": "2019-10-09T11:23:02Z",
      "side": 1,
      "message": "If we want to support synchronously cancelling any pending tasks I could introduce cancelling mechanisms in a follow-up CL.\n\nA possible use case for this is if we want PeerConnection::Close() to ensure that there are no async tasks keeping the PC alive through reference counting, ensuring that if the client nulls all of its references to the PC after doing Close(), it will in fact be deleted.\n\nI\u0027m not a fan of clients making assumptions about when reference counted objects are deleted but that might be the safest way forward in introducing an operations chain to PC and avoiding regressions.",
      "revId": "8cf31f59b4fc2ad741d8d9f8cd50055fda423d80",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c11b123_cbf3f9ce",
        "filename": "rtc_base/operations_chain.h",
        "patchSetId": 3
      },
      "lineNbr": 97,
      "author": {
        "id": 5142
      },
      "writtenOn": "2019-10-09T11:24:03Z",
      "side": 1,
      "message": "This might also be needed for the sake of unittests. If we have async tasks posting between threads we can\u0027t delete the thread.",
      "parentUuid": "6411d095_ede825ef",
      "revId": "8cf31f59b4fc2ad741d8d9f8cd50055fda423d80",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7ab5de1c_7a3ceb11",
        "filename": "rtc_base/operations_chain.h",
        "patchSetId": 3
      },
      "lineNbr": 185,
      "author": {
        "id": 5142
      },
      "writtenOn": "2019-10-09T10:54:09Z",
      "side": 1,
      "message": "This could also be implemented as an std::list.",
      "revId": "8cf31f59b4fc2ad741d8d9f8cd50055fda423d80",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "08d3f5af_3bfde2cf",
        "filename": "rtc_base/operations_chain.h",
        "patchSetId": 3
      },
      "lineNbr": 185,
      "author": {
        "id": 5126
      },
      "writtenOn": "2019-10-09T12:24:03Z",
      "side": 1,
      "message": "Thread annotations for these two data members?",
      "revId": "8cf31f59b4fc2ad741d8d9f8cd50055fda423d80",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "60d46dcf_38d84c68",
        "filename": "rtc_base/operations_chain.h",
        "patchSetId": 3
      },
      "lineNbr": 185,
      "author": {
        "id": 5126
      },
      "writtenOn": "2019-10-09T13:16:14Z",
      "side": 1,
      "message": "Actually, can they be removed? The DCHECKs for execute-exactly-once in OperationWithFunctor should be enough, right?",
      "parentUuid": "08d3f5af_3bfde2cf",
      "revId": "8cf31f59b4fc2ad741d8d9f8cd50055fda423d80",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    }
  ]
}