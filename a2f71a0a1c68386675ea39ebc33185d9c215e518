{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "9cccdf4c_57505f0f",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 1
      },
      "lineNbr": 2528,
      "author": {
        "id": 5142
      },
      "writtenOn": "2023-12-07T13:00:36Z",
      "side": 1,
      "message": "Can we one-up this and check if there are any transceivers in the list of type kAudio? No need to return audio stats if all transceivers are video",
      "revId": "a2f71a0a1c68386675ea39ebc33185d9c215e518",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b0f11c0e_907dadb3",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 1
      },
      "lineNbr": 2528,
      "author": {
        "id": 19549
      },
      "writtenOn": "2023-12-07T13:33:37Z",
      "side": 1,
      "message": "We are on the wrong thread to do so (this gets called from the worker thread by the stats collector), if we weren\u0027t one could just call GetReceiversInternal().\n\nBoth cases \"audio, but sendonly\" as well as \"video, without receiving audio\" seem rare enough that this still improves things considerably",
      "parentUuid": "9cccdf4c_57505f0f",
      "revId": "a2f71a0a1c68386675ea39ebc33185d9c215e518",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7da78e19_aa78ddef",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 1
      },
      "lineNbr": 2528,
      "author": {
        "id": 5142
      },
      "writtenOn": "2023-12-07T13:38:41Z",
      "side": 1,
      "message": "Then instead of dealing with this logic inside this method, how about having the RTCStatsCollector avoid calling it altogether?\n\nhttps://source.chromium.org/chromium/chromium/src/+/main:third_party/webrtc/pc/rtc_stats_collector.cc;l\u003d2165;drc\u003d8e78783dc1f7007bad46d657c9f332614e240fd8\n\nHere you could maybe just check `if (!voice_receive_stats.empty())`, WDYT?",
      "parentUuid": "b0f11c0e_907dadb3",
      "revId": "a2f71a0a1c68386675ea39ebc33185d9c215e518",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "de112614_ade49641",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 1
      },
      "lineNbr": 2528,
      "author": {
        "id": 5142
      },
      "writtenOn": "2023-12-07T13:39:36Z",
      "side": 1,
      "message": "Or else `audio_device_stats_ \u003d absl::nullopt`",
      "parentUuid": "7da78e19_aa78ddef",
      "revId": "a2f71a0a1c68386675ea39ebc33185d9c215e518",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "80873017_21e312c6",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 1
      },
      "lineNbr": 2528,
      "author": {
        "id": 19549
      },
      "writtenOn": "2023-12-07T14:18:16Z",
      "side": 1,
      "message": "yup, it started crashing without the reset to nullopt. Don\u0027t hold on to those I suppose ;-)",
      "parentUuid": "de112614_ade49641",
      "revId": "a2f71a0a1c68386675ea39ebc33185d9c215e518",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}