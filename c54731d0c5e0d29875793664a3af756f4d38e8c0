{
  "comments": [
    {
      "key": {
        "uuid": "831600c3_eb249edb",
        "filename": "sdk/android/api/org/webrtc/NetworkMonitor.java",
        "patchSetId": 3
      },
      "lineNbr": 47,
      "author": {
        "id": 5112
      },
      "writtenOn": "2018-02-23T08:14:12Z",
      "side": 1,
      "message": "I don\u0027t think we need separate lock objects. We can just use the ArrayList objects themselves.",
      "range": {
        "startLine": 47,
        "startChar": 2,
        "endLine": 47,
        "endChar": 58
      },
      "revId": "c54731d0c5e0d29875793664a3af756f4d38e8c0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dbaf8108_2a1bebe3",
        "filename": "sdk/android/api/org/webrtc/NetworkMonitor.java",
        "patchSetId": 3
      },
      "lineNbr": 47,
      "author": {
        "id": 6252
      },
      "writtenOn": "2018-02-26T23:40:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "831600c3_eb249edb",
      "range": {
        "startLine": 47,
        "startChar": 2,
        "endLine": 47,
        "endChar": 58
      },
      "revId": "c54731d0c5e0d29875793664a3af756f4d38e8c0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2d62db3c_bae172a3",
        "filename": "sdk/android/api/org/webrtc/NetworkMonitor.java",
        "patchSetId": 3
      },
      "lineNbr": 190,
      "author": {
        "id": 5508
      },
      "writtenOn": "2018-02-23T08:18:09Z",
      "side": 1,
      "message": "can we avoid calling out to external implementations while holding a lock?\nIt\u0027s easy to get hit by a deadlock if we follow this pattern.\n\nWould it be possible to use a Looper instead and deliver all notifications from there?",
      "range": {
        "startLine": 190,
        "startChar": 18,
        "endLine": 190,
        "endChar": 37
      },
      "revId": "c54731d0c5e0d29875793664a3af756f4d38e8c0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2c994dbf_13e6b26c",
        "filename": "sdk/android/api/org/webrtc/NetworkMonitor.java",
        "patchSetId": 3
      },
      "lineNbr": 190,
      "author": {
        "id": 6252
      },
      "writtenOn": "2018-02-26T23:40:36Z",
      "side": 1,
      "message": "Thanks for raising the issue!\nI am afraid of creating a new thread in order to use a LoopExecutor (or something similar) in the library. \nI tried to avoid calling external implementations while holding a lock\nby just locking on getting the list of the observers.",
      "parentUuid": "2d62db3c_bae172a3",
      "range": {
        "startLine": 190,
        "startChar": 18,
        "endLine": 190,
        "endChar": 37
      },
      "revId": "c54731d0c5e0d29875793664a3af756f4d38e8c0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "54194ce8_43703793",
        "filename": "sdk/android/api/org/webrtc/NetworkMonitor.java",
        "patchSetId": 3
      },
      "lineNbr": 190,
      "author": {
        "id": 5112
      },
      "writtenOn": "2018-02-27T11:53:44Z",
      "side": 1,
      "message": "I have concerns with this approach. Now calls to the observer might still be made after removeNetworkObserver/stopMonitoring is called. This might cause synchronization problems elsewhere (especially with native observers).",
      "parentUuid": "2c994dbf_13e6b26c",
      "range": {
        "startLine": 190,
        "startChar": 18,
        "endLine": 190,
        "endChar": 37
      },
      "revId": "c54731d0c5e0d29875793664a3af756f4d38e8c0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cf9f9593_a73004d3",
        "filename": "sdk/android/api/org/webrtc/NetworkMonitor.java",
        "patchSetId": 3
      },
      "lineNbr": 190,
      "author": {
        "id": 6252
      },
      "writtenOn": "2018-02-27T18:11:33Z",
      "side": 1,
      "message": "I realize that this part of native code (when receiving connection state change), has not used lock, so it is safe to use the full lock for native code.",
      "parentUuid": "54194ce8_43703793",
      "range": {
        "startLine": 190,
        "startChar": 18,
        "endLine": 190,
        "endChar": 37
      },
      "revId": "c54731d0c5e0d29875793664a3af756f4d38e8c0",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    }
  ]
}