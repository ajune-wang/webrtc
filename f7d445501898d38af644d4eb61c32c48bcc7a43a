{
  "comments": [
    {
      "key": {
        "uuid": "a52b3f00_344b2f2b",
        "filename": "p2p/base/port.cc",
        "patchSetId": 1
      },
      "lineNbr": 805,
      "author": {
        "id": 5053
      },
      "writtenOn": "2018-05-01T18:35:54Z",
      "side": 1,
      "message": "I worry that changing these to info-level will produce too many log messages; the ICE stack already produces a lot of info-level logs as is. I did a brief test and found that the size of logs generated by P2PTransportChannel tests increased by about 20% with this change.\n\nAre there specific use cases where these log statements would have been helpful? Would it be possible to add more targeted log statements to address those cases, which would occur less frequently but convey more useful information? Maybe going back to my old idea of logging things like \"Changing selected candidate pair from X to Y due to incoming connectivity check being received\". That would also have the advantage that it would be easier for someone not familiar with this code to read the log and understand what happened.",
      "revId": "f7d445501898d38af644d4eb61c32c48bcc7a43a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1ecb8d07_d5d17511",
        "filename": "p2p/base/port.cc",
        "patchSetId": 1
      },
      "lineNbr": 805,
      "author": {
        "id": 5887
      },
      "writtenOn": "2018-05-03T00:17:02Z",
      "side": 1,
      "message": "Thanks for the brief testing, and I should have done that. Sure, if it is going to increase about 20% of logs, I should probably revert it. I have the general impression that sometimes when we are looking into issues like undesirable network switching, if the visualization is unavailable, skipping text logs for connectivity checks like in this case can cause confusion and maybe suspicion of any unknown bugs. I have changed how the reason to sort the candidate pairs is populated. Though this change does not achieve the precision like \"X to Y due to incoming connectivity check being received\", hopefully it adds more information compared to the bare \"sorting\" previously. PTAL. Thanks!",
      "parentUuid": "a52b3f00_344b2f2b",
      "revId": "f7d445501898d38af644d4eb61c32c48bcc7a43a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "56fd915e_e41568f0",
        "filename": "p2p/base/port.cc",
        "patchSetId": 1
      },
      "lineNbr": 1589,
      "author": {
        "id": 5053
      },
      "writtenOn": "2018-05-01T18:35:54Z",
      "side": 1,
      "message": "If the network ID is worth logging, maybe just add it to Network::ToString. That would allow you to match the network from this log statement with other log statements where Network::ToString is logged.",
      "revId": "f7d445501898d38af644d4eb61c32c48bcc7a43a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "044cae67_66246830",
        "filename": "p2p/base/port.cc",
        "patchSetId": 1
      },
      "lineNbr": 1589,
      "author": {
        "id": 5887
      },
      "writtenOn": "2018-05-03T00:17:02Z",
      "side": 1,
      "message": "I didn\u0027t do that because the id field is sort of a dynamic field, and some of our tests explicitly rely on the comparison of Network::ToString to verify the results, where the id may change during the test and fails the tests if we add it to ToString. I can try to refactor the tests if we feel like to. Let me know.",
      "parentUuid": "56fd915e_e41568f0",
      "revId": "f7d445501898d38af644d4eb61c32c48bcc7a43a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a79d8190_3d119516",
        "filename": "p2p/base/port.cc",
        "patchSetId": 1
      },
      "lineNbr": 1589,
      "author": {
        "id": 5053
      },
      "writtenOn": "2018-05-04T20:25:37Z",
      "side": 1,
      "message": "It\u0027s not really dynamic; the ID of Networks returned by GetNetworks will never change, even if a network goes away and comes back.\n\nWhen I tried adding the ID to ToString, the only test I saw fail was TestBasicMergeNetworkList, which is actually testing exactly that. It\u0027s only using ToString as a convenience to check \"GetNetworks returns a network that matches what was passed into MergeNetworkList\"; the ToString equality is not the main thing it\u0027s intending to test. So I don\u0027t see any potential harm in adding the ID to ToString.",
      "parentUuid": "044cae67_66246830",
      "revId": "f7d445501898d38af644d4eb61c32c48bcc7a43a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "975766bb_762d2534",
        "filename": "p2p/base/port.cc",
        "patchSetId": 1
      },
      "lineNbr": 1589,
      "author": {
        "id": 5887
      },
      "writtenOn": "2018-05-04T22:28:45Z",
      "side": 1,
      "message": "Done. Changed the way how two networks are compared. I am wondering if it is worth moving the comparison method to Network as an operator.",
      "parentUuid": "a79d8190_3d119516",
      "revId": "f7d445501898d38af644d4eb61c32c48bcc7a43a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}