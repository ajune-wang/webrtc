{
  "comments": [
    {
      "key": {
        "uuid": "4bc1dfef_111e2f4a",
        "filename": "BUILD.gn",
        "patchSetId": 10
      },
      "lineNbr": 394,
      "author": {
        "id": 5126
      },
      "writtenOn": "2019-10-17T19:10:48Z",
      "side": 1,
      "message": "Is this quite safe? We\u0027re missing out on all the magic...\n\nCould we instead say \u0027target_type \u003d \"static_library\"\u0027 (and make rtc_library not override a user-specified target type)?\n\nOoohh, then we could also use \u0027target_type \u003d \"source_set\"\u0027 instead of having the separate type rtc_source_set. If we wanted to.",
      "revId": "1c3cefa2f3bf21ca8d75c66272694e079c96ea73",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "88366cd2_a50ca059",
        "filename": "BUILD.gn",
        "patchSetId": 10
      },
      "lineNbr": 394,
      "author": {
        "id": 5087
      },
      "writtenOn": "2019-10-17T19:33:45Z",
      "side": 1,
      "message": "\u003e Is this quite safe? We\u0027re missing out on all the magic...\n\nMaybe, I haven\u0027t checked this since WebRTC and Chromium don\u0027t use it. But good catch.\n\n\u003e Could we instead say \u0027target_type \u003d \"static_library\"\u0027 (and make rtc_library not override a user-specified target type)?\n\u003e \n\u003e Ooohh, then we could also use \u0027target_type \u003d \"source_set\"\u0027 instead of having the separate type rtc_source_set. If we wanted to.\n\nDo you mean to pass a parameter to the rtc_library template that allow us to override?\nFor now, I have re-introduced rtc_static_library. We can eventually try this trick later. I am worried rtc_library becomes too magic with that.",
      "parentUuid": "4bc1dfef_111e2f4a",
      "revId": "1c3cefa2f3bf21ca8d75c66272694e079c96ea73",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d080d411_6a1839b6",
        "filename": "BUILD.gn",
        "patchSetId": 10
      },
      "lineNbr": 394,
      "author": {
        "id": 5126
      },
      "writtenOn": "2019-10-17T19:53:26Z",
      "side": 1,
      "message": "That\u0027s a fair concern---we could all do with a little less magic in our lives.\n\nThe danger with leaving rtc_static_library (and rtc_source_set) is that people have them in their muscle memory and may continue using them. It would be very nice to eliminate them both. If the price for that is a magic parameter (that we only use once in our tree) and 1-2 seconds extra GN time, I would say it\u0027s worth it.",
      "parentUuid": "88366cd2_a50ca059",
      "revId": "1c3cefa2f3bf21ca8d75c66272694e079c96ea73",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cbcda647_9c5d20d6",
        "filename": "BUILD.gn",
        "patchSetId": 10
      },
      "lineNbr": 394,
      "author": {
        "id": 5087
      },
      "writtenOn": "2019-10-17T20:03:41Z",
      "side": 1,
      "message": "Ok, let me give it a try after the component build task is over (maybe there are also other options).\n\nWRT the 1 or 2 seconds, it could be fine for WebRTC but not for Chromium, but let me prototype it so we can see how long it takes and we can base the decision on that.",
      "parentUuid": "d080d411_6a1839b6",
      "revId": "1c3cefa2f3bf21ca8d75c66272694e079c96ea73",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f1ab8355_4fb21886",
        "filename": "webrtc.gni",
        "patchSetId": 10
      },
      "lineNbr": 494,
      "author": {
        "id": 5126
      },
      "writtenOn": "2019-10-17T19:10:48Z",
      "side": 1,
      "message": "How much slower did you say it was to have GN test for this and picking source_set or static_library automatically? It would be very nice if the humans didn\u0027t have to bother with this...",
      "revId": "1c3cefa2f3bf21ca8d75c66272694e079c96ea73",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0f4262cc_ae84730d",
        "filename": "webrtc.gni",
        "patchSetId": 10
      },
      "lineNbr": 494,
      "author": {
        "id": 5087
      },
      "writtenOn": "2019-10-17T19:33:45Z",
      "side": 1,
      "message": "I haven\u0027t tried but I it should be in the ballpark of 1 or 2 seconds.\n\nI mean, we have to loop all the sources of all the targets, this goes against the GN philosophy I guess. :)",
      "parentUuid": "f1ab8355_4fb21886",
      "revId": "1c3cefa2f3bf21ca8d75c66272694e079c96ea73",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2fc0b97c_bba1ee33",
        "filename": "webrtc.gni",
        "patchSetId": 10
      },
      "lineNbr": 494,
      "author": {
        "id": 5126
      },
      "writtenOn": "2019-10-17T19:53:26Z",
      "side": 1,
      "message": "In that case, I\u0027m inclined to say we should do that.",
      "parentUuid": "0f4262cc_ae84730d",
      "revId": "1c3cefa2f3bf21ca8d75c66272694e079c96ea73",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "48e62ccb_bd8cc432",
        "filename": "webrtc.gni",
        "patchSetId": 10
      },
      "lineNbr": 494,
      "author": {
        "id": 5087
      },
      "writtenOn": "2019-10-17T20:03:41Z",
      "side": 1,
      "message": "Resolving this, I will pull some data.",
      "parentUuid": "2fc0b97c_bba1ee33",
      "revId": "1c3cefa2f3bf21ca8d75c66272694e079c96ea73",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "34abade3_2024a7f1",
        "filename": "webrtc.gni",
        "patchSetId": 10
      },
      "lineNbr": 502,
      "author": {
        "id": 5126
      },
      "writtenOn": "2019-10-17T19:10:48Z",
      "side": 1,
      "message": "they allow the linker to discard dead code",
      "range": {
        "startLine": 502,
        "startChar": 2,
        "endLine": 502,
        "endChar": 19
      },
      "revId": "1c3cefa2f3bf21ca8d75c66272694e079c96ea73",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "13f6aa01_246055e6",
        "filename": "webrtc.gni",
        "patchSetId": 10
      },
      "lineNbr": 502,
      "author": {
        "id": 5087
      },
      "writtenOn": "2019-10-17T19:34:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "34abade3_2024a7f1",
      "range": {
        "startLine": 502,
        "startChar": 2,
        "endLine": 502,
        "endChar": 19
      },
      "revId": "1c3cefa2f3bf21ca8d75c66272694e079c96ea73",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}