{
  "comments": [
    {
      "key": {
        "uuid": "c15c164d_a902e936",
        "filename": "modules/rtp_rtcp/source/rtp_sender.cc",
        "patchSetId": 2
      },
      "lineNbr": 575,
      "author": {
        "id": 5117
      },
      "writtenOn": "2019-06-17T08:25:30Z",
      "side": 1,
      "message": "Maybe pass here a raw pointer instead and call it with .get() on the unique_pointer?",
      "range": {
        "startLine": 575,
        "startChar": 30,
        "endLine": 575,
        "endChar": 64
      },
      "revId": "feb99a3fd590863dcb289946da9c89c2b38b48e9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e6f83f00_5491f3ad",
        "filename": "modules/rtp_rtcp/source/rtp_sender.cc",
        "patchSetId": 2
      },
      "lineNbr": 575,
      "author": {
        "id": 5019
      },
      "writtenOn": "2019-06-17T08:58:59Z",
      "side": 1,
      "message": "I think this parameter type is as good as it can be with current semantic:\n\nthis function uses an odd one: \u0027may be move\u0027: sometimes it takes ownership, sometimes - ownership must be kept by the caller (so it can TrySend with a different RTPSender)\nthe most appropriate type for that is probably \u0027unique_ptr\u003c\u003e\u0026\u0026\u0027,\nbut that is uncommon by itself and thus likely confusing (and for these reasons almost banned).\nnext best (from c++ point of view) - pointer/reference to the unique_ptr\u003c\u003e\nnon-const reference is banned leaving with pointer to the unique_ptr",
      "parentUuid": "c15c164d_a902e936",
      "range": {
        "startLine": 575,
        "startChar": 30,
        "endLine": 575,
        "endChar": 64
      },
      "revId": "feb99a3fd590863dcb289946da9c89c2b38b48e9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "713caa52_7f55ce6b",
        "filename": "modules/rtp_rtcp/source/rtp_sender.cc",
        "patchSetId": 2
      },
      "lineNbr": 575,
      "author": {
        "id": 5117
      },
      "writtenOn": "2019-06-17T11:08:33Z",
      "side": 1,
      "message": "Yes, I though so at first too. But this function doesn\u0027t take ownership. It dereferences the pointer at the beginning (packet_to_send) and never uses |packet| argument again.\n\nErik, do you plan to update this later, so the unique_pointer is freed here, inside this function?",
      "parentUuid": "e6f83f00_5491f3ad",
      "range": {
        "startLine": 575,
        "startChar": 30,
        "endLine": 575,
        "endChar": 64
      },
      "revId": "feb99a3fd590863dcb289946da9c89c2b38b48e9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aee5a4da_2f75a5c3",
        "filename": "modules/rtp_rtcp/source/rtp_sender.cc",
        "patchSetId": 2
      },
      "lineNbr": 645,
      "author": {
        "id": 5117
      },
      "writtenOn": "2019-06-17T08:25:30Z",
      "side": 1,
      "message": "This differs from the old behavior: now padding over RTX ssrc won\u0027t have is_retransmit. The old behavior would set it:\nhttps://cs.chromium.org/chromium/src/third_party/webrtc/modules/rtp_rtcp/source/rtp_sender.cc?sq\u003dpackage:chromium\u0026dr\u0026g\u003d0\u0026l\u003d617\n\nAre you sure?",
      "range": {
        "startLine": 645,
        "startChar": 10,
        "endLine": 645,
        "endChar": 23
      },
      "revId": "feb99a3fd590863dcb289946da9c89c2b38b48e9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "720905a1_e670038e",
        "filename": "modules/rtp_rtcp/source/rtp_sender.cc",
        "patchSetId": 2
      },
      "lineNbr": 645,
      "author": {
        "id": 5019
      },
      "writtenOn": "2019-06-17T08:58:59Z",
      "side": 1,
      "message": "this flag doesn\u0027t have clear description when it should be set.\nin practice for pure padding the value of this flag is irrelevant.\n\nif this change make reasoning about this flag simpler - good!",
      "parentUuid": "aee5a4da_2f75a5c3",
      "range": {
        "startLine": 645,
        "startChar": 10,
        "endLine": 645,
        "endChar": 23
      },
      "revId": "feb99a3fd590863dcb289946da9c89c2b38b48e9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bfa295fe_f926b2a4",
        "filename": "modules/rtp_rtcp/source/rtp_sender.cc",
        "patchSetId": 2
      },
      "lineNbr": 680,
      "author": {
        "id": 5117
      },
      "writtenOn": "2019-06-17T08:25:30Z",
      "side": 1,
      "message": "Why not options.is_retransmit?\n\nBetter have a single place for the logic and use it everywhere.",
      "range": {
        "startLine": 680,
        "startChar": 19,
        "endLine": 680,
        "endChar": 72
      },
      "revId": "feb99a3fd590863dcb289946da9c89c2b38b48e9",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    }
  ]
}