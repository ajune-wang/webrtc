{
  "comments": [
    {
      "key": {
        "uuid": "1b06ddf4_ace0a957",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 14174
      },
      "writtenOn": "2020-09-25T04:04:29Z",
      "side": 1,
      "message": "Thanks for reviewing! Let me know if you need more information",
      "revId": "6986c4f7fe09153d09980179620446d5f6d8d71f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "615432b1_d66f1720",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5525
      },
      "writtenOn": "2020-09-25T07:43:43Z",
      "side": 1,
      "message": "Looks good from my perspective. Can you help verify Ilya?\n\nYun, do you think it\u0027d be reasonable to add some kind of unit test here?",
      "revId": "6986c4f7fe09153d09980179620446d5f6d8d71f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aa29c739_be24e243",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5609
      },
      "writtenOn": "2020-09-25T08:23:16Z",
      "side": 1,
      "message": "Rasmus,\nCan you take an extra look at this? Given the time you\u0027ve spent on similar things previously.",
      "revId": "6986c4f7fe09153d09980179620446d5f6d8d71f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "69f8e463_a0b4dd5e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 14174
      },
      "writtenOn": "2020-09-25T17:56:16Z",
      "side": 1,
      "message": "Thanks for the comments! will update the commit",
      "revId": "6986c4f7fe09153d09980179620446d5f6d8d71f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "631aefd8_250d2b5e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 14174
      },
      "writtenOn": "2020-09-25T20:55:20Z",
      "side": 1,
      "message": "Some other thoughts",
      "revId": "6986c4f7fe09153d09980179620446d5f6d8d71f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "095e7643_f6a9cfa1",
        "filename": "video/video_stream_encoder.cc",
        "patchSetId": 1
      },
      "lineNbr": 122,
      "author": {
        "id": 5117
      },
      "writtenOn": "2020-09-25T08:09:13Z",
      "side": 1,
      "message": "I would argue that changes in maxFramerate shouldn\u0027t trigger key-frame. Please remove the check.",
      "revId": "6986c4f7fe09153d09980179620446d5f6d8d71f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "226d2f18_d6a62902",
        "filename": "video/video_stream_encoder.cc",
        "patchSetId": 1
      },
      "lineNbr": 122,
      "author": {
        "id": 14174
      },
      "writtenOn": "2020-09-25T17:56:16Z",
      "side": 1,
      "message": "Agree",
      "parentUuid": "095e7643_f6a9cfa1",
      "revId": "6986c4f7fe09153d09980179620446d5f6d8d71f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa75c9bd_37684521",
        "filename": "video/video_stream_encoder.cc",
        "patchSetId": 1
      },
      "lineNbr": 128,
      "author": {
        "id": 5117
      },
      "writtenOn": "2020-09-25T08:09:13Z",
      "side": 1,
      "message": "The reset is required only if new_send_codec.simulcastStream[i].active \u003d\u003d true and old one if false. No need to trigger the reset if some streams are paused.",
      "revId": "6986c4f7fe09153d09980179620446d5f6d8d71f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1a436402_e13adbe1",
        "filename": "video/video_stream_encoder.cc",
        "patchSetId": 1
      },
      "lineNbr": 128,
      "author": {
        "id": 14174
      },
      "writtenOn": "2020-09-25T17:56:16Z",
      "side": 1,
      "message": "Good point, save some re-init when some layer become inactive.",
      "parentUuid": "aa75c9bd_37684521",
      "revId": "6986c4f7fe09153d09980179620446d5f6d8d71f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "14146d75_b120794c",
        "filename": "video/video_stream_encoder.cc",
        "patchSetId": 1
      },
      "lineNbr": 128,
      "author": {
        "id": 14174
      },
      "writtenOn": "2020-09-25T20:55:20Z",
      "side": 1,
      "message": "It looks simulcast encoders will always decide it is active or not based on the bitrate allocation (target bitrate \u003e 0)\nbitrate allocation will take care of stream state active/inactive\nSo it seems no matter active-\u003einactive or inactive -\u003e active, we don\u0027t need encoder reset\n\nbut regarding other stuff like width/height ... we always need the check no matter active or not, since we always save the new_send_codec later, if we don\u0027t do reset, there maybe some misalignment, like if we say L0 is 360p\n1st:360p (active) -\u003e 2nd:480p (inactive) -\u003e 3rd:480p (active)\nif we skip 2nd reset, the 3rd one will think we already on 480p but actually encoder is not\n\nis my understand correct here?",
      "parentUuid": "1a436402_e13adbe1",
      "revId": "6986c4f7fe09153d09980179620446d5f6d8d71f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c8b8032b_41632181",
        "filename": "video/video_stream_encoder.cc",
        "patchSetId": 1
      },
      "lineNbr": 132,
      "author": {
        "id": 5117
      },
      "writtenOn": "2020-09-25T08:09:13Z",
      "side": 1,
      "message": "Please add here another loop to check if there\u0027s any change between |new_send_codec.spatialLayers[]| and |prev_send_codec.spatialLayers[]|\n\nUnlike with simulcastStreams you only need to check width/height/qpMax/numberOfTemporalLayers. |active| flags would be correctly processed by vp9 encoder.",
      "revId": "6986c4f7fe09153d09980179620446d5f6d8d71f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1c56f009_dd68b4f1",
        "filename": "video/video_stream_encoder.cc",
        "patchSetId": 1
      },
      "lineNbr": 132,
      "author": {
        "id": 14174
      },
      "writtenOn": "2020-09-25T17:56:16Z",
      "side": 1,
      "message": "sounds good",
      "parentUuid": "c8b8032b_41632181",
      "revId": "6986c4f7fe09153d09980179620446d5f6d8d71f",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    }
  ]
}