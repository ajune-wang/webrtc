{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "bb3c9f1b_ee7a874c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5634
      },
      "writtenOn": "2023-08-04T08:08:07Z",
      "side": 1,
      "message": "Procrastination spent doing something a little bit useful.",
      "revId": "dad25be1184e6a0eb6d82717c1de7e830563955a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "687b3328_6b26cd5d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5019
      },
      "writtenOn": "2023-08-04T09:32:11Z",
      "side": 1,
      "message": "This is an improvement, so +1,\n\nhowever it might be good idea to postpone this migration a bit:\nc++20 is not that far away, and once WebRTC switch to it, it would likely make sense to deprecate rtc::ArrayView in favor of std::span\n\nThen this Transport interface would need to be updated again. (however ArrayView -\u003e span migration would likely better to do by making ArrayView be an alias to std::span, so overall migration would be simpler than current one)",
      "revId": "dad25be1184e6a0eb6d82717c1de7e830563955a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "67e4babb_3dfb3a16",
        "filename": "api/call/transport.h",
        "patchSetId": 1
      },
      "lineNbr": 62,
      "author": {
        "id": 5019
      },
      "writtenOn": "2023-08-04T09:32:11Z",
      "side": 1,
      "message": "May be have default implementation for this two functions too, that call SendRtc?p functions with ArrayView argument.\n\nThen you would need to update each Transport implementation just once - replace old signature with the new one:\nstep 1. Add new functions\nstep 2a. Migrate all callers to use new functions\nstep 2b. Migrate all implementation to new functions\nstep 3. Delete old functions\n\nIf you keep these as virtual, then migration would need extra steps:\nStep 1. [this change] Add new functions\nStep 2a. Migrate all callers to new functions\nStep 2b. Add new functions to all the implementations\nStep 3. Make new functions virtual, old functions non-virtual\nStep 4. Remove old functions from all the implementaions\nStep 5. Delete old functions.",
      "range": {
        "startLine": 59,
        "startChar": 0,
        "endLine": 62,
        "endChar": 66
      },
      "revId": "dad25be1184e6a0eb6d82717c1de7e830563955a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3c96b09f_f49e9615",
        "filename": "media/base/media_channel_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 204,
      "author": {
        "id": 5019
      },
      "writtenOn": "2023-08-04T09:32:11Z",
      "side": 1,
      "message": "or\nrtc::MakeArrayView(data, len)",
      "range": {
        "startLine": 204,
        "startChar": 18,
        "endLine": 204,
        "endChar": 58
      },
      "revId": "dad25be1184e6a0eb6d82717c1de7e830563955a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b28ba9f0_7dbdc73c",
        "filename": "media/base/media_channel_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 210,
      "author": {
        "id": 5019
      },
      "writtenOn": "2023-08-04T09:32:11Z",
      "side": 1,
      "message": "to avoid memcpy like this one,\nhave you consider to migrate Transport interface to pass data with ownership?\ni.e. SendRtcp(rtc::CopyOnWriteBuffer packet) rather than SendRtcp(ArrayView);\n\nThough that is sure more complicated migration. And may be better be done by introducing new interface and migrating each place where Transport is used individually.",
      "range": {
        "startLine": 209,
        "startChar": 21,
        "endLine": 210,
        "endChar": 50
      },
      "revId": "dad25be1184e6a0eb6d82717c1de7e830563955a",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}