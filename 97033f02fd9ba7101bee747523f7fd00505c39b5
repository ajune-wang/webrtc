{
  "comments": [
    {
      "key": {
        "uuid": "22f1b6de_f24a2f10",
        "filename": "rtc_tools/event_log_visualizer/main.cc",
        "patchSetId": 1
      },
      "lineNbr": 100,
      "author": {
        "id": 5087
      },
      "writtenOn": "2019-07-19T09:11:31Z",
      "side": 1,
      "message": "Some examples:\n\n$ ./out/Debug/event_log_visualizer --list_plots\n(field_trial.cc:107): Setting field trial string:\n(analyzer.cc:462): No useful events in the log.\n(analyzer.cc:490): Found 0 (LOG_START, LOG_END) segments in log.\nList of registered plots (for use with the --plot flag):\n  incoming_packet_sizes\n  outgoing_packet_sizes\n  incoming_rtcp_types\n  outgoing_rtcp_types\n  incoming_packet_count\n  outgoing_packet_count\n  audio_playout\n\n\n$ ./out/Debug/event_log_visualizer\n(field_trial.cc:107): Setting field trial string:\n(analyzer.cc:462): No useful events in the log.\n(analyzer.cc:490): Found 0 (LOG_START, LOG_END) segments in log.\nA tool for visualizing WebRTC event logs.\nExample usage:\n./event_log_visualizer \u003clogfile\u003e | python\n\n$ ./out/Debug/event_log_visualizer --help\nevent_log_visualizer: A tool for visualizing WebRTC event logs.\nExample usage:\n./event_log_visualizer \u003clogfile\u003e | python\n\n\n  No modules matched: use -helpfull\n\nTry --helpfull to get a list of all flags.\n\n$ ./out/Debug/event_log_visualizer --helpfull\nevent_log_visualizer: A tool for visualizing WebRTC event logs.\nExample usage:\n./event_log_visualizer \u003clogfile\u003e | python\n\n\n  Flags from ../../rtc_tools/event_log_visualizer/main.cc:\n    -force_fieldtrials (Field trials control experimental feature code which can\n      be forced. E.g. running with\n      --force_fieldtrials\u003dWebRTC-FooFeature/Enabled/ will assign the group\n      Enabled to field trial WebRTC-FooFeature. Multiple trials are separated by\n      \"/\"); default: \"\";\n    -list_plots (List of registered plots (for use with the --plot flag));\n      default: false;\n    -normalize_time (Normalize the log timestamps so that the call starts at\n      time 0.); default: true;\n    -parse_unconfigured_header_extensions (Attempt to parse unconfigured header\n      extensions using the default WebRTC mapping. This can give very misleading\n      results if the application negotiates a different mapping.);\n      default: true;\n    -plot (A comma separated list of plot names. See below for valid options.);\n      default: \"default\";\n    -print_triage_alerts (Print triage alerts, i.e. a list of potential\n      problems.); default: false;\n    -protobuf_output (Output charts as protobuf instead of python code.);\n      default: false;\n    -shared_xaxis (Share x-axis between all plots so that zooming in one plot\n      updates all the others too. A downside is that certain operations like\n      panning become much slower.); default: false;\n    -show_alr_state (Show the state ALR state on the total bitrate graph);\n      default: false;\n    -show_detector_state (Show the state of the delay based BWE detector on the\n      total bitrate graph); default: false;\n    -wav_filename (Path to wav file used for simulation of jitter buffer);\n      default: \"\";\n\n\n  Flags from ../../third_party/abseil-cpp/absl/flags/parse.cc:\n    -flagfile (comma-separated list of files to load flags from); default: ;\n    -fromenv (comma-separated list of flags to set from the environment [use\n      \u0027export FLAGS_flag1\u003dvalue\u0027]); default: ;\n    -tryfromenv (comma-separated list of flags to try to set from the\n      environment if present); default: ;\n    -undefok (comma-separated list of flag names that it is okay to specify on\n      the command line even if the program does not define a flag with that\n      name); default: ;\n\n\n  Flags from ../../third_party/abseil-cpp/absl/flags/internal/usage.cc:\n    -help (show help on important flags for this binary [tip: all flags can have\n      two dashes]); default: false;\n    -helpfull (show help on all flags); default: false; currently: true;\n    -helpmatch (show help on modules whose name contains the specified substr);\n      default: \"\";\n    -helpon (show help on the modules named by this flag value); default: \"\";\n    -helppackage (show help on all modules in the main package); default: false;\n    -helpshort (show help on only the main module for this program);\n      default: false;\n    -only_check_args (exit after checking all flags); default: false;\n    -version (show version and build info and exit); default: false;",
      "range": {
        "startLine": 96,
        "startChar": 0,
        "endLine": 100,
        "endChar": 0
      },
      "revId": "97033f02fd9ba7101bee747523f7fd00505c39b5",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca6b4df2_73dbf5ea",
        "filename": "rtc_tools/event_log_visualizer/main.cc",
        "patchSetId": 1
      },
      "lineNbr": 100,
      "author": {
        "id": 5150
      },
      "writtenOn": "2019-07-22T11:27:15Z",
      "side": 1,
      "message": "Do you know why --help doesn\u0027t print anything (or how to make main.cc the default module)?",
      "parentUuid": "22f1b6de_f24a2f10",
      "range": {
        "startLine": 96,
        "startChar": 0,
        "endLine": 100,
        "endChar": 0
      },
      "revId": "97033f02fd9ba7101bee747523f7fd00505c39b5",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1795b330_e0f24073",
        "filename": "rtc_tools/event_log_visualizer/main.cc",
        "patchSetId": 1
      },
      "lineNbr": 100,
      "author": {
        "id": 5087
      },
      "writtenOn": "2019-07-22T19:09:02Z",
      "side": 1,
      "message": "I was actually thinking about this and that seemed to be weird actually.\n\nAfter a small investigation it seems there is some magic involved (see https://cs.chromium.org/chromium/src/third_party/abseil-cpp/absl/flags/usage_config.cc?l\u003d45-55\u0026rcl\u003d28b2e4980f947cb26fa9577cfdc8414f5ba016c6). In order for this to work (and for FLAGS_help to be accessible) we need to rename this from main.cc to event_log_visualizer_main.cc (or something else, if we land https://webrtc-review.googlesource.com/c/src/+/145820).\n\nLet me talk with Abseil but we can resolve this by ourselves by renaming the file. Is that ok with you?",
      "parentUuid": "ca6b4df2_73dbf5ea",
      "range": {
        "startLine": 96,
        "startChar": 0,
        "endLine": 100,
        "endChar": 0
      },
      "revId": "97033f02fd9ba7101bee747523f7fd00505c39b5",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5a7f4902_44d065c8",
        "filename": "rtc_tools/event_log_visualizer/main.cc",
        "patchSetId": 1
      },
      "lineNbr": 187,
      "author": {
        "id": 5150
      },
      "writtenOn": "2019-07-22T11:27:15Z",
      "side": 1,
      "message": "It\u0027s not possible to get the program name from the command line?",
      "range": {
        "startLine": 187,
        "startChar": 7,
        "endLine": 187,
        "endChar": 29
      },
      "revId": "97033f02fd9ba7101bee747523f7fd00505c39b5",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "553055f3_b1d4ffe7",
        "filename": "rtc_tools/event_log_visualizer/main.cc",
        "patchSetId": 1
      },
      "lineNbr": 187,
      "author": {
        "id": 5087
      },
      "writtenOn": "2019-07-22T19:09:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5a7f4902_44d065c8",
      "range": {
        "startLine": 187,
        "startChar": 7,
        "endLine": 187,
        "endChar": 29
      },
      "revId": "97033f02fd9ba7101bee747523f7fd00505c39b5",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1ca31f83_4e86fc40",
        "filename": "rtc_tools/event_log_visualizer/main.cc",
        "patchSetId": 1
      },
      "lineNbr": 528,
      "author": {
        "id": 5150
      },
      "writtenOn": "2019-07-22T11:27:15Z",
      "side": 1,
      "message": "Imo, it makes more sense to print this if --help is given, as it essentially is the documentation for the --plot flag.",
      "range": {
        "startLine": 528,
        "startChar": 20,
        "endLine": 528,
        "endChar": 36
      },
      "revId": "97033f02fd9ba7101bee747523f7fd00505c39b5",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6918b422_fc947164",
        "filename": "rtc_tools/event_log_visualizer/main.cc",
        "patchSetId": 1
      },
      "lineNbr": 528,
      "author": {
        "id": 5087
      },
      "writtenOn": "2019-07-22T19:09:02Z",
      "side": 1,
      "message": "\"help\" is a reserved flag in Abseil Flags. In theory this is possible but since Abseil Flags doesn\u0027t recognize this main.cc as the main of the binary (see previous comment) we are hitting this path:\n\nhttps://cs.chromium.org/chromium/src/third_party/abseil-cpp/absl/flags/internal/usage.cc?l\u003d341\u0026rcl\u003d6eaa04678d753386f43c69a79d398da7dd675c0f --\u003e https://cs.chromium.org/chromium/src/third_party/abseil-cpp/absl/flags/parse.cc?l\u003d709\u0026rcl\u003d6eaa04678d753386f43c69a79d398da7dd675c0f\n\n\n \u003e ./out/Debug/event_log_visualizer --help\n event_log_visualizer: A tool for visualizing WebRTC event logs.\n Example usage:\n ./out/Debug/event_log_visualizer \u003clogfile\u003e | python\n\n\n   No modules matched: use -helpfull\n\n Try --helpfull to get a list of all flags.\n \u003e echo $?\n 1",
      "parentUuid": "1ca31f83_4e86fc40",
      "range": {
        "startLine": 528,
        "startChar": 20,
        "endLine": 528,
        "endChar": 36
      },
      "revId": "97033f02fd9ba7101bee747523f7fd00505c39b5",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    }
  ]
}