{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "dab30597_d2035fd3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 5142
      },
      "writtenOn": "2023-03-23T08:59:22Z",
      "side": 1,
      "message": "I thought the endpoint that created the m\u003d section would be the one that offer the extensions, and I didn\u0027t realize the other endpoint is allowed to add new extensions, so I made the mistake of thinking [[NegotiatedHeaderExtensions]] would always be a subset of [[HeaderExtensionsToNegotiate]]. Therefore, I had thought that only [[NegotiatedHeaderExtensions]] need be updated in response to setting SDP, but I am open to the idea that we should default to accepting what was offered by default and also update [[HeaderExtensionsToNegotiate]] when SDP offer is set - supporting both the \"remote SDP is adding extensions\" use case and the \"local SDP munging\" use case for backwards compat with apps are using prior to this API existing.",
      "revId": "916a4c0eca11ac691f49a1c6867c7acb07690f20",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "13c95549_949ed73e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 19549
      },
      "writtenOn": "2023-03-23T09:05:11Z",
      "side": 1,
      "message": "[[HeaderExtensionsToNegotiate]] will contain all supported extensions. If the remote offer more these should be ignored, so [[NegotiatedHeaderExtensions]] can\u0027t (in a useful way) contain unknown extensions.\n\nWe will break but only in \"features enabled by sdp munging\" land.",
      "parentUuid": "dab30597_d2035fd3",
      "revId": "916a4c0eca11ac691f49a1c6867c7acb07690f20",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7bf561c3_17c293c8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 5142
      },
      "writtenOn": "2023-03-23T09:13:23Z",
      "side": 1,
      "message": "OK. Not sure. I started to think maybe we should default to accept what was on offer, but that would have the downside of defaulting to not accepting what the app specified in setHeaderExtensionsToNegotiate(). So maybe the spec is OK as is.",
      "parentUuid": "13c95549_949ed73e",
      "revId": "916a4c0eca11ac691f49a1c6867c7acb07690f20",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aa04fa21_64d0b6bd",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 19549
      },
      "writtenOn": "2023-03-23T09:47:40Z",
      "side": 1,
      "message": "in terms of behavior of the new API this makes sense:\nour preference (which should not be influenced by the remote) is to have the extension stopped. Munging in step 3 has the effect that it does show in in getHeaderExtensionsNegotiated which seems like the correct interaction.",
      "parentUuid": "7bf561c3_17c293c8",
      "revId": "916a4c0eca11ac691f49a1c6867c7acb07690f20",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e5e8419d_c577d0d9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 5142
      },
      "writtenOn": "2023-03-23T10:14:01Z",
      "side": 1,
      "message": "OK so the only case that needs spec changing is when local SDP munging is used in place of setHeaderExtensionsToNegotiate(), which to be fair, is a non-standard code path anyway, but still good to get agreement on this for conformance reasons? But overall the spec makes sense.",
      "parentUuid": "aa04fa21_64d0b6bd",
      "revId": "916a4c0eca11ac691f49a1c6867c7acb07690f20",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "90a5a247_0ee764bf",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 19549
      },
      "writtenOn": "2023-03-23T11:59:52Z",
      "side": 1,
      "message": "so you are saying that SDP munging may modify header extensions to negotiate? But that requires detecting SDP munging and figuring out what changed in a fine-grained manner which is hard and the reason we all loathe SDP munging in the first place.",
      "parentUuid": "e5e8419d_c577d0d9",
      "revId": "916a4c0eca11ac691f49a1c6867c7acb07690f20",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b5cf87da_cca118f5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 5142
      },
      "writtenOn": "2023-03-23T08:59:22Z",
      "side": 1,
      "message": "If we accepted an extension, I think it doesn\u0027t make sense if that extension is not turned on in [[HeaderExtensionsToNegotiate]] for follow-up O/As.",
      "revId": "916a4c0eca11ac691f49a1c6867c7acb07690f20",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "de1e29d7_d670e234",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 19549
      },
      "writtenOn": "2023-03-23T09:05:11Z",
      "side": 1,
      "message": "The problem is that we don\u0027t really accept it - you still need local SDP munging if you want it to show up in the local description.",
      "parentUuid": "b5cf87da_cca118f5",
      "revId": "916a4c0eca11ac691f49a1c6867c7acb07690f20",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5c45bebe_59e4c76e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 19549
      },
      "writtenOn": "2023-03-22T20:15:50Z",
      "side": 1,
      "message": "Found a production issue with this. We need to\n- revert this (also in M112 which has the stable cut next Tuesday)\n- add a regression test\n- ship the new API even if not quite compliant but it will offer a way out\n- take the way out, then reland this\nThe revert applies cleanly to the M112 branch at least.\n\nRegression test for the existing behavior and demonstration that the new API is the way forward will come as a separate CL.",
      "revId": "916a4c0eca11ac691f49a1c6867c7acb07690f20",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b16750e6_1f4dc900",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5142
      },
      "writtenOn": "2023-03-23T08:59:22Z",
      "side": 1,
      "message": "+1 to reverting. I think we should follow-up with a spec issue to make sure we support all use cases that make sense and don\u0027t trigger backwards compat issues",
      "revId": "916a4c0eca11ac691f49a1c6867c7acb07690f20",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0f387b27_1950b2e5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 19549
      },
      "writtenOn": "2023-03-23T11:59:52Z",
      "side": 1,
      "message": "Markus, can you rubberstamp while Harald is at IETF?",
      "revId": "916a4c0eca11ac691f49a1c6867c7acb07690f20",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}