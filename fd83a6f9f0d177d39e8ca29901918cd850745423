{
  "comments": [
    {
      "key": {
        "uuid": "c7f886f1_89ad9ba6",
        "filename": "api/BUILD.gn",
        "patchSetId": 3
      },
      "lineNbr": 108,
      "author": {
        "id": 5027
      },
      "writtenOn": "2017-12-19T10:46:53Z",
      "side": 1,
      "message": "This here would be a pretty legit use of public_deps from rtc_base, but let\u0027s not do that I suppose :)",
      "range": {
        "startLine": 108,
        "startChar": 4,
        "endLine": 108,
        "endChar": 56
      },
      "revId": "fd83a6f9f0d177d39e8ca29901918cd850745423",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "54641198_28c129d1",
        "filename": "api/BUILD.gn",
        "patchSetId": 3
      },
      "lineNbr": 108,
      "author": {
        "id": 5087
      },
      "writtenOn": "2017-12-19T11:02:08Z",
      "side": 1,
      "message": "Is it possible to move:\n\nif (is_nacl) {\n  deps +\u003d [ \"//native_client_sdk/src/libraries/nacl_io\" ]\n}\n\ninto the target that really needs it (I suppose rtc_base)?\nI see we are already doing it for rtc_base:rtc_base_approved_generic and rtc_base:rtc_base_generic.",
      "parentUuid": "c7f886f1_89ad9ba6",
      "range": {
        "startLine": 108,
        "startChar": 4,
        "endLine": 108,
        "endChar": 56
      },
      "revId": "fd83a6f9f0d177d39e8ca29901918cd850745423",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "726ffef3_388edb59",
        "filename": "api/BUILD.gn",
        "patchSetId": 3
      },
      "lineNbr": 108,
      "author": {
        "id": 5027
      },
      "writtenOn": "2017-12-19T11:40:59Z",
      "side": 1,
      "message": "That deps add is already on the rtc_base_approved_generic, where the offending files are, so just adding it there doesn\u0027t work. I need to add it for the API target as well (and, I suppose, any other target that depends on rtc_base and includes those headers).",
      "parentUuid": "54641198_28c129d1",
      "range": {
        "startLine": 108,
        "startChar": 4,
        "endLine": 108,
        "endChar": 56
      },
      "revId": "fd83a6f9f0d177d39e8ca29901918cd850745423",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c9f244b_ea5393a4",
        "filename": "api/BUILD.gn",
        "patchSetId": 3
      },
      "lineNbr": 108,
      "author": {
        "id": 5087
      },
      "writtenOn": "2017-12-19T11:51:03Z",
      "side": 1,
      "message": "Oh, now I see. It sounds like a problem I am hitting while removing public_deps.\n\nIs the error related to the include path of a nacl header? In that case I think the problem is the usage of public_configs in the native_client_sdk/src/libraries/nacl_io:nacl_io target [1].\n\nUsing all_dependent_configs instead of public_configs should remove the need of depending on\nit in all the targets that include these headers because just depending on rtc_base will be\nenough to inherit the include path.\n\nI think we can try locally and eventually file a CL to fix that in nacl_io directly.\n\n[1] - https://cs.chromium.org/chromium/src/native_client_sdk/src/libraries/nacl_io/BUILD.gn?l\u003d206\u0026rcl\u003debb66ffb22611d7cc1a50711b0c3eb5a609a5a79",
      "parentUuid": "726ffef3_388edb59",
      "range": {
        "startLine": 108,
        "startChar": 4,
        "endLine": 108,
        "endChar": 56
      },
      "revId": "fd83a6f9f0d177d39e8ca29901918cd850745423",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d5706244_bdcad11a",
        "filename": "api/BUILD.gn",
        "patchSetId": 3
      },
      "lineNbr": 108,
      "author": {
        "id": 5027
      },
      "writtenOn": "2017-12-19T14:23:14Z",
      "side": 1,
      "message": "Well, the problem is with a POSIX header, don\u0027t remember which one but I think it was \u003csys/socket.h\u003e or something like that. It\u0027s not a NACL header but I suppose NACL makes it visible.",
      "parentUuid": "5c9f244b_ea5393a4",
      "range": {
        "startLine": 108,
        "startChar": 4,
        "endLine": 108,
        "endChar": 56
      },
      "revId": "fd83a6f9f0d177d39e8ca29901918cd850745423",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ccf58d54_a165c0e0",
        "filename": "api/BUILD.gn",
        "patchSetId": 3
      },
      "lineNbr": 108,
      "author": {
        "id": 5027
      },
      "writtenOn": "2017-12-19T14:23:58Z",
      "side": 1,
      "message": "Maybe land this CL in the meantime?",
      "parentUuid": "d5706244_bdcad11a",
      "range": {
        "startLine": 108,
        "startChar": 4,
        "endLine": 108,
        "endChar": 56
      },
      "revId": "fd83a6f9f0d177d39e8ca29901918cd850745423",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    }
  ]
}