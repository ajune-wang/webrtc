{
  "comments": [
    {
      "key": {
        "uuid": "7199a5c9_96d9d6d9",
        "filename": "rtc_base/java/src/org/webrtc/Logging.java",
        "patchSetId": 4
      },
      "lineNbr": 126,
      "author": {
        "id": 5098
      },
      "writtenOn": "2018-05-02T13:14:40Z",
      "side": 1,
      "message": "Can the native logger and fallback logger be implemented using the Loggable interface? It would be cool if this function could just be:\npublic static void log(Severity severity, String tag, String message) {\n  if (loggable !\u003d null) {\n    loggable.onLogMessage(message, severity, tag);\n  }\n}",
      "range": {
        "startLine": 104,
        "startChar": 0,
        "endLine": 126,
        "endChar": 52
      },
      "revId": "b49ccf3219156350206bebe35d255536b23b5d73",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2b8a325d_4160f1e6",
        "filename": "rtc_base/java/src/org/webrtc/Logging.java",
        "patchSetId": 4
      },
      "lineNbr": 126,
      "author": {
        "id": 6589
      },
      "writtenOn": "2018-05-07T08:29:50Z",
      "side": 1,
      "message": "Done. The nullcheck can even be removed by ensuring loggable is never null.",
      "parentUuid": "7199a5c9_96d9d6d9",
      "range": {
        "startLine": 104,
        "startChar": 0,
        "endLine": 126,
        "endChar": 52
      },
      "revId": "b49ccf3219156350206bebe35d255536b23b5d73",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "580d5b9e_8358662a",
        "filename": "rtc_base/logging.cc",
        "patchSetId": 4
      },
      "lineNbr": 26,
      "author": {
        "id": 5098
      },
      "writtenOn": "2018-05-02T13:14:40Z",
      "side": 1,
      "message": "Remove",
      "range": {
        "startLine": 26,
        "startChar": 32,
        "endLine": 26,
        "endChar": 43
      },
      "revId": "b49ccf3219156350206bebe35d255536b23b5d73",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "52ceb76e_1bdad6ce",
        "filename": "rtc_base/logging.cc",
        "patchSetId": 4
      },
      "lineNbr": 26,
      "author": {
        "id": 6589
      },
      "writtenOn": "2018-05-07T08:29:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "580d5b9e_8358662a",
      "range": {
        "startLine": 26,
        "startChar": 32,
        "endLine": 26,
        "endChar": 43
      },
      "revId": "b49ccf3219156350206bebe35d255536b23b5d73",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5465755d_01f51b69",
        "filename": "sdk/android/BUILD.gn",
        "patchSetId": 4
      },
      "lineNbr": 539,
      "author": {
        "id": 5112
      },
      "writtenOn": "2018-05-02T14:09:00Z",
      "side": 1,
      "message": "Can you:\n1. Get rid of redundant jni_ prefix\n2. Move the files to \"logging\" subdirectory\n3. Move them to a separate logging_jni target.",
      "range": {
        "startLine": 539,
        "startChar": 16,
        "endLine": 539,
        "endChar": 20
      },
      "revId": "b49ccf3219156350206bebe35d255536b23b5d73",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "15d6ea1d_aa2316db",
        "filename": "sdk/android/BUILD.gn",
        "patchSetId": 4
      },
      "lineNbr": 539,
      "author": {
        "id": 6589
      },
      "writtenOn": "2018-05-07T08:29:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5465755d_01f51b69",
      "range": {
        "startLine": 539,
        "startChar": 16,
        "endLine": 539,
        "endChar": 20
      },
      "revId": "b49ccf3219156350206bebe35d255536b23b5d73",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f62034ff_e17d5062",
        "filename": "sdk/android/api/org/webrtc/PeerConnectionFactory.java",
        "patchSetId": 4
      },
      "lineNbr": 213,
      "author": {
        "id": 5098
      },
      "writtenOn": "2018-05-02T13:14:40Z",
      "side": 1,
      "message": "Is the logging severity something we should make customizable in the setInjectableLogger() method?",
      "range": {
        "startLine": 213,
        "startChar": 61,
        "endLine": 213,
        "endChar": 95
      },
      "revId": "b49ccf3219156350206bebe35d255536b23b5d73",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d6df913d_456fe604",
        "filename": "sdk/android/api/org/webrtc/PeerConnectionFactory.java",
        "patchSetId": 4
      },
      "lineNbr": 213,
      "author": {
        "id": 5112
      },
      "writtenOn": "2018-05-02T14:09:00Z",
      "side": 1,
      "message": "The native interface supports multiple loggers with different severity levels. Maybe we should support that as well?",
      "parentUuid": "f62034ff_e17d5062",
      "range": {
        "startLine": 213,
        "startChar": 61,
        "endLine": 213,
        "endChar": 95
      },
      "revId": "b49ccf3219156350206bebe35d255536b23b5d73",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f7598af9_45fa77f4",
        "filename": "sdk/android/api/org/webrtc/PeerConnectionFactory.java",
        "patchSetId": 4
      },
      "lineNbr": 213,
      "author": {
        "id": 6589
      },
      "writtenOn": "2018-05-07T08:29:50Z",
      "side": 1,
      "message": "Done, for the case of a single logger. We could look into multiple loggers after this CL is done.",
      "parentUuid": "d6df913d_456fe604",
      "range": {
        "startLine": 213,
        "startChar": 61,
        "endLine": 213,
        "endChar": 95
      },
      "revId": "b49ccf3219156350206bebe35d255536b23b5d73",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ba9d135_5c63501e",
        "filename": "sdk/android/src/java/org/webrtc/JNILogging.java",
        "patchSetId": 4
      },
      "lineNbr": 24,
      "author": {
        "id": 5098
      },
      "writtenOn": "2018-05-02T13:14:40Z",
      "side": 1,
      "message": "I think you can skip this class and work directly against the Loggable interface if you annotate onLogMessage with @CalledByNative.",
      "range": {
        "startLine": 24,
        "startChar": 2,
        "endLine": 24,
        "endChar": 17
      },
      "revId": "b49ccf3219156350206bebe35d255536b23b5d73",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "88595c4e_1c46c713",
        "filename": "sdk/android/src/java/org/webrtc/JNILogging.java",
        "patchSetId": 4
      },
      "lineNbr": 24,
      "author": {
        "id": 6589
      },
      "writtenOn": "2018-05-07T08:29:50Z",
      "side": 1,
      "message": "This causes some dependency issues. Loggable and Logging depend on each other and should be in the same target, but to have JNI work directly against the Loggable interface it would need to be in sdk/android, while Logging is in rtc_base. \n\nMoving Severity from Logging to Loggable would break that dependency, but there is also CalledByNative which is in base_java which depends on rtc_base, so that would have to be solved as well.\n\nIt would be easiest to keep JNILogging around until we can move rtc_base to sdk/android.",
      "parentUuid": "8ba9d135_5c63501e",
      "range": {
        "startLine": 24,
        "startChar": 2,
        "endLine": 24,
        "endChar": 17
      },
      "revId": "b49ccf3219156350206bebe35d255536b23b5d73",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "56f0ee71_ade163ef",
        "filename": "sdk/android/src/jni/pc/jni_logsink.h",
        "patchSetId": 4
      },
      "lineNbr": 33,
      "author": {
        "id": 5098
      },
      "writtenOn": "2018-05-02T13:14:40Z",
      "side": 1,
      "message": "Store this as a local variable in OnLogMessage instead.",
      "range": {
        "startLine": 33,
        "startChar": 2,
        "endLine": 33,
        "endChar": 15
      },
      "revId": "b49ccf3219156350206bebe35d255536b23b5d73",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2602d38f_8df71e9d",
        "filename": "sdk/android/src/jni/pc/jni_logsink.h",
        "patchSetId": 4
      },
      "lineNbr": 33,
      "author": {
        "id": 6589
      },
      "writtenOn": "2018-05-07T08:29:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "56f0ee71_ade163ef",
      "range": {
        "startLine": 33,
        "startChar": 2,
        "endLine": 33,
        "endChar": 15
      },
      "revId": "b49ccf3219156350206bebe35d255536b23b5d73",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e2fa55e9_d74e0657",
        "filename": "sdk/android/src/jni/pc/peerconnectionfactory.cc",
        "patchSetId": 4
      },
      "lineNbr": 535,
      "author": {
        "id": 5112
      },
      "writtenOn": "2018-05-02T14:09:00Z",
      "side": 1,
      "message": "I am a bit uncomfortable with just leaking the logging object because I think some clients call initialize multiple times.",
      "range": {
        "startLine": 535,
        "startChar": 6,
        "endLine": 535,
        "endChar": 20
      },
      "revId": "b49ccf3219156350206bebe35d255536b23b5d73",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d898d2a2_aa575746",
        "filename": "sdk/android/src/jni/pc/peerconnectionfactory.cc",
        "patchSetId": 4
      },
      "lineNbr": 535,
      "author": {
        "id": 6589
      },
      "writtenOn": "2018-05-07T08:29:50Z",
      "side": 1,
      "message": "Done. Agreed, this was a temporary solution. I\u0027m not sure about keeping a static pointer to the logsink here, but it\u0027s easier than keeping track of it in Java.",
      "parentUuid": "e2fa55e9_d74e0657",
      "range": {
        "startLine": 535,
        "startChar": 6,
        "endLine": 535,
        "endChar": 20
      },
      "revId": "b49ccf3219156350206bebe35d255536b23b5d73",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}