{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "932c74f9_b39a5834",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5634
      },
      "writtenOn": "2021-10-13T07:06:14Z",
      "side": 1,
      "message": "Good metrics.\nSo we\u0027ll have to wait until 97 is in beta before making an informed choice. Shouldn\u0027t be an issue, really.",
      "revId": "0b27a0313e732165baeb8a248506ff19f561ad30",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c4844512_0b97ce2b",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 2
      },
      "lineNbr": 656,
      "author": {
        "id": 5634
      },
      "writtenOn": "2021-10-13T07:06:14Z",
      "side": 1,
      "message": "For consistency, can you make it \"Created\" rather than \"Create\"?\nOr perhaps \"Configured\"?",
      "revId": "0b27a0313e732165baeb8a248506ff19f561ad30",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cf50038c_a70dad2d",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 2
      },
      "lineNbr": 656,
      "author": {
        "id": 7755
      },
      "writtenOn": "2021-10-13T08:34:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c4844512_0b97ce2b",
      "revId": "0b27a0313e732165baeb8a248506ff19f561ad30",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1d756e70_a6eece37",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 2
      },
      "lineNbr": 657,
      "author": {
        "id": 7641
      },
      "writtenOn": "2021-10-13T09:09:37Z",
      "side": 1,
      "message": "Do you need 256 buckets? Each bucket is preallocated in memory, so the memory usage is directly related to the number of buckets.\nIf there\u0027s a good reason you can have 256 buckets, but it would have to be reviewed by a top-level metrics owner.\n\nTwo alternatives are:\n-Use 50 (default) or maybe 100 buckets.\n-Use a sparse histogram (slower and more overhead per sample).",
      "range": {
        "startLine": 657,
        "startChar": 69,
        "endLine": 657,
        "endChar": 72
      },
      "revId": "0b27a0313e732165baeb8a248506ff19f561ad30",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9cbaaa65_e228ab9e",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 2
      },
      "lineNbr": 657,
      "author": {
        "id": 7755
      },
      "writtenOn": "2021-10-13T09:14:48Z",
      "side": 1,
      "message": "the limit we\u0027re currently aiming for is 64 but that is because we don\u0027t know.\nMeasuring with 50  (I assume everything above would go into the last bucket) should work too, I expect 99% (of the connected ones) to be below 10.",
      "parentUuid": "1d756e70_a6eece37",
      "range": {
        "startLine": 657,
        "startChar": 69,
        "endLine": 657,
        "endChar": 72
      },
      "revId": "0b27a0313e732165baeb8a248506ff19f561ad30",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fa6e0b2d_91c349e8",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 2
      },
      "lineNbr": 657,
      "author": {
        "id": 7641
      },
      "writtenOn": "2021-10-13T09:28:47Z",
      "side": 1,
      "message": "The last bucket is used for the max number and everything above that number.\n\nYou also have the exponential histograms (e.g., RTC_HISTOGRAMS_COUNTS_100) that may be useful if you want high precision for the lower numbers and at the same time be able to have a high maximum value without using too many buckets.",
      "parentUuid": "9cbaaa65_e228ab9e",
      "range": {
        "startLine": 657,
        "startChar": 69,
        "endLine": 657,
        "endChar": 72
      },
      "revId": "0b27a0313e732165baeb8a248506ff19f561ad30",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "385e1bb9_286a292f",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 2
      },
      "lineNbr": 657,
      "author": {
        "id": 7755
      },
      "writtenOn": "2021-10-13T09:39:42Z",
      "side": 1,
      "message": "changed to 32.\n\nI also used 256 in  WebRTC.PeerConnection.CandidatePoolUsage, does it make sense to reduce that in hindsight (we have the data we wanted for that so removing that may be an option)",
      "parentUuid": "fa6e0b2d_91c349e8",
      "range": {
        "startLine": 657,
        "startChar": 69,
        "endLine": 657,
        "endChar": 72
      },
      "revId": "0b27a0313e732165baeb8a248506ff19f561ad30",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "85df2bbe_be315cfa",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 2
      },
      "lineNbr": 657,
      "author": {
        "id": 7641
      },
      "writtenOn": "2021-10-13T10:07:47Z",
      "side": 1,
      "message": "It\u0027s unfortunately not possible/recommended to change the number of buckets since you get a mixture of data then. You would have to create a new histogram in that case, see https://chromium.googlesource.com/chromium/src.git/+/HEAD/tools/metrics/histograms/README.md#revising-histograms\n\nI don\u0027t think that one or two histograms makes that much difference. Perhaps the easiest thing is to eventually remove it if you don\u0027t need the data any more.",
      "parentUuid": "385e1bb9_286a292f",
      "range": {
        "startLine": 657,
        "startChar": 69,
        "endLine": 657,
        "endChar": 72
      },
      "revId": "0b27a0313e732165baeb8a248506ff19f561ad30",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c294b5bc_93f6db9a",
        "filename": "pc/peer_connection.cc",
        "patchSetId": 2
      },
      "lineNbr": 1904,
      "author": {
        "id": 5634
      },
      "writtenOn": "2021-10-13T07:06:14Z",
      "side": 1,
      "message": "Looking forward to seeing how you explain in the XML file that this is the number of configured servers for connected connections...",
      "revId": "0b27a0313e732165baeb8a248506ff19f561ad30",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}