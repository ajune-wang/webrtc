{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "cf672a9b_2411171c",
        "filename": "modules/desktop_capture/mac/sck_screen_capturer.mm",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 5147
      },
      "writtenOn": "2024-05-29T09:41:21Z",
      "side": 1,
      "message": "`\u003d nullptr;`?",
      "revId": "8392186df749bae4ed39a1ce18464e7f2117e033",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "158656d3_49753cf3",
        "filename": "modules/desktop_capture/mac/sck_screen_capturer.mm",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 6092
      },
      "writtenOn": "2024-05-29T23:31:48Z",
      "side": 1,
      "message": "This is an Obj-C reference, so it would be `nil` I think? Not sure if we need to be explicit?",
      "parentUuid": "cf672a9b_2411171c",
      "revId": "8392186df749bae4ed39a1ce18464e7f2117e033",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "62d7b0cb_62e4688a",
        "filename": "modules/desktop_capture/mac/sck_screen_capturer.mm",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 5147
      },
      "writtenOn": "2024-05-30T08:04:27Z",
      "side": 1,
      "message": "I\u0027m not an expert, but a cursory check yielded that the answer is likely \"only if ARC is used.\" I am not sure if ARC is used for all libwebrtc builds.\n\nI could imagine it would be considered best practice to initialize explicitly regardless; it\u0027s harder for me to imagine it would be discouraged to initialize explicitly.\n\nAlso, you\u0027re already initializing `callback_` down in line 63... :-)",
      "parentUuid": "158656d3_49753cf3",
      "revId": "8392186df749bae4ed39a1ce18464e7f2117e033",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b94403ee_f6abeac4",
        "filename": "modules/desktop_capture/mac/sck_screen_capturer.mm",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 6116
      },
      "writtenOn": "2024-05-30T23:56:50Z",
      "side": 1,
      "message": "Are you building with ARC? We‚Äôd want to be doing so.\n\nBecause with ARC all ObjC member variables should be marked with `__strong` (it‚Äôs style) you can do that and see if it compiles correctly. If so you have ARC.",
      "parentUuid": "62d7b0cb_62e4688a",
      "revId": "8392186df749bae4ed39a1ce18464e7f2117e033",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e10cd1a0_ca419e29",
        "filename": "modules/desktop_capture/mac/sck_screen_capturer.mm",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 5147
      },
      "writtenOn": "2024-05-31T12:48:48Z",
      "side": 1,
      "message": "Note that this is in the WebRTC repo, btw, and that projects other than Chromium also use this repo.",
      "parentUuid": "b94403ee_f6abeac4",
      "revId": "8392186df749bae4ed39a1ce18464e7f2117e033",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5b7eace7_77deb741",
        "filename": "modules/desktop_capture/mac/sck_screen_capturer.mm",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 6116
      },
      "writtenOn": "2024-05-31T15:45:55Z",
      "side": 1,
      "message": "Then we might need to build without ARC, but then this code is leaking a lot.\n\nWe should either use manual memory management, or we should put a ‚Äúrequires ARC‚Äù boilerplate at the top of all these files to enforce that it compile with ARC.",
      "parentUuid": "e10cd1a0_ca419e29",
      "revId": "8392186df749bae4ed39a1ce18464e7f2117e033",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "78599062_8354a547",
        "filename": "modules/desktop_capture/mac/sck_screen_capturer.mm",
        "patchSetId": 1
      },
      "lineNbr": 61,
      "author": {
        "id": 5147
      },
      "writtenOn": "2024-05-29T09:41:21Z",
      "side": 1,
      "message": "`\u003d nullptr;`?",
      "revId": "8392186df749bae4ed39a1ce18464e7f2117e033",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e120e8f2_8cf4d3ca",
        "filename": "modules/desktop_capture/mac/sck_screen_capturer.mm",
        "patchSetId": 1
      },
      "lineNbr": 61,
      "author": {
        "id": 6092
      },
      "writtenOn": "2024-05-29T23:31:48Z",
      "side": 1,
      "message": "Same thing here.",
      "parentUuid": "78599062_8354a547",
      "revId": "8392186df749bae4ed39a1ce18464e7f2117e033",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3e31738b_972db929",
        "filename": "modules/desktop_capture/mac/sck_screen_capturer.mm",
        "patchSetId": 1
      },
      "lineNbr": 193,
      "author": {
        "id": 5147
      },
      "writtenOn": "2024-05-29T09:41:21Z",
      "side": 1,
      "message": "Would this limit the time the lock is held?\n```\n  std::unique_ptr\u003cSharedDesktopFrame\u003e frame \u003d\n      SharedDesktopFrame::Wrap(std::move(desktop_frame_io_surface));\n  {\n    MutexLock lock(\u0026latest_frame_lock_);\n    std::swap(latest_frame_, frame);\n  }\n```\nstd::swap used to ensure the destructor is also invoked after the mutex is relinquished.",
      "range": {
        "startLine": 192,
        "startChar": 0,
        "endLine": 193,
        "endChar": 80
      },
      "revId": "8392186df749bae4ed39a1ce18464e7f2117e033",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "85303a6a_e296f78e",
        "filename": "modules/desktop_capture/mac/sck_screen_capturer.mm",
        "patchSetId": 1
      },
      "lineNbr": 193,
      "author": {
        "id": 6092
      },
      "writtenOn": "2024-05-29T23:31:48Z",
      "side": 1,
      "message": "I like that! üëç Then the mutex is only held while 2 pointers get swapped. Done!",
      "parentUuid": "3e31738b_972db929",
      "range": {
        "startLine": 192,
        "startChar": 0,
        "endLine": 193,
        "endChar": 80
      },
      "revId": "8392186df749bae4ed39a1ce18464e7f2117e033",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a7ededce_de78c832",
        "filename": "modules/desktop_capture/screen_capturer_darwin.mm",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 5147
      },
      "writtenOn": "2024-05-29T09:41:21Z",
      "side": 1,
      "message": "Not commenting as this part is patently still WIP. :-)",
      "revId": "8392186df749bae4ed39a1ce18464e7f2117e033",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}