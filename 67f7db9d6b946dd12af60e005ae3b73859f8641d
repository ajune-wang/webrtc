{
  "comments": [
    {
      "key": {
        "uuid": "2092692e_f09144b5",
        "filename": "p2p/base/p2p_transport_channel.cc",
        "patchSetId": 5
      },
      "lineNbr": 155,
      "author": {
        "id": 5800
      },
      "writtenOn": "2019-04-13T00:39:24Z",
      "side": 1,
      "message": "Is there ever a case where this is a nullptr? Should this be DCHECKed in the constructor? I see that allocator_ is used in other places and if it were nullptr I think it would crash.",
      "range": {
        "startLine": 155,
        "startChar": 6,
        "endLine": 155,
        "endChar": 16
      },
      "revId": "67f7db9d6b946dd12af60e005ae3b73859f8641d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ae312676_e8227089",
        "filename": "p2p/base/p2p_transport_channel.cc",
        "patchSetId": 5
      },
      "lineNbr": 155,
      "author": {
        "id": 6646
      },
      "writtenOn": "2019-04-15T21:28:01Z",
      "side": 1,
      "message": "It was really a bad test I was guarding against. DCHECK here and changing that test makes way more sense. Revised.",
      "parentUuid": "2092692e_f09144b5",
      "range": {
        "startLine": 155,
        "startChar": 6,
        "endLine": 155,
        "endChar": 16
      },
      "revId": "67f7db9d6b946dd12af60e005ae3b73859f8641d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "284e8f06_fe89bd5a",
        "filename": "p2p/base/p2p_transport_channel_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 5017,
      "author": {
        "id": 5800
      },
      "writtenOn": "2019-04-13T00:39:24Z",
      "side": 1,
      "message": "Is it worth testing other scenarios?\n-CF_NONE --\u003e CF_RELAY\n-CF_RELAY --\u003e CF_REFLEXIVE\n-stun --\u003e all\n\nI\u0027m not sure what kind of coverage you\u0027re looking for here.",
      "range": {
        "startLine": 5017,
        "startChar": 0,
        "endLine": 5017,
        "endChar": 0
      },
      "revId": "67f7db9d6b946dd12af60e005ae3b73859f8641d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1b6c545b_03f8002b",
        "filename": "p2p/base/p2p_transport_channel_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 5017,
      "author": {
        "id": 6646
      },
      "writtenOn": "2019-04-15T21:28:01Z",
      "side": 1,
      "message": "The candidate filter is set via the RTCIceTransportPolicy in RTCConfigruation, which takes only \u0027all\u0027 or \u0027relay\u0027 but agreed we need more coverage in the lower level. I am currently testing the non-standard transitions in the port allocator tests, adding the above there.",
      "parentUuid": "284e8f06_fe89bd5a",
      "range": {
        "startLine": 5017,
        "startChar": 0,
        "endLine": 5017,
        "endChar": 0
      },
      "revId": "67f7db9d6b946dd12af60e005ae3b73859f8641d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae7b2e21_eddf36cd",
        "filename": "p2p/base/port_allocator.h",
        "patchSetId": 5
      },
      "lineNbr": 214,
      "author": {
        "id": 5800
      },
      "writtenOn": "2019-04-13T00:39:24Z",
      "side": 1,
      "message": "I think you meant to put this documentation in PortAllocator::SetCandidateFilter? Here is PortAllocatorSession::SetCandidateFilter.",
      "range": {
        "startLine": 211,
        "startChar": 0,
        "endLine": 214,
        "endChar": 39
      },
      "revId": "67f7db9d6b946dd12af60e005ae3b73859f8641d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b617db8f_e83f39a7",
        "filename": "p2p/base/port_allocator.h",
        "patchSetId": 5
      },
      "lineNbr": 214,
      "author": {
        "id": 6646
      },
      "writtenOn": "2019-04-15T21:28:01Z",
      "side": 1,
      "message": "Thanks for catching this! Yes, it\u0027s meant for the other SetCandidateFilter. I confused myself in  some of the comment blocks. Edited the comments here and below.",
      "parentUuid": "ae7b2e21_eddf36cd",
      "range": {
        "startLine": 211,
        "startChar": 0,
        "endLine": 214,
        "endChar": 39
      },
      "revId": "67f7db9d6b946dd12af60e005ae3b73859f8641d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "25c47172_1387c8db",
        "filename": "p2p/base/port_allocator.h",
        "patchSetId": 5
      },
      "lineNbr": 536,
      "author": {
        "id": 5800
      },
      "writtenOn": "2019-04-13T00:39:24Z",
      "side": 1,
      "message": "Awesome documentation, thanks for adding this!\n\nDid you mean to put this inside PortAllocatorSession::SetCandidateFilter instead? It seems more appropriate there.",
      "range": {
        "startLine": 536,
        "startChar": 0,
        "endLine": 536,
        "endChar": 78
      },
      "revId": "67f7db9d6b946dd12af60e005ae3b73859f8641d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e38912ce_fb547a5b",
        "filename": "p2p/base/port_allocator.h",
        "patchSetId": 5
      },
      "lineNbr": 536,
      "author": {
        "id": 6646
      },
      "writtenOn": "2019-04-15T21:28:01Z",
      "side": 1,
      "message": "Good point. This is related to the implementation (BasicPortAllocatorSession::SetCandidateFilter). Moving inside the implementation header gives way more context and probably should only apply there.",
      "parentUuid": "25c47172_1387c8db",
      "range": {
        "startLine": 536,
        "startChar": 0,
        "endLine": 536,
        "endChar": 78
      },
      "revId": "67f7db9d6b946dd12af60e005ae3b73859f8641d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "496cdc01_8b77977f",
        "filename": "p2p/base/port_allocator.h",
        "patchSetId": 5
      },
      "lineNbr": 546,
      "author": {
        "id": 5800
      },
      "writtenOn": "2019-04-13T00:39:24Z",
      "side": 1,
      "message": "It looks like in P2PTransportChannel is grabs the *current* allocation session and updates its filter.",
      "range": {
        "startLine": 546,
        "startChar": 47,
        "endLine": 546,
        "endChar": 53
      },
      "revId": "67f7db9d6b946dd12af60e005ae3b73859f8641d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3a1b12e0_5a5545cf",
        "filename": "p2p/base/port_allocator.h",
        "patchSetId": 5
      },
      "lineNbr": 546,
      "author": {
        "id": 6646
      },
      "writtenOn": "2019-04-15T21:28:01Z",
      "side": 1,
      "message": "After placing the comments in the right place, I have clarified this a bit more: this is done when creating a session, and for pooled sessions, done via TakePooledSession.",
      "parentUuid": "496cdc01_8b77977f",
      "range": {
        "startLine": 546,
        "startChar": 47,
        "endLine": 546,
        "endChar": 53
      },
      "revId": "67f7db9d6b946dd12af60e005ae3b73859f8641d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eca22594_c18e183c",
        "filename": "p2p/base/port_allocator.h",
        "patchSetId": 5
      },
      "lineNbr": 549,
      "author": {
        "id": 5800
      },
      "writtenOn": "2019-04-13T00:39:24Z",
      "side": 1,
      "message": "Is this tested?",
      "range": {
        "startLine": 549,
        "startChar": 62,
        "endLine": 549,
        "endChar": 15
      },
      "revId": "67f7db9d6b946dd12af60e005ae3b73859f8641d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3bf82933_674c5c45",
        "filename": "p2p/base/port_allocator.h",
        "patchSetId": 5
      },
      "lineNbr": 549,
      "author": {
        "id": 6646
      },
      "writtenOn": "2019-04-15T21:28:01Z",
      "side": 1,
      "message": "I have added a test RestrictingCandidateFilterDoesNotRemoveRegatheredCandidates in p2p_transport_chanenel_unittest.cc",
      "parentUuid": "eca22594_c18e183c",
      "range": {
        "startLine": 549,
        "startChar": 62,
        "endLine": 549,
        "endChar": 15
      },
      "revId": "67f7db9d6b946dd12af60e005ae3b73859f8641d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2a9c6b85_89e21e95",
        "filename": "p2p/client/basic_port_allocator.cc",
        "patchSetId": 5
      },
      "lineNbr": 359,
      "author": {
        "id": 7524
      },
      "writtenOn": "2019-04-15T16:20:04Z",
      "side": 1,
      "message": "If TURN ports are now included, they might already have been pruned?",
      "revId": "67f7db9d6b946dd12af60e005ae3b73859f8641d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7aa64403_e5d42530",
        "filename": "p2p/client/basic_port_allocator.cc",
        "patchSetId": 5
      },
      "lineNbr": 359,
      "author": {
        "id": 6646
      },
      "writtenOn": "2019-04-15T21:28:01Z",
      "side": 1,
      "message": "We test if the port is pruned or in error at the beginning of this loop. If a port is already pruned, we do not signal candidates it gathered but not yet signaled.",
      "parentUuid": "2a9c6b85_89e21e95",
      "revId": "67f7db9d6b946dd12af60e005ae3b73859f8641d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5d17151b_2367dc62",
        "filename": "p2p/client/basic_port_allocator.cc",
        "patchSetId": 5
      },
      "lineNbr": 371,
      "author": {
        "id": 7524
      },
      "writtenOn": "2019-04-15T16:20:04Z",
      "side": 1,
      "message": "Seems like these loops could be combined.",
      "revId": "67f7db9d6b946dd12af60e005ae3b73859f8641d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "23d3f12a_535ca710",
        "filename": "p2p/client/basic_port_allocator.cc",
        "patchSetId": 5
      },
      "lineNbr": 371,
      "author": {
        "id": 6646
      },
      "writtenOn": "2019-04-15T21:28:01Z",
      "side": 1,
      "message": "Good point. Done.",
      "parentUuid": "5d17151b_2367dc62",
      "revId": "67f7db9d6b946dd12af60e005ae3b73859f8641d",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}