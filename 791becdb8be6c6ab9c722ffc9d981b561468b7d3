{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "52090a29_8b8999a3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 5234
      },
      "writtenOn": "2021-05-17T07:50:42Z",
      "side": 1,
      "message": "Hi, I fully support moving the construction of RtpTransportControllerSend out of Call.\n\nI have some doubts about exposing the RtpTransportControllerSendInterface as part of the peerconnection api. That class is the result of a partly done refactoring. If it\u0027s useful in it\u0027s current shape, that\u0027s nice, but I\u0027d nevertheless would like to have a documented usecase before advertising it via api/.\n",
      "revId": "791becdb8be6c6ab9c722ffc9d981b561468b7d3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e7867b51_e473b4e6",
        "filename": "api/test/create_time_controller.cc",
        "patchSetId": 16
      },
      "lineNbr": 39,
      "author": {
        "id": 5234
      },
      "writtenOn": "2021-05-17T07:50:42Z",
      "side": 1,
      "message": "Coding style says this should use \"snake case\", `transport_controller_send`.",
      "range": {
        "startLine": 39,
        "startChar": 25,
        "endLine": 39,
        "endChar": 48
      },
      "revId": "791becdb8be6c6ab9c722ffc9d981b561468b7d3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "654d5bff_e827ec73",
        "filename": "api/test/create_time_controller.cc",
        "patchSetId": 16
      },
      "lineNbr": 39,
      "author": {
        "id": 17619
      },
      "writtenOn": "2021-05-17T10:56:47Z",
      "side": 1,
      "message": "I\u0027ll do it promptly.",
      "parentUuid": "e7867b51_e473b4e6",
      "range": {
        "startLine": 39,
        "startChar": 25,
        "endLine": 39,
        "endChar": 48
      },
      "revId": "791becdb8be6c6ab9c722ffc9d981b561468b7d3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4490a7a6_06eb6815",
        "filename": "call/call.cc",
        "patchSetId": 16
      },
      "lineNbr": 520,
      "author": {
        "id": 5234
      },
      "writtenOn": "2021-05-17T07:50:42Z",
      "side": 1,
      "message": "I don\u0027t think there should be a factory here. Either make the RtpTransportControllerSendInterface required at construction (I think that\u0027s preferable), or have a fallback that constructs an RtpTransportControllerSend without going via any factory.",
      "range": {
        "startLine": 520,
        "startChar": 0,
        "endLine": 520,
        "endChar": 66
      },
      "revId": "791becdb8be6c6ab9c722ffc9d981b561468b7d3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6fb23667_f7a6bedc",
        "filename": "call/call.cc",
        "patchSetId": 16
      },
      "lineNbr": 520,
      "author": {
        "id": 17619
      },
      "writtenOn": "2021-05-17T10:56:47Z",
      "side": 1,
      "message": "I was thinking about making said interface required, but problem I faced was that quite a few tests depend on single param Create method, the one that accepts CallConfig only. Because of that I decided to stick with original Create methods plus new ones where it is required. Not going via factory is fine but I wanted to encapsulate that creation and use it where necessary, not using default factory in this particular place kind of defeats the purpose of it. I am not too fond of this particular situation but I didn\u0027t see a reasonable way to have small enough change to enable custom factory and have it small enough at the same time. If you still feel that I should remove said factory from here, I\u0027ll revert this method to it\u0027s original state.",
      "parentUuid": "4490a7a6_06eb6815",
      "range": {
        "startLine": 520,
        "startChar": 0,
        "endLine": 520,
        "endChar": 66
      },
      "revId": "791becdb8be6c6ab9c722ffc9d981b561468b7d3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0406358c_263fd3cd",
        "filename": "call/call.cc",
        "patchSetId": 16
      },
      "lineNbr": 520,
      "author": {
        "id": 5234
      },
      "writtenOn": "2021-05-17T11:25:06Z",
      "side": 1,
      "message": "Would it work to have the single-argument method (to avoid updating lots of tests), and a method including all the args, to be used by CallFactory, and try to delete the rest?",
      "parentUuid": "6fb23667_f7a6bedc",
      "range": {
        "startLine": 520,
        "startChar": 0,
        "endLine": 520,
        "endChar": 66
      },
      "revId": "791becdb8be6c6ab9c722ffc9d981b561468b7d3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7d83aa2f_5e32ccf2",
        "filename": "call/call.cc",
        "patchSetId": 16
      },
      "lineNbr": 520,
      "author": {
        "id": 17619
      },
      "writtenOn": "2021-05-17T11:40:54Z",
      "side": 1,
      "message": "Ok I\u0027ll try to do that while I tackle the snake case comment and see what falls out.",
      "parentUuid": "0406358c_263fd3cd",
      "range": {
        "startLine": 520,
        "startChar": 0,
        "endLine": 520,
        "endChar": 66
      },
      "revId": "791becdb8be6c6ab9c722ffc9d981b561468b7d3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f1266d26_3614108c",
        "filename": "call/call.cc",
        "patchSetId": 16
      },
      "lineNbr": 520,
      "author": {
        "id": 17619
      },
      "writtenOn": "2021-05-18T19:20:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7d83aa2f_5e32ccf2",
      "range": {
        "startLine": 520,
        "startChar": 0,
        "endLine": 520,
        "endChar": 66
      },
      "revId": "791becdb8be6c6ab9c722ffc9d981b561468b7d3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ba1df6fa_de196b86",
        "filename": "call/call.h",
        "patchSetId": 16
      },
      "lineNbr": 106,
      "author": {
        "id": 5234
      },
      "writtenOn": "2021-05-17T07:50:42Z",
      "side": 1,
      "message": "This is a pretty large set of Create methods. Can we delete some of them? And/or move clock and call_thread (which are copyable types) into Call::Config? \n\nWithin webrtc, it looks like Call::Create is used only in test code (which doesn\u0027t motivate convenience here, imo) and by CallFactory.",
      "range": {
        "startLine": 85,
        "startChar": 0,
        "endLine": 106,
        "endChar": 51
      },
      "revId": "791becdb8be6c6ab9c722ffc9d981b561468b7d3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "029a1133_3ff441c5",
        "filename": "call/call.h",
        "patchSetId": 16
      },
      "lineNbr": 106,
      "author": {
        "id": 17619
      },
      "writtenOn": "2021-05-17T10:56:47Z",
      "side": 1,
      "message": "I have partially touched in this in comment for https://webrtc-review.googlesource.com/c/src/+/217769/16/call/call.cc#520\n\nI waned to keep single param create method in order to keep changes reasonably sized. I can try to move clock and call_thread in CallConfig, and defaulted as they are in current Create variants, would that be acceptable solution?",
      "parentUuid": "ba1df6fa_de196b86",
      "range": {
        "startLine": 85,
        "startChar": 0,
        "endLine": 106,
        "endChar": 51
      },
      "revId": "791becdb8be6c6ab9c722ffc9d981b561468b7d3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f292cba2_49eaba85",
        "filename": "call/call.h",
        "patchSetId": 16
      },
      "lineNbr": 106,
      "author": {
        "id": 5234
      },
      "writtenOn": "2021-05-17T11:25:06Z",
      "side": 1,
      "message": "Moving clock and call_thread makes sense to me, but I think that\u0027s best done as a separate cl. There may be some obstacles, e.g., google-internal tests using Call directly.",
      "parentUuid": "029a1133_3ff441c5",
      "range": {
        "startLine": 85,
        "startChar": 0,
        "endLine": 106,
        "endChar": 51
      },
      "revId": "791becdb8be6c6ab9c722ffc9d981b561468b7d3",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767"
    }
  ]
}