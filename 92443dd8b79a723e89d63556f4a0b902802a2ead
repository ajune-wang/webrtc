{
  "comments": [
    {
      "key": {
        "uuid": "16bdece7_d0a7399f",
        "filename": "api/voip/BUILD.gn",
        "patchSetId": 6
      },
      "lineNbr": 53,
      "author": {
        "id": 5087
      },
      "writtenOn": "2020-04-28T12:36:13Z",
      "side": 1,
      "message": "For things inside WebRTC we use relative labels here (for things outside we use absolute ones).\n\nIs there a reason to switch to absolute ones here as well?",
      "range": {
        "startLine": 53,
        "startChar": 7,
        "endLine": 53,
        "endChar": 9
      },
      "revId": "92443dd8b79a723e89d63556f4a0b902802a2ead",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cbe4592d_d4d631ed",
        "filename": "api/voip/BUILD.gn",
        "patchSetId": 6
      },
      "lineNbr": 53,
      "author": {
        "id": 10558
      },
      "writtenOn": "2020-04-29T00:47:37Z",
      "side": 1,
      "message": "ok thanks, I didn\u0027t know about the convention. Let me switch it back as you suggested.",
      "parentUuid": "16bdece7_d0a7399f",
      "range": {
        "startLine": 53,
        "startChar": 7,
        "endLine": 53,
        "endChar": 9
      },
      "revId": "92443dd8b79a723e89d63556f4a0b902802a2ead",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9b7f5065_71469506",
        "filename": "api/voip/voip_engine.h",
        "patchSetId": 6
      },
      "lineNbr": 32,
      "author": {
        "id": 5126
      },
      "writtenOn": "2020-04-28T11:22:04Z",
      "side": 1,
      "message": "Consider `auto\u0026`, to tell readers that this is a reference.",
      "range": {
        "startLine": 32,
        "startChar": 5,
        "endLine": 32,
        "endChar": 9
      },
      "revId": "92443dd8b79a723e89d63556f4a0b902802a2ead",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "36cbb96a_f52920ec",
        "filename": "api/voip/voip_engine.h",
        "patchSetId": 6
      },
      "lineNbr": 32,
      "author": {
        "id": 10558
      },
      "writtenOn": "2020-04-29T00:47:37Z",
      "side": 1,
      "message": "Good pointer. thanks.",
      "parentUuid": "9b7f5065_71469506",
      "range": {
        "startLine": 32,
        "startChar": 5,
        "endLine": 32,
        "endChar": 9
      },
      "revId": "92443dd8b79a723e89d63556f4a0b902802a2ead",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b0ff91a7_a903f378",
        "filename": "api/voip/voip_engine_factory.cc",
        "patchSetId": 6
      },
      "lineNbr": 22,
      "author": {
        "id": 5126
      },
      "writtenOn": "2020-04-28T11:22:04Z",
      "side": 1,
      "message": "Can we RTC_CHECK these things instead? Errors here are bugs in the caller; there\u0027s no way a correctly made call can fail.",
      "revId": "92443dd8b79a723e89d63556f4a0b902802a2ead",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a1e10639_638faf56",
        "filename": "api/voip/voip_engine_factory.cc",
        "patchSetId": 6
      },
      "lineNbr": 22,
      "author": {
        "id": 10558
      },
      "writtenOn": "2020-04-29T00:47:37Z",
      "side": 1,
      "message": "I see what you mean. Thanks.",
      "parentUuid": "b0ff91a7_a903f378",
      "revId": "92443dd8b79a723e89d63556f4a0b902802a2ead",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7ef0cdf4_75fff04e",
        "filename": "api/voip/voip_engine_factory.cc",
        "patchSetId": 6
      },
      "lineNbr": 38,
      "author": {
        "id": 5126
      },
      "writtenOn": "2020-04-28T11:22:04Z",
      "side": 1,
      "message": "audio_processing \u003d AudioProcessingBuilder().Create();\n\n?",
      "revId": "92443dd8b79a723e89d63556f4a0b902802a2ead",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bf1dd767_597c7bb8",
        "filename": "api/voip/voip_engine_factory.cc",
        "patchSetId": 6
      },
      "lineNbr": 38,
      "author": {
        "id": 10558
      },
      "writtenOn": "2020-04-29T00:47:37Z",
      "side": 1,
      "message": "Removed as we depend on caller on this now.",
      "parentUuid": "7ef0cdf4_75fff04e",
      "revId": "92443dd8b79a723e89d63556f4a0b902802a2ead",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "584d7a6f_37caf7ef",
        "filename": "api/voip/voip_engine_factory.cc",
        "patchSetId": 6
      },
      "lineNbr": 45,
      "author": {
        "id": 5126
      },
      "writtenOn": "2020-04-28T11:22:04Z",
      "side": 1,
      "message": "audio_device \u003d std::move(*config.audio_device);\n\n?",
      "revId": "92443dd8b79a723e89d63556f4a0b902802a2ead",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7ad5a51c_b4849ce1",
        "filename": "api/voip/voip_engine_factory.cc",
        "patchSetId": 6
      },
      "lineNbr": 45,
      "author": {
        "id": 10558
      },
      "writtenOn": "2020-04-29T00:47:37Z",
      "side": 1,
      "message": "Thanks for pointing it out. I missed move constructor definitions.  I just thought swap was what\u0027s available in its place.",
      "parentUuid": "584d7a6f_37caf7ef",
      "revId": "92443dd8b79a723e89d63556f4a0b902802a2ead",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa4358b6_32b1d10c",
        "filename": "api/voip/voip_engine_factory.cc",
        "patchSetId": 6
      },
      "lineNbr": 57,
      "author": {
        "id": 5126
      },
      "writtenOn": "2020-04-28T11:22:04Z",
      "side": 1,
      "message": "std::move these as well? It\u0027s more efficient to move because then we don\u0027t have to update reference counters (atomic instructions), and there\u0027s no reason to leave these in the config struct.",
      "range": {
        "startLine": 56,
        "startChar": 52,
        "endLine": 57,
        "endChar": 69
      },
      "revId": "92443dd8b79a723e89d63556f4a0b902802a2ead",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6842d25e_2f31f054",
        "filename": "api/voip/voip_engine_factory.cc",
        "patchSetId": 6
      },
      "lineNbr": 57,
      "author": {
        "id": 10558
      },
      "writtenOn": "2020-04-29T00:47:37Z",
      "side": 1,
      "message": "Agreed.  As I replied above, I will change them to std::move.",
      "parentUuid": "fa4358b6_32b1d10c",
      "range": {
        "startLine": 56,
        "startChar": 52,
        "endLine": 57,
        "endChar": 69
      },
      "revId": "92443dd8b79a723e89d63556f4a0b902802a2ead",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "40901309_94f702a8",
        "filename": "api/voip/voip_engine_factory.cc",
        "patchSetId": 6
      },
      "lineNbr": 58,
      "author": {
        "id": 5126
      },
      "writtenOn": "2020-04-28T11:22:04Z",
      "side": 1,
      "message": "What could go wrong here? (Trying to figure out if there should really be an error return value, or if errors are simply bugs and best handled with e.g. CHECK.)",
      "revId": "92443dd8b79a723e89d63556f4a0b902802a2ead",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3f901b21_1fe17071",
        "filename": "api/voip/voip_engine_factory.cc",
        "patchSetId": 6
      },
      "lineNbr": 58,
      "author": {
        "id": 10558
      },
      "writtenOn": "2020-04-29T00:47:37Z",
      "side": 1,
      "message": "This means initialization on audio device failed which would be this will result in no audio in put and output. I would consider it as a fatal error that renders further processing useless. Please let me know your thought.",
      "parentUuid": "40901309_94f702a8",
      "revId": "92443dd8b79a723e89d63556f4a0b902802a2ead",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "115ebd42_e5e8b51e",
        "filename": "api/voip/voip_engine_factory.cc",
        "patchSetId": 6
      },
      "lineNbr": 58,
      "author": {
        "id": 5126
      },
      "writtenOn": "2020-04-29T09:12:57Z",
      "side": 1,
      "message": "OK, that initializing the audio device could fail feels legitimate. Thanks.",
      "parentUuid": "3f901b21_1fe17071",
      "revId": "92443dd8b79a723e89d63556f4a0b902802a2ead",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d8c31b9b_bc0193e1",
        "filename": "api/voip/voip_engine_factory.h",
        "patchSetId": 6
      },
      "lineNbr": 43,
      "author": {
        "id": 5126
      },
      "writtenOn": "2020-04-28T11:22:04Z",
      "side": 1,
      "message": "This seems a bit complicated, and forces all callers to pay for the binary size of the default. peah@, what\u0027s your take? Do we need to support both null audio processing and default audio processing in case the user doesn\u0027t provide one, or would it be better to just have the former?",
      "revId": "92443dd8b79a723e89d63556f4a0b902802a2ead",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a70f5dd3_53a6e8a4",
        "filename": "api/voip/voip_engine_factory.h",
        "patchSetId": 6
      },
      "lineNbr": 43,
      "author": {
        "id": 5126
      },
      "writtenOn": "2020-04-28T11:51:38Z",
      "side": 1,
      "message": "I had a chat with peah@, and we agreed that not having a default implementation would be best. So the caller can either provide an implementation, or nullptr (meaning no audio processing).\n\npeah@ also points out that this should be scoped_refptr, not unique_ptr.",
      "parentUuid": "d8c31b9b_bc0193e1",
      "revId": "92443dd8b79a723e89d63556f4a0b902802a2ead",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7e1c89d5_4091a748",
        "filename": "api/voip/voip_engine_factory.h",
        "patchSetId": 6
      },
      "lineNbr": 43,
      "author": {
        "id": 10558
      },
      "writtenOn": "2020-04-29T00:47:37Z",
      "side": 1,
      "message": "Thanks, that sounds good. btw does caller have access to default audio processing and audio device implementation or are we planning to add them to api directory soon?",
      "parentUuid": "a70f5dd3_53a6e8a4",
      "revId": "92443dd8b79a723e89d63556f4a0b902802a2ead",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "355322c3_4a9d40a4",
        "filename": "api/voip/voip_engine_factory.h",
        "patchSetId": 6
      },
      "lineNbr": 43,
      "author": {
        "id": 5126
      },
      "writtenOn": "2020-04-29T09:12:57Z",
      "side": 1,
      "message": "They should be available: https://webrtc.googlesource.com/src/+/master/native-api.md",
      "parentUuid": "7e1c89d5_4091a748",
      "revId": "92443dd8b79a723e89d63556f4a0b902802a2ead",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "32c2ccf5_79ab8ff1",
        "filename": "api/voip/voip_engine_factory.h",
        "patchSetId": 6
      },
      "lineNbr": 46,
      "author": {
        "id": 5126
      },
      "writtenOn": "2020-04-28T11:22:04Z",
      "side": 1,
      "message": "Can the \"not set\" case be indicated by nullptr instead, so that we can skip the absl::optional wrapper?",
      "revId": "92443dd8b79a723e89d63556f4a0b902802a2ead",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "74ddbd58_5b75919e",
        "filename": "api/voip/voip_engine_factory.h",
        "patchSetId": 6
      },
      "lineNbr": 46,
      "author": {
        "id": 5126
      },
      "writtenOn": "2020-04-28T11:51:38Z",
      "side": 1,
      "message": "Actually, it would make sense to remove the default implementation here too. That would bring us to zero default implementations, which is nice and symmetrical. It\u0027s also the general direction the whole WebRTC is glacially heading towards, so it feels like a smart move when establishing a new API.",
      "parentUuid": "32c2ccf5_79ab8ff1",
      "revId": "92443dd8b79a723e89d63556f4a0b902802a2ead",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce4d2365_a78381da",
        "filename": "api/voip/voip_engine_factory.h",
        "patchSetId": 6
      },
      "lineNbr": 46,
      "author": {
        "id": 10558
      },
      "writtenOn": "2020-04-29T00:47:37Z",
      "side": 1,
      "message": "Will do, thanks.",
      "parentUuid": "74ddbd58_5b75919e",
      "revId": "92443dd8b79a723e89d63556f4a0b902802a2ead",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}