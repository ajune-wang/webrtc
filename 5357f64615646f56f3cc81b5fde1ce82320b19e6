{
  "comments": [
    {
      "key": {
        "uuid": "b2ba547b_9e8d26b4",
        "filename": "media/base/videocapturer.cc",
        "patchSetId": 6
      },
      "lineNbr": 181,
      "author": {
        "id": 7332
      },
      "writtenOn": "2018-07-16T14:33:16Z",
      "side": 1,
      "message": "What about factoring that? I.e. provide a function IsSimulcastScreenShareEnabled, so that both the field name and the policy (enabled vs disabled by default) have a single source of truth.",
      "revId": "5357f64615646f56f3cc81b5fde1ce82320b19e6",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3c34f49c_735e44d3",
        "filename": "media/base/videocapturer.cc",
        "patchSetId": 6
      },
      "lineNbr": 181,
      "author": {
        "id": 5117
      },
      "writtenOn": "2018-07-17T07:45:45Z",
      "side": 1,
      "message": "Since it\u0027s only an experiment code, which will be deleted after some time, I don\u0027t see the merit to do this.",
      "parentUuid": "b2ba547b_9e8d26b4",
      "revId": "5357f64615646f56f3cc81b5fde1ce82320b19e6",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9d6d12be_8b18cecd",
        "filename": "media/base/videocapturer.cc",
        "patchSetId": 6
      },
      "lineNbr": 181,
      "author": {
        "id": 7285
      },
      "writtenOn": "2018-07-17T09:05:17Z",
      "side": 1,
      "message": "All code should be deleted after some time :) More seriously, some merits of DRY:\n\n* Prevent a typo after copy/pasting\n* Prevent forgetting to update one of the copy\n* Less lines to review\n* More: https://www.artima.com/intv/dry.html\n\nBonus: we could group all these switches in one place.\n\nSo, you might not feel the need for this particular instance, but at least for next time (even temporary code) I believe this is worth it.",
      "parentUuid": "3c34f49c_735e44d3",
      "revId": "5357f64615646f56f3cc81b5fde1ce82320b19e6",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "896adb19_6ca22e82",
        "filename": "media/base/videocapturer.cc",
        "patchSetId": 6
      },
      "lineNbr": 181,
      "author": {
        "id": 5117
      },
      "writtenOn": "2018-07-17T09:39:20Z",
      "side": 1,
      "message": "I could make a separate function which will be just a synonym for that !...IsDisabled(...).\n\nBut I couldn\u0027t reuse it in other places. The media/engine/simulcast.cc already has the same function. But reusing it would introduce more dependencies between modules. Having them just for the sake of this experiment is unacceptable. \n\nTheoretically, we could instead define these specific functions for each experiment in webrtc::field_trial, e.g. IsSimulcastScreenshareEnabled(). \n\nUsually it doesn\u0027t worth it since most of the field trials are contained in one place in the code, some use group names to set parameters values and require some additional processing, so simple isEnabled will not suffice in that case.\n\nIt also will require changes to some api headers instead of local changes contained within each team, which would also complicate reviews.\n\nFinally, this is a huge refactoring work, which shouldn\u0027t be a part of a \"Switch experiment on by default CL\".",
      "parentUuid": "9d6d12be_8b18cecd",
      "revId": "5357f64615646f56f3cc81b5fde1ce82320b19e6",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ffd93920_59ed90fc",
        "filename": "video/full_stack_tests.cc",
        "patchSetId": 6
      },
      "lineNbr": 568,
      "author": {
        "id": 7332
      },
      "writtenOn": "2018-07-16T14:33:16Z",
      "side": 1,
      "message": "Question: does it mean that once launched, we won\u0027t be able to explicitly disable it anymore?",
      "revId": "5357f64615646f56f3cc81b5fde1ce82320b19e6",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "650b241d_47025bc4",
        "filename": "video/full_stack_tests.cc",
        "patchSetId": 6
      },
      "lineNbr": 568,
      "author": {
        "id": 5117
      },
      "writtenOn": "2018-07-17T07:45:45Z",
      "side": 1,
      "message": "My bad, it is only used in conference mode: there it will be unable to disable it once it\u0027s launched.\n\nSo these tests should stay because they cover non-conference mode.\n\nAlso, because it will be always on, we are initially launching it with a kill switch. After some time, if no problems would be found, I\u0027ll remove all the experiment related code.",
      "parentUuid": "ffd93920_59ed90fc",
      "revId": "5357f64615646f56f3cc81b5fde1ce82320b19e6",
      "serverId": "58829da1-049c-39fb-b951-ebdcd0984767",
      "unresolved": false
    }
  ]
}